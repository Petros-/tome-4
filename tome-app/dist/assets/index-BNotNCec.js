(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function RE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function gb(){if(A0)return Bl;A0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var S0;function _b(){return S0||(S0=1,cm.exports=gb()),cm.exports}var z=_b(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function yb(){if(R0)return Re;R0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function L(x,ne,de){this.props=x,this.context=ne,this.refs=K,this.updater=de||D}L.prototype.isReactComponent={},L.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function W(x,ne,de){this.props=x,this.context=ne,this.refs=K,this.updater=de||D}var X=W.prototype=new Q;X.constructor=W,k(X,L.prototype),X.isPureReactComponent=!0;var se=Array.isArray,ae={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function O(x,ne,de,oe,le,Ce){return de=Ce.ref,{$$typeof:i,type:x,key:ne,ref:de!==void 0?de:null,props:Ce}}function R(x,ne){return O(x.type,ne,void 0,void 0,void 0,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function I(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(de){return ne[de]})}var V=/\/+/g;function B(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):ne.toString(36)}function N(){}function Tt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function mt(x,ne,de,oe,le){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var Se=!1;if(x===null)Se=!0;else switch(Ce){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(x.$$typeof){case i:case e:Se=!0;break;case E:return Se=x._init,mt(Se(x._payload),ne,de,oe,le)}}if(Se)return le=le(x),Se=oe===""?"."+B(x,0):oe,se(le)?(de="",Se!=null&&(de=Se.replace(V,"$&/")+"/"),mt(le,ne,de,"",function(at){return at})):le!=null&&(A(le)&&(le=R(le,de+(le.key==null||x&&x.key===le.key?"":(""+le.key).replace(V,"$&/")+"/")+Se)),ne.push(le)),1;Se=0;var pt=oe===""?".":oe+":";if(se(x))for(var ze=0;ze<x.length;ze++)oe=x[ze],Ce=pt+B(oe,ze),Se+=mt(oe,ne,de,Ce,le);else if(ze=S(x),typeof ze=="function")for(x=ze.call(x),ze=0;!(oe=x.next()).done;)oe=oe.value,Ce=pt+B(oe,ze++),Se+=mt(oe,ne,de,Ce,le);else if(Ce==="object"){if(typeof x.then=="function")return mt(Tt(x),ne,de,oe,le);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function re(x,ne,de){if(x==null)return x;var oe=[],le=0;return mt(x,oe,"","",function(Ce){return ne.call(de,Ce,le++)}),oe}function Ee(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(de){(x._status===0||x._status===-1)&&(x._status=1,x._result=de)},function(de){(x._status===0||x._status===-1)&&(x._status=2,x._result=de)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var pe=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return Re.Children={map:re,forEach:function(x,ne,de){re(x,function(){ne.apply(this,arguments)},de)},count:function(x){var ne=0;return re(x,function(){ne++}),ne},toArray:function(x){return re(x,function(ne){return ne})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,ne,de){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var oe=k({},x.props),le=x.key,Ce=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Ce=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!_e.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(oe[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)oe.children=de;else if(1<Se){for(var pt=Array(Se),ze=0;ze<Se;ze++)pt[ze]=arguments[ze+2];oe.children=pt}return O(x.type,le,void 0,void 0,Ce,oe)},Re.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,ne,de){var oe,le={},Ce=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ce=""+ne.key),ne)_e.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Se=arguments.length-2;if(Se===1)le.children=de;else if(1<Se){for(var pt=Array(Se),ze=0;ze<Se;ze++)pt[ze]=arguments[ze+2];le.children=pt}if(x&&x.defaultProps)for(oe in Se=x.defaultProps,Se)le[oe]===void 0&&(le[oe]=Se[oe]);return O(x,Ce,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=A,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:Ee}},Re.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Re.startTransition=function(x){var ne=ae.T,de={};ae.T=de;try{var oe=x(),le=ae.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(He,pe)}catch(Ce){pe(Ce)}finally{ae.T=ne}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(x){return ae.H.use(x)},Re.useActionState=function(x,ne,de){return ae.H.useActionState(x,ne,de)},Re.useCallback=function(x,ne){return ae.H.useCallback(x,ne)},Re.useContext=function(x){return ae.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,ne){return ae.H.useDeferredValue(x,ne)},Re.useEffect=function(x,ne){return ae.H.useEffect(x,ne)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(x,ne,de){return ae.H.useImperativeHandle(x,ne,de)},Re.useInsertionEffect=function(x,ne){return ae.H.useInsertionEffect(x,ne)},Re.useLayoutEffect=function(x,ne){return ae.H.useLayoutEffect(x,ne)},Re.useMemo=function(x,ne){return ae.H.useMemo(x,ne)},Re.useOptimistic=function(x,ne){return ae.H.useOptimistic(x,ne)},Re.useReducer=function(x,ne,de){return ae.H.useReducer(x,ne,de)},Re.useRef=function(x){return ae.H.useRef(x)},Re.useState=function(x){return ae.H.useState(x)},Re.useSyncExternalStore=function(x,ne,de){return ae.H.useSyncExternalStore(x,ne,de)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.0.0",Re}var C0;function hp(){return C0||(C0=1,hm.exports=yb()),hm.exports}var H=hp(),fm={exports:{}},ql={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function vb(){return I0||(I0=1,function(i){function e(re,Ee){var pe=re.length;re.push(Ee);e:for(;0<pe;){var He=pe-1>>>1,x=re[He];if(0<o(x,Ee))re[He]=Ee,re[pe]=x,pe=He;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],pe=re.pop();if(pe!==Ee){re[0]=pe;e:for(var He=0,x=re.length,ne=x>>>1;He<ne;){var de=2*(He+1)-1,oe=re[de],le=de+1,Ce=re[le];if(0>o(oe,pe))le<x&&0>o(Ce,oe)?(re[He]=Ce,re[le]=pe,He=le):(re[He]=oe,re[de]=pe,He=de);else if(le<x&&0>o(Ce,pe))re[He]=Ce,re[le]=pe,He=le;else break e}}return Ee}function o(re,Ee){var pe=re.sortIndex-Ee.sortIndex;return pe!==0?pe:re.id-Ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,w=null,S=3,D=!1,k=!1,K=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function X(re){for(var Ee=n(g);Ee!==null;){if(Ee.callback===null)s(g);else if(Ee.startTime<=re)s(g),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(g)}}function se(re){if(K=!1,X(re),!k)if(n(p)!==null)k=!0,Tt();else{var Ee=n(g);Ee!==null&&mt(se,Ee.startTime-re)}}var ae=!1,_e=-1,O=5,R=-1;function A(){return!(i.unstable_now()-R<O)}function I(){if(ae){var re=i.unstable_now();R=re;var Ee=!0;try{e:{k=!1,K&&(K=!1,Q(_e),_e=-1),D=!0;var pe=S;try{t:{for(X(re),w=n(p);w!==null&&!(w.expirationTime>re&&A());){var He=w.callback;if(typeof He=="function"){w.callback=null,S=w.priorityLevel;var x=He(w.expirationTime<=re);if(re=i.unstable_now(),typeof x=="function"){w.callback=x,X(re),Ee=!0;break t}w===n(p)&&s(p),X(re)}else s(p);w=n(p)}if(w!==null)Ee=!0;else{var ne=n(g);ne!==null&&mt(se,ne.startTime-re),Ee=!1}}break e}finally{w=null,S=pe,D=!1}Ee=void 0}}finally{Ee?V():ae=!1}}}var V;if(typeof W=="function")V=function(){W(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=I,V=function(){N.postMessage(null)}}else V=function(){L(I,0)};function Tt(){ae||(ae=!0,V())}function mt(re,Ee){_e=L(function(){re(i.unstable_now())},Ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){k||D||(k=!0,Tt())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(re){switch(S){case 1:case 2:case 3:var Ee=3;break;default:Ee=S}var pe=S;S=Ee;try{return re()}finally{S=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=S;S=re;try{return Ee()}finally{S=pe}},i.unstable_scheduleCallback=function(re,Ee,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,re){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=pe+x,re={id:E++,callback:Ee,priorityLevel:re,startTime:pe,expirationTime:x,sortIndex:-1},pe>He?(re.sortIndex=pe,e(g,re),n(p)===null&&re===n(g)&&(K?(Q(_e),_e=-1):K=!0,mt(se,pe-He))):(re.sortIndex=x,e(p,re),k||D||(k=!0,Tt())),re},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(re){var Ee=S;return function(){var pe=S;S=Ee;try{return re.apply(this,arguments)}finally{S=pe}}}}(mm)),mm}var D0;function Eb(){return D0||(D0=1,dm.exports=vb()),dm.exports}var pm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Tb(){if(N0)return Yt;N0=1;var i=hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var O0;function wb(){if(O0)return pm.exports;O0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pm.exports=Tb(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function bb(){if(x0)return ql;x0=1;var i=Eb(),e=hp(),n=wb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case K:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case S:return(t._context.displayName||"Context")+".Consumer";case k:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return r=t.displayName||null,r!==null?r:R(t.type)||"Memo";case W:r=t._payload,t=t._init;try{return R(t(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,B;function N(t){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+B}var Tt=!1;function mt(t,r){if(!t||Tt)return"";Tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var F=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){F=$}t.call(te.prototype)}}else{try{throw Error()}catch($){F=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),P=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===P.length)for(l=C.length-1,f=P.length-1;1<=l&&0<=f&&C[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==P[f]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Tt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=mt(t.type,!1),t;case 11:return t=mt(t.type.render,!1),t;case 1:return t=mt(t.type,!0),t;default:return""}}function Ee(t){try{var r="";do r+=re(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function He(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function x(t){if(pe(t)!==t)throw Error(s(188))}function ne(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return x(f),t;if(d===l)return x(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function de(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=de(t),r!==null)return r;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Se=[],pt=-1;function ze(t){return{current:t}}function at(t){0>pt||(t.current=Se[pt],Se[pt]=null,pt--)}function Ke(t,r){pt++,Se[pt]=t.current,t.current=r}var en=ze(null),Ci=ze(null),bn=ze(null),cr=ze(null);function hr(t,r){switch(Ke(bn,r),Ke(Ci,t),Ke(en,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Jy(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=Jy(t),r=e0(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}at(en),Ke(en,r)}function Ii(){at(en),at(Ci),at(bn)}function Po(t){t.memoizedState!==null&&Ke(cr,t);var r=en.current,a=e0(r,t.type);r!==a&&(Ke(Ci,t),Ke(en,a))}function pa(t){Ci.current===t&&(at(en),at(Ci)),cr.current===t&&(at(cr),Pl._currentValue=Ce)}var ga=Object.prototype.hasOwnProperty,gs=i.unstable_scheduleCallback,_a=i.unstable_cancelCallback,ff=i.unstable_shouldYield,Lo=i.unstable_requestPaint,un=i.unstable_now,Nu=i.unstable_getCurrentPriorityLevel,wt=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Ou=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,df=i.log,_s=i.unstable_setDisableYieldValue,fr=null,Qt=null;function zo(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(fr,t,void 0,(t.current.flags&128)===128)}catch{}}function ti(t){if(typeof df=="function"&&_s(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(fr,t)}catch{}}var tn=Math.clz32?Math.clz32:ku,jo=Math.log,xu=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(jo(t)/xu|0)|0}var ni=128,dr=4194304;function qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?l=qn(a):(d&=T,d!==0?l=qn(d):t||(v=T&~v,v!==0&&(l=qn(v))))):(T=a&~f,T!==0?l=qn(T):d!==0?l=qn(d):t||(v=a&~v,v!==0&&(l=qn(v)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,v=r&-r,f>=v||f===32&&(v&4194176)!==0)?r:l}function mr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function ya(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=ni;return ni<<=1,(ni&4194176)===0&&(ni=128),t}function pr(){var t=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),t}function va(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mu(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-tn(a),te=1<<Y;T[Y]=0,C[Y]=-1;var F=P[Y];if(F!==null)for(P[Y]=null,Y=0;Y<F.length;Y++){var $=F[Y];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&gr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function gr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-tn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function _r(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Vu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:y0(t.type))}function yr(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var ii=Math.random().toString(36).slice(2),xt="__reactFiber$"+ii,bt="__reactProps$"+ii,Ni="__reactContainer$"+ii,ys="__reactEvents$"+ii,Ea="__reactListeners$"+ii,ri="__reactHandles$"+ii,qo="__reactResources$"+ii,vr="__reactMarker$"+ii;function vs(t){delete t[xt],delete t[bt],delete t[ys],delete t[Ea],delete t[ri]}function Hn(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ni]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=i0(t);t!==null;){if(a=t[xt])return a;t=i0(t)}return r}t=a,a=t.parentNode}return null}function Oi(t){if(t=t[xt]||t[Ni]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Er(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Tr(t){var r=t[qo];return r||(r=t[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function tt(t){t[vr]=!0}var Ho=new Set,Ta={};function mn(t,r){cn(t,r),cn(t+"Capture",r)}function cn(t,r){for(Ta[t]=r,t=0;t<r.length;t++)Ho.add(r[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Lu(t){return ga.call(Go,t)?!0:ga.call(Fo,t)?!1:mf.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function wr(t,r,a){if(Lu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function br(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Sn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(t){var r=Uu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Es(t){t._valueTracker||(t._valueTracker=pf(t))}function Ko(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Uu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function ot(t){return t.replace(xi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ar(t,r,a,l,f,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?ba(t,v,nn(r)):a!=null?ba(t,v,nn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function Ts(t,r,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ba(t,r,a){r==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function je(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ws(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function Sr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Rn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Qo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function Aa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Mi=null;function Vi(t){var r=Oi(t);if(r&&(t=r.stateNode)){var a=t[bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ot(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[bt]||null;if(!f)throw Error(s(90));Ar(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ko(l)}break e;case"textarea":ws(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&je(t,!!a.multiple,r,!1)}}}var Yo=!1;function ju(t,r,a){if(Yo)return t(r,a);Yo=!0;try{var l=t(r);return l}finally{if(Yo=!1,(ki!==null||Mi!==null)&&(Oc(),ki&&(r=ki,t=Mi,Mi=ki=null,Vi(r),t)))for(r=0;r<t.length;r++)Vi(t[r])}}function bs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var In=!1;if(pn)try{var As={};Object.defineProperty(As,"passive",{get:function(){In=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{In=!1}var ai=null,Rr=null,Pi=null;function Xo(){if(Pi)return Pi;var t,r=Rr,a=r.length,l,f="value"in ai?ai.value:ai.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Pi=f.slice(t,1<l?1-l:void 0)}function oi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Wo(){return!1}function kt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:Wo,this.isPropagationStopped=Wo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=kt(Fe),Ss=I({},Fe,{view:0,detail:0}),Bu=kt(Ss),Ra,Ca,ui,Rs=I({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(Ra=t.screenX-ui.screenX,Ca=t.screenY-ui.screenY):Ca=Ra=0,ui=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Dn=kt(Rs),qu=I({},Rs,{dataTransfer:0}),vf=kt(qu),Cs=I({},Ss,{relatedTarget:0}),Ia=kt(Cs),Zo=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=kt(Zo),Hu=I({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=kt(Hu),Ef=I({},Fe,{data:0}),Jo=kt(Ef),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Gu[t])?!!r[t]:!1}function Ds(){return el}var Ku=I({},Ss,{key:function(t){if(t.key){var r=Is[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=oi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?oi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=kt(Ku),Qu=I({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=kt(Qu),Li=I({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),$u=kt(Li),Yu=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=kt(Yu),Wu=I({},Rs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=kt(Wu),rn=I({},Fe,{newState:0,oldState:0}),Zu=kt(rn),Ju=[9,13,27,32],ci=pn&&"CompositionEvent"in window,c=null;pn&&"documentMode"in document&&(c=document.documentMode);var _=pn&&"TextEvent"in window&&!c,y=pn&&(!ci||c&&8<c&&11>=c),b=" ",j=!1;function G(t,r){switch(t){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function At(t,r){switch(t){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(j=!0,b);case"textInput":return t=r.data,t===b&&j?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!ci&&G(t,r)?(t=Xo(),Pi=Rr=ai=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function Ui(t,r,a,l){ki?Mi?Mi.push(l):Mi=[l]:ki=l,r=Pc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var jt=null,hi=null;function nl(t){$y(t,0)}function ec(t){var r=Er(t);if(Ko(r))return t}function bg(t,r){if(t==="change")return r}var Ag=!1;if(pn){var Tf;if(pn){var wf="oninput"in document;if(!wf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),wf=typeof Sg.oninput=="function"}Tf=wf}else Tf=!1;Ag=Tf&&(!document.documentMode||9<document.documentMode)}function Rg(){jt&&(jt.detachEvent("onpropertychange",Cg),hi=jt=null)}function Cg(t){if(t.propertyName==="value"&&ec(hi)){var r=[];Ui(r,hi,t,Aa(t)),ju(nl,r)}}function K1(t,r,a){t==="focusin"?(Rg(),jt=r,hi=a,jt.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function Q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(hi)}function $1(t,r){if(t==="click")return ec(r)}function Y1(t,r){if(t==="input"||t==="change")return ec(r)}function X1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var gn=typeof Object.is=="function"?Object.is:X1;function il(t,r){if(gn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ga.call(r,f)||!gn(t[f],r[f]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,r){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Ng(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ng(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=wa(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=wa(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function W1(t,r){var a=Og(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&Ng(r.ownerDocument.documentElement,r)){if(l!==null&&bf(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!a.extend&&d>l&&(f=l,l=d,d=f),f=Dg(r,d);var v=Dg(r,l);f&&v&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Z1=pn&&"documentMode"in document&&11>=document.documentMode,ka=null,Af=null,rl=null,Sf=!1;function xg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||ka==null||ka!==wa(l)||(l=ka,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Pc(Af,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ka)))}function Ns(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ma={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Rf={},kg={};pn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Os(t){if(Rf[t])return Rf[t];if(!Ma[t])return t;var r=Ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return Rf[t]=r[a];return t}var Mg=Os("animationend"),Vg=Os("animationiteration"),Pg=Os("animationstart"),J1=Os("transitionrun"),ew=Os("transitionstart"),tw=Os("transitioncancel"),Lg=Os("transitionend"),Ug=new Map,zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(t,r){Ug.set(t,r),mn(r,[t])}var Nn=[],Va=0,Cf=0;function tc(){for(var t=Va,r=Cf=Va=0;r<t;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&jg(a,f,d)}}function nc(t,r,a,l){Nn[Va++]=t,Nn[Va++]=r,Nn[Va++]=a,Nn[Va++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return nc(t,r,a,l),ic(t)}function Cr(t,r){return nc(t,null,null,r),ic(t)}function jg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&r!==null&&t.tag===3&&(d=t.stateNode,f=31-tn(a),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[r]:t.push(r),r.lane=a|536870912)}function ic(t){if(50<Dl)throw Dl=0,Md=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Pa={},Bg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ee(r)},Bg.set(t,r),r)}return{value:t,source:r,stack:Ee(r)}}var La=[],Ua=0,rc=null,sc=0,xn=[],kn=0,xs=null,zi=1,ji="";function ks(t,r){La[Ua++]=sc,La[Ua++]=rc,rc=t,sc=r}function qg(t,r,a){xn[kn++]=zi,xn[kn++]=ji,xn[kn++]=xs,xs=t;var l=zi;t=ji;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,zi=1<<32-tn(r)+f|a<<f|l,ji=d+t}else zi=1<<d|a<<f|l,ji=t}function Df(t){t.return!==null&&(ks(t,1),qg(t,1,0))}function Nf(t){for(;t===rc;)rc=La[--Ua],La[Ua]=null,sc=La[--Ua],La[Ua]=null;for(;t===xs;)xs=xn[--kn],xn[kn]=null,ji=xn[--kn],xn[kn]=null,zi=xn[--kn],xn[kn]=null}var sn=null,Bt=null,Be=!1,Gn=null,fi=!1,Of=Error(s(519));function Ms(t){var r=Error(s(418,""));throw ol(On(r,t)),Of}function Hg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[bt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Ol.length;a++)ke(Ol[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Es(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Sr(r,l.value,l.defaultValue,l.children),Es(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Zy(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Lc),r=!0):r=!1,r||Ms(t)}function Fg(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:fi=!0;return;case 5:case 13:fi=!1;return;default:sn=sn.return}}function sl(t){if(t!==sn)return!1;if(!Be)return Fg(t),Be=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Bt&&Ms(t),Fg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Bt=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Bt=null}}else Bt=sn?Qn(t.stateNode.nextSibling):null;return!0}function al(){Bt=sn=null,Be=!1}function ol(t){Gn===null?Gn=[t]:Gn.push(t)}var ll=Error(s(460)),Gg=Error(s(474)),xf={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function Qg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ll?Error(s(483)):t;default:if(typeof r.status=="string")r.then(ac,ac);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ll?Error(s(483)):t}throw ul=r,ll}}var ul=null;function $g(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}var za=null,cl=0;function oc(t){var r=cl;return cl+=1,za===null&&(za=[]),Qg(za,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Yg(t){var r=t._init;return r(t._payload)}function Xg(t){function r(U,M){if(t){var q=U.deletions;q===null?(U.deletions=[M],U.flags|=16):q.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=zr(U,M),U.index=0,U.sibling=null,U}function d(U,M,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<M?(U.flags|=33554434,M):q):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function T(U,M,q,Z){return M===null||M.tag!==6?(M=Rd(q,U.mode,Z),M.return=U,M):(M=f(M,q),M.return=U,M)}function C(U,M,q,Z){var he=q.type;return he===p?Y(U,M,q.props.children,Z,q.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===W&&Yg(he)===M.type)?(M=f(M,q.props),hl(M,q),M.return=U,M):(M=Rc(q.type,q.key,q.props,null,U.mode,Z),hl(M,q),M.return=U,M)}function P(U,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Cd(q,U.mode,Z),M.return=U,M):(M=f(M,q.children||[]),M.return=U,M)}function Y(U,M,q,Z,he){return M===null||M.tag!==7?(M=Fs(q,U.mode,Z,he),M.return=U,M):(M=f(M,q),M.return=U,M)}function te(U,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rd(""+M,U.mode,q),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return q=Rc(M.type,M.key,M.props,null,U.mode,q),hl(q,M),q.return=U,q;case m:return M=Cd(M,U.mode,q),M.return=U,M;case W:var Z=M._init;return M=Z(M._payload),te(U,M,q)}if(oe(M)||_e(M))return M=Fs(M,U.mode,q,null),M.return=U,M;if(typeof M.then=="function")return te(U,oc(M),q);if(M.$$typeof===D)return te(U,bc(U,M),q);lc(U,M)}return null}function F(U,M,q,Z){var he=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:T(U,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===he?C(U,M,q,Z):null;case m:return q.key===he?P(U,M,q,Z):null;case W:return he=q._init,q=he(q._payload),F(U,M,q,Z)}if(oe(q)||_e(q))return he!==null?null:Y(U,M,q,Z,null);if(typeof q.then=="function")return F(U,M,oc(q),Z);if(q.$$typeof===D)return F(U,M,bc(U,q),Z);lc(U,q)}return null}function $(U,M,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(q)||null,T(M,U,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return U=U.get(Z.key===null?q:Z.key)||null,C(M,U,Z,he);case m:return U=U.get(Z.key===null?q:Z.key)||null,P(M,U,Z,he);case W:var De=Z._init;return Z=De(Z._payload),$(U,M,q,Z,he)}if(oe(Z)||_e(Z))return U=U.get(q)||null,Y(M,U,Z,he,null);if(typeof Z.then=="function")return $(U,M,q,oc(Z),he);if(Z.$$typeof===D)return $(U,M,q,bc(M,Z),he);lc(M,Z)}return null}function fe(U,M,q,Z){for(var he=null,De=null,me=M,ye=M=0,Lt=null;me!==null&&ye<q.length;ye++){me.index>ye?(Lt=me,me=null):Lt=me.sibling;var qe=F(U,me,q[ye],Z);if(qe===null){me===null&&(me=Lt);break}t&&me&&qe.alternate===null&&r(U,me),M=d(qe,M,ye),De===null?he=qe:De.sibling=qe,De=qe,me=Lt}if(ye===q.length)return a(U,me),Be&&ks(U,ye),he;if(me===null){for(;ye<q.length;ye++)me=te(U,q[ye],Z),me!==null&&(M=d(me,M,ye),De===null?he=me:De.sibling=me,De=me);return Be&&ks(U,ye),he}for(me=l(me);ye<q.length;ye++)Lt=$(me,U,ye,q[ye],Z),Lt!==null&&(t&&Lt.alternate!==null&&me.delete(Lt.key===null?ye:Lt.key),M=d(Lt,M,ye),De===null?he=Lt:De.sibling=Lt,De=Lt);return t&&me.forEach(function(Kr){return r(U,Kr)}),Be&&ks(U,ye),he}function be(U,M,q,Z){if(q==null)throw Error(s(151));for(var he=null,De=null,me=M,ye=M=0,Lt=null,qe=q.next();me!==null&&!qe.done;ye++,qe=q.next()){me.index>ye?(Lt=me,me=null):Lt=me.sibling;var Kr=F(U,me,qe.value,Z);if(Kr===null){me===null&&(me=Lt);break}t&&me&&Kr.alternate===null&&r(U,me),M=d(Kr,M,ye),De===null?he=Kr:De.sibling=Kr,De=Kr,me=Lt}if(qe.done)return a(U,me),Be&&ks(U,ye),he;if(me===null){for(;!qe.done;ye++,qe=q.next())qe=te(U,qe.value,Z),qe!==null&&(M=d(qe,M,ye),De===null?he=qe:De.sibling=qe,De=qe);return Be&&ks(U,ye),he}for(me=l(me);!qe.done;ye++,qe=q.next())qe=$(me,U,ye,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?ye:qe.key),M=d(qe,M,ye),De===null?he=qe:De.sibling=qe,De=qe);return t&&me.forEach(function(pb){return r(U,pb)}),Be&&ks(U,ye),he}function ct(U,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var he=q.key;M!==null;){if(M.key===he){if(he=q.type,he===p){if(M.tag===7){a(U,M.sibling),Z=f(M,q.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===W&&Yg(he)===M.type){a(U,M.sibling),Z=f(M,q.props),hl(Z,q),Z.return=U,U=Z;break e}a(U,M);break}else r(U,M);M=M.sibling}q.type===p?(Z=Fs(q.props.children,U.mode,Z,q.key),Z.return=U,U=Z):(Z=Rc(q.type,q.key,q.props,null,U.mode,Z),hl(Z,q),Z.return=U,U=Z)}return v(U);case m:e:{for(he=q.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(U,M.sibling),Z=f(M,q.children||[]),Z.return=U,U=Z;break e}else{a(U,M);break}else r(U,M);M=M.sibling}Z=Cd(q,U.mode,Z),Z.return=U,U=Z}return v(U);case W:return he=q._init,q=he(q._payload),ct(U,M,q,Z)}if(oe(q))return fe(U,M,q,Z);if(_e(q)){if(he=_e(q),typeof he!="function")throw Error(s(150));return q=he.call(q),be(U,M,q,Z)}if(typeof q.then=="function")return ct(U,M,oc(q),Z);if(q.$$typeof===D)return ct(U,M,bc(U,q),Z);lc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(U,M.sibling),Z=f(M,q),Z.return=U,U=Z):(a(U,M),Z=Rd(q,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,M)}return function(U,M,q,Z){try{cl=0;var he=ct(U,M,q,Z);return za=null,he}catch(me){if(me===ll)throw me;var De=Ln(29,me,null,U.mode);return De.lanes=Z,De.return=U,De}finally{}}}var Vs=Xg(!0),Wg=Xg(!1),ja=ze(null),uc=ze(0);function Zg(t,r){t=Wi,Ke(uc,t),Ke(ja,r),Wi=t|r.baseLanes}function kf(){Ke(uc,Wi),Ke(ja,ja.current)}function Mf(){Wi=uc.current,at(ja),at(uc)}var Mn=ze(null),di=null;function Ir(t){var r=t.alternate;Ke(Rt,Rt.current&1),Ke(Mn,t),di===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(di=t)}function Jg(t){if(t.tag===22){if(Ke(Rt,Rt.current),Ke(Mn,t),di===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(di=t)}}else Dr()}function Dr(){Ke(Rt,Rt.current),Ke(Mn,Mn.current)}function Bi(t){at(Mn),di===t&&(di=null),at(Rt)}var Rt=ze(0);function cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var nw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},iw=i.unstable_scheduleCallback,rw=i.unstable_NormalPriority,Ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new nw,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&iw(rw,function(){t.controller.abort()})}var dl=null,Pf=0,Ba=0,qa=null;function sw(t,r){if(dl===null){var a=dl=[];Pf=0,Ba=qd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,r.then(e_,e_),r}function e_(){if(--Pf===0&&dl!==null){qa!==null&&(qa.status="fulfilled");var t=dl;dl=null,Ba=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function aw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var t_=A.S;A.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sw(t,r),t_!==null&&t_(t,r)};var Ps=ze(null);function Lf(){var t=Ps.current;return t!==null?t:Xe.pooledCache}function hc(t,r){r===null?Ke(Ps,Ps.current):Ke(Ps,r.pool)}function n_(){var t=Lf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Nr=0,Ie=null,Qe=null,gt=null,fc=!1,Ha=!1,Ls=!1,dc=0,ml=0,Fa=null,ow=0;function ft(){throw Error(s(321))}function Uf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!gn(t[a],r[a]))return!1;return!0}function zf(t,r,a,l,f,d){return Nr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=t===null||t.memoizedState===null?Us:Or,Ls=!1,d=a(l,f),Ls=!1,Ha&&(d=r_(r,a,l,f)),i_(t),d}function i_(t){A.H=mi;var r=Qe!==null&&Qe.next!==null;if(Nr=0,gt=Qe=Ie=null,fc=!1,ml=0,Fa=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&wc(t)&&(Vt=!0))}function r_(t,r,a,l){Ie=t;var f=0;do{if(Ha&&(Fa=null),ml=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,gt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=zs,d=r(a,l)}while(Ha);return d}function lw(){var t=A.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),r}function jf(){var t=dc!==0;return dc=0,t}function Bf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function qf(t){if(fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}fc=!1}Nr=0,gt=Qe=Ie=null,Ha=!1,ml=dc=0,Fa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function _t(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var r=gt===null?Ie.memoizedState:gt.next;if(r!==null)gt=r,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}var mc;mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function pl(t){var r=ml;return ml+=1,Fa===null&&(Fa=[]),t=Qg(Fa,t,r),r=Ie,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Us:Or),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===D)return $t(t)}throw Error(s(438,String(t)))}function Hf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=mc(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=se;return r.index++,a}function qi(t,r){return typeof r=="function"?r(t):r}function gc(t){var r=_t();return Ff(r,Qe,t)}function Ff(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=v=null,C=null,P=r,Y=!1;do{var te=P.lane&-536870913;if(te!==P.lane?(Le&te)===te:(Nr&te)===te){var F=P.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),te===Ba&&(Y=!0);else if((Nr&F)===F){P=P.next,F===Ba&&(Y=!0);continue}else te={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=te,v=d):C=C.next=te,Ie.lanes|=F,jr|=F;te=P.action,Ls&&a(d,te),d=P.hasEagerState?P.eagerState:a(d,te)}else F={lane:te,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=F,v=d):C=C.next=F,Ie.lanes|=te,jr|=te;P=P.next}while(P!==null&&P!==r);if(C===null?v=d:C.next=T,!gn(d,t.memoizedState)&&(Vt=!0,Y&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);gn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function s_(t,r,a){var l=Ie,f=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!gn((Qe||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,$f(l_.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,o_.bind(null,l,f,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Nr&60)!==0||a_(l,r,a)}return a}function a_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=mc(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function o_(t,r,a,l){r.value=a,r.getSnapshot=l,u_(r)&&c_(t)}function l_(t,r,a){return a(function(){u_(r)&&c_(t)})}function u_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!gn(t,a)}catch{return!0}}function c_(t){var r=Cr(t,2);r!==null&&an(r,t,2)}function Kf(t){var r=hn();if(typeof t=="function"){var a=t;if(t=a(),Ls){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},r}function h_(t,r,a,l){return t.baseState=a,Ff(t,Qe,typeof l=="function"?l:qi)}function uw(t,r,a,l,f){if(vc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,f_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function f_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=A.T,v={};A.T=v;try{var T=a(f,l),C=A.S;C!==null&&C(v,T),d_(t,r,T)}catch(P){Qf(t,r,P)}finally{A.T=d}}else try{d=a(f,l),d_(t,r,d)}catch(P){Qf(t,r,P)}}function d_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){m_(t,r,l)},function(l){return Qf(t,r,l)}):m_(t,r,a)}function m_(t,r,a){r.status="fulfilled",r.value=a,p_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,f_(t,a)))}function Qf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,p_(r),r=r.next;while(r!==l)}t.action=null}function p_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function g_(t,r){return r}function __(t,r){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(Be){if(Bt){t:{for(var f=Bt,d=fi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Bt=Qn(f.nextSibling),l=f.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:r},a.queue=l,a=V_.bind(null,Ie,l),l.dispatch=a,l=Kf(!1),d=Jf.bind(null,Ie,!1,l.queue),l=hn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=uw.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function y_(t){var r=_t();return v_(r,Qe,t)}function v_(t,r,a){r=Ff(t,r,g_)[0],t=gc(qi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?pl(r):r;var l=_t(),f=l.queue,d=f.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Ga(9,cw.bind(null,f,a),{destroy:void 0},null)),[r,d,t]}function cw(t,r){t.action=r}function E_(t){var r=_t(),a=Qe;if(a!==null)return v_(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ga(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Ie.updateQueue,r===null&&(r=mc(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function T_(){return _t().memoizedState}function _c(t,r,a,l){var f=hn();Ie.flags|=t,f.memoizedState=Ga(1|r,a,{destroy:void 0},l===void 0?null:l)}function yc(t,r,a,l){var f=_t();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&Uf(l,Qe.memoizedState.deps)?f.memoizedState=Ga(r,a,d,l):(Ie.flags|=t,f.memoizedState=Ga(1|r,a,d,l))}function w_(t,r){_c(8390656,8,t,r)}function $f(t,r){yc(2048,8,t,r)}function b_(t,r){return yc(4,2,t,r)}function A_(t,r){return yc(4,4,t,r)}function S_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function R_(t,r,a){a=a!=null?a.concat([t]):null,yc(4,4,S_.bind(null,r,t),a)}function Yf(){}function C_(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Uf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function I_(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Uf(r,l[1]))return l[0];if(l=t(),Ls){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[l,r],l}function Xf(t,r,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Ny(),Ie.lanes|=t,jr|=t,a)}function D_(t,r,a,l){return gn(a,r)?a:ja.current!==null?(t=Xf(t,a,l),gn(t,r)||(Vt=!0),t):(Nr&42)===0?(Vt=!0,t.memoizedState=a):(t=Ny(),Ie.lanes|=t,jr|=t,r)}function N_(t,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var v=A.T,T={};A.T=T,Jf(t,!1,r,a);try{var C=f(),P=A.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=aw(C,l);gl(t,r,Y,En(t))}else gl(t,r,l,En(t))}catch(te){gl(t,r,{then:function(){},status:"rejected",reason:te},En())}finally{le.p=d,A.T=v}}function hw(){}function Wf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=O_(t).queue;N_(t,f,r,Ce,a===null?hw:function(){return x_(t),a(l)})}function O_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function x_(t){var r=O_(t).next.queue;gl(t,r,{},En())}function Zf(){return $t(Pl)}function k_(){return _t().memoizedState}function M_(){return _t().memoizedState}function fw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=Mr(a);var l=Vr(r,t,a);l!==null&&(an(l,r,a),vl(l,r,a)),r={cache:Vf()},t.payload=r;return}r=r.return}}function dw(t,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?P_(r,a):(a=If(t,r,a,l),a!==null&&(an(a,t,l),L_(a,r,l)))}function V_(t,r,a){var l=En();gl(t,r,a,l)}function gl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))P_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,v))return nc(t,r,f,0),Xe===null&&tc(),!1}catch{}finally{}if(a=If(t,r,f,l),a!==null)return an(a,t,l),L_(a,r,l),!0}return!1}function Jf(t,r,a,l){if(l={lane:2,revertLane:qd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&an(r,t,2)}function vc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function P_(t,r){Ha=fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function L_(t,r,a){if((a&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,_r(t,a)}}var mi={readContext:$t,use:pc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft};mi.useCacheRefresh=ft,mi.useMemoCache=ft,mi.useHostTransitionStatus=ft,mi.useFormState=ft,mi.useActionState=ft,mi.useOptimistic=ft;var Us={readContext:$t,use:pc,useCallback:function(t,r){return hn().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:w_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,_c(4194308,4,S_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return _c(4194308,4,t,r)},useInsertionEffect:function(t,r){_c(4,2,t,r)},useMemo:function(t,r){var a=hn();r=r===void 0?null:r;var l=t();if(Ls){ti(!0);try{t()}finally{ti(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=hn();if(a!==void 0){var f=a(r);if(Ls){ti(!0);try{a(r)}finally{ti(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=dw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=hn();return t={current:t},r.memoizedState=t},useState:function(t){t=Kf(t);var r=t.queue,a=V_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(t,r){var a=hn();return Xf(a,t,r)},useTransition:function(){var t=Kf(!1);return t=N_.bind(null,Ie,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=hn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(Le&60)!==0||a_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,w_(l_.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,o_.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=hn(),r=Xe.identifierPrefix;if(Be){var a=ji,l=zi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=dc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=ow++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return hn().memoizedState=fw.bind(null,Ie)}};Us.useMemoCache=Hf,Us.useHostTransitionStatus=Zf,Us.useFormState=__,Us.useActionState=__,Us.useOptimistic=function(t){var r=hn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Jf.bind(null,Ie,!0,a),a.dispatch=r,[t,r]};var Or={readContext:$t,use:pc,useCallback:C_,useContext:$t,useEffect:$f,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:A_,useMemo:I_,useReducer:gc,useRef:T_,useState:function(){return gc(qi)},useDebugValue:Yf,useDeferredValue:function(t,r){var a=_t();return D_(a,Qe.memoizedState,t,r)},useTransition:function(){var t=gc(qi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:s_,useId:k_};Or.useCacheRefresh=M_,Or.useMemoCache=Hf,Or.useHostTransitionStatus=Zf,Or.useFormState=y_,Or.useActionState=y_,Or.useOptimistic=function(t,r){var a=_t();return h_(a,Qe,t,r)};var zs={readContext:$t,use:pc,useCallback:C_,useContext:$t,useEffect:$f,useImperativeHandle:R_,useInsertionEffect:b_,useLayoutEffect:A_,useMemo:I_,useReducer:Gf,useRef:T_,useState:function(){return Gf(qi)},useDebugValue:Yf,useDeferredValue:function(t,r){var a=_t();return Qe===null?Xf(a,t,r):D_(a,Qe.memoizedState,t,r)},useTransition:function(){var t=Gf(qi)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:s_,useId:k_};zs.useCacheRefresh=M_,zs.useMemoCache=Hf,zs.useHostTransitionStatus=Zf,zs.useFormState=E_,zs.useActionState=E_,zs.useOptimistic=function(t,r){var a=_t();return Qe!==null?h_(a,Qe,t,r):(a.baseState=t,[t,a.queue.dispatch])};function ed(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=En(),f=Mr(l);f.payload=r,a!=null&&(f.callback=a),r=Vr(t,f,l),r!==null&&(an(r,t,l),vl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=En(),f=Mr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Vr(t,f,l),r!==null&&(an(r,t,l),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),l=Mr(a);l.tag=2,r!=null&&(l.callback=r),r=Vr(t,l,a),r!==null&&(an(r,t,a),vl(r,t,a))}};function U_(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!il(a,l)||!il(f,d):!0}function z_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&td.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=I({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function j_(t){Ec(t)}function B_(t){console.error(t)}function q_(t){Ec(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function H_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nd(t,r,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function F_(t){return t=Mr(t),t.tag=3,t}function G_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){H_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){H_(r,a,l),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&yl(r,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return di===null?Ld():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),zd(t,l,f)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),zd(t,l,f)),!1}throw Error(s(435,a.tag))}return zd(t,l,f),Ld(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Of&&(t=Error(s(422),{cause:l}),ol(On(t,a)))):(l!==Of&&(r=Error(s(423),{cause:l}),ol(On(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=On(l,a),f=nd(t.stateNode,l,f),_d(t,f),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),Cl===null?Cl=[d]:Cl.push(d),ut!==4&&(ut=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=nd(a.stateNode,l,t),_d(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=F_(f),G_(f,t,a,l),_d(a,f),!1}a=a.return}while(a!==null);return!1}var K_=Error(s(461)),Vt=!1;function qt(t,r,a,l){r.child=t===null?Wg(r,null,a,l):Vs(r,t.child,a,l)}function Q_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return qs(r),l=zf(t,r,a,v,d,f),T=jf(),t!==null&&!Vt?(Bf(t,r,f),Hi(t,r,f)):(Be&&T&&Df(r),r.flags|=1,qt(t,r,l,f),r.child)}function $_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Sd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Y_(t,r,d,l,f)):(t=Rc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!hd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===r.ref)return Hi(t,r,f)}return r.flags|=1,t=zr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Y_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,hd(t,f))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Hi(t,r,f)}return id(t,r,a,l,f)}function X_(t,r,a){var l=r.pendingProps,f=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(_l(t,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return W_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(r,v!==null?v.cachePool:null),v!==null?Zg(r,v):kf(),Jg(r);else return r.lanes=r.childLanes=536870912,W_(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(hc(r,v.cachePool),Zg(r,v),Dr(),r.memoizedState=null):(t!==null&&hc(r,null),kf(),Dr());return qt(t,r,f,a),r.child}function W_(t,r,a,l){var f=Lf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&hc(r,null),kf(),Jg(r),t!==null&&yl(t,r,l,!0),null}function _l(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function id(t,r,a,l,f){return qs(r),a=zf(t,r,a,l,void 0,f),l=jf(),t!==null&&!Vt?(Bf(t,r,f),Hi(t,r,f)):(Be&&l&&Df(r),r.flags|=1,qt(t,r,a,f),r.child)}function Z_(t,r,a,l,f,d){return qs(r),r.updateQueue=null,a=r_(r,l,a,f),i_(t),l=jf(),t!==null&&!Vt?(Bf(t,r,d),Hi(t,r,d)):(Be&&l&&Df(r),r.flags|=1,qt(t,r,a,d),r.child)}function J_(t,r,a,l,f){if(qs(r),r.stateNode===null){var d=Pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},pd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Pa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),Tl(r,l,d,f),El(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=js(a,T);d.props=C;var P=d.context,Y=a.contextType;v=Pa,typeof Y=="object"&&Y!==null&&(v=$t(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&z_(r,d,l,v),kr=!1;var F=r.memoizedState;d.state=F,Tl(r,l,d,f),El(),P=r.memoizedState,T||F!==P||kr?(typeof te=="function"&&(ed(r,a,te,l),P=r.memoizedState),(C=kr||U_(r,a,C,l,F,P,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,gd(t,r),v=r.memoizedProps,Y=js(a,v),d.props=Y,te=r.pendingProps,F=d.context,P=a.contextType,C=Pa,typeof P=="object"&&P!==null&&(C=$t(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||F!==C)&&z_(r,d,l,C),kr=!1,F=r.memoizedState,d.state=F,Tl(r,l,d,f),El();var $=r.memoizedState;v!==te||F!==$||kr||t!==null&&t.dependencies!==null&&wc(t.dependencies)?(typeof T=="function"&&(ed(r,a,T,l),$=r.memoizedState),(Y=kr||U_(r,a,Y,l,F,$,C)||t!==null&&t.dependencies!==null&&wc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,_l(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Vs(r,t.child,null,f),r.child=Vs(r,null,a,f)):qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Hi(t,r,f),t}function ey(t,r,a,l){return al(),r.flags|=256,qt(t,r,a,l),r.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:n_()}}function ad(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function ty(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(f?Ir(r):Dr(),Be){var T=Bt,C;if(C=T){e:{for(C=T,T=fi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Qn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:zi,overflow:ji}:null,retryLane:536870912},C=Ln(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,sn=r,Bt=null,C=!0):C=!1}C||Ms(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,f?(Dr(),f=r.mode,T=ld({mode:"hidden",children:T},f),l=Fs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=sd(a),f.childLanes=ad(t,v,a),r.memoizedState=rd,l):(Ir(r),od(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Ir(r),r.flags&=-257,r=ud(t,r,a)):r.memoizedState!==null?(Dr(),r.child=t.child,r.flags|=128,r=null):(Dr(),f=l.fallback,T=r.mode,l=ld({mode:"visible",children:l.children},T),f=Fs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Vs(r,t.child,null,a),l=r.child,l.memoizedState=sd(a),l.childLanes=ad(t,v,a),r.memoizedState=rd,r=f);else if(Ir(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),r=ud(t,r,a)}else if(Vt||yl(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Cr(t,l),an(v,t,l),K_}T.data==="$?"||Ld(),r=ud(t,r,a)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=Dw.bind(null,t),T._reactRetry=r,r=null):(t=C.treeContext,Bt=Qn(T.nextSibling),sn=r,Be=!0,Gn=null,fi=!1,t!==null&&(xn[kn++]=zi,xn[kn++]=ji,xn[kn++]=xs,zi=t.id,ji=t.overflow,xs=r),r=od(r,l.children),r.flags|=4096);return r}return f?(Dr(),f=l.fallback,T=r.mode,C=t.child,P=C.sibling,l=zr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,P!==null?f=zr(P,f):(f=Fs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=t.child.memoizedState,T===null?T=sd(a):(C=T.cachePool,C!==null?(P=Ct._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=n_(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=ad(t,v,a),r.memoizedState=rd,l):(Ir(r),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function od(t,r){return r=ld({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ld(t,r){return Cy(t,r,0,null)}function ud(t,r,a){return Vs(r,t.child,null,a),t=od(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function ny(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),dd(t.return,r,a)}function cd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function iy(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,a,r);else if(t.tag===19)ny(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),cd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&cc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}cd(r,!0,a,null,d);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),jr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(yl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=zr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function hd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&wc(t)))}function pw(t,r,a){switch(r.tag){case 3:hr(r,r.stateNode.containerInfo),xr(r,Ct,t.memoizedState.cache),al();break;case 27:case 5:Po(r);break;case 4:hr(r,r.stateNode.containerInfo);break;case 10:xr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(r),r.flags|=128,null):(a&r.child.childLanes)!==0?ty(t,r,a):(Ir(r),t=Hi(t,r,a),t!==null?t.sibling:null);Ir(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(yl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return iy(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ke(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,X_(t,r,a);case 24:xr(r,Ct,t.memoizedState.cache)}return Hi(t,r,a)}function ry(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!hd(t,a)&&(r.flags&128)===0)return Vt=!1,pw(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Be&&(r.flags&1048576)!==0&&qg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Sd(l)?(t=js(l,t),r.tag=1,r=J_(null,r,l,t,a)):(r.tag=0,r=id(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===k){r.tag=11,r=Q_(null,r,l,t,a);break e}else if(f===Q){r.tag=14,r=$_(null,r,l,t,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return id(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=js(l,r.pendingProps),J_(t,r,l,f,a);case 3:e:{if(hr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;f=r.memoizedState,l=f.element,gd(t,r),Tl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,xr(r,Ct,d),d!==f.cache&&md(r,[Ct],a,!0),El(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=ey(t,r,d,a);break e}else if(d!==l){l=On(Error(s(424)),r),ol(l),r=ey(t,r,d,a);break e}else for(Bt=Qn(r.stateNode.containerInfo.firstChild),sn=r,Be=!0,Gn=null,fi=!0,a=Wg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(al(),d===l){r=Hi(t,r,a);break e}qt(t,r,d,a)}r=r.child}return r;case 26:return _l(t,r),t===null?(a=o0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Uc(bn.current).createElement(a),l[xt]=r,l[bt]=t,Ht(l,a,t),tt(l),r.stateNode=l):r.memoizedState=o0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Po(r),t===null&&Be&&(l=r.stateNode=r0(r.type,r.pendingProps,bn.current),sn=r,fi=!0,Bt=Qn(l.firstChild)),l=r.pendingProps.children,t!==null||Be?qt(t,r,l,a):r.child=Vs(r,null,l,a),_l(t,r),r.child;case 5:return t===null&&Be&&((f=l=Bt)&&(l=Gw(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,sn=r,Bt=Qn(l.firstChild),fi=!1,f=!0):f=!1),f||Ms(r)),Po(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Wd(f,d)?l=null:v!==null&&Wd(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=zf(t,r,lw,null,null,a),Pl._currentValue=f),_l(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=Bt)&&(a=Kw(a,r.pendingProps,fi),a!==null?(r.stateNode=a,sn=r,Bt=null,t=!0):t=!1),t||Ms(r)),null;case 13:return ty(t,r,a);case 4:return hr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Vs(r,null,l,a):qt(t,r,l,a),r.child;case 11:return Q_(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,xr(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,qs(r),f=$t(f),l=l(f),r.flags|=1,qt(t,r,l,a),r.child;case 14:return $_(t,r,r.type,r.pendingProps,a);case 15:return Y_(t,r,r.type,r.pendingProps,a);case 19:return iy(t,r,a);case 22:return X_(t,r,a);case 24:return qs(r),l=$t(Ct),t===null?(f=Lf(),f===null&&(f=Xe,d=Vf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},pd(r),xr(r,Ct,f)):((t.lanes&a)!==0&&(gd(t,r),Tl(r,null,null,a),El()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),xr(r,Ct,l)):(l=d.cache,xr(r,Ct,l),l!==f.cache&&md(r,[Ct],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var fd=ze(null),Bs=null,Fi=null;function xr(t,r,a){Ke(fd,r._currentValue),r._currentValue=a}function Gi(t){t._currentValue=fd.current,at(fd)}function dd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function md(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),dd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),dd(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function yl(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;gn(f.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(f===cr.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&md(r,t,a,l),r.flags|=262144}function wc(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return sy(Bs,t)}function bc(t,r){return Bs===null&&qs(t),sy(t,r)}function sy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Fi=Fi.next=r;return a}var kr=!1;function pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ic(t),jg(t,null,a),r}return nc(t,l,r,a),ic(t)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,_r(t,a)}}function _d(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var yd=!1;function El(){if(yd){var t=qa;if(t!==null)throw t}}function Tl(t,r,a,l){yd=!1;var f=t.updateQueue;kr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,P=C.next;C.next=null,v===null?d=P:v.next=P,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=P:T.next=P,Y.lastBaseUpdate=C))}if(d!==null){var te=f.baseState;v=0,Y=P=C=null,T=d;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(Le&F)===F:(l&F)===F){F!==0&&F===Ba&&(yd=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,be=T;F=r;var ct=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){te=fe.call(ct,te,F);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,F=typeof fe=="function"?fe.call(ct,te,F):fe,F==null)break e;te=I({},te,F);break e;case 2:kr=!0}}F=T.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(P=Y=$,C=te):Y=Y.next=$,v|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;$=T,T=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Y===null&&(C=te),f.baseState=C,f.firstBaseUpdate=P,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=te}}function ay(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function oy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ay(a[t],r)}function wl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){Ye(r,r.return,T)}}function Pr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=r;var C=a;try{T()}catch(P){Ye(f,C,P)}}}l=l.next}while(l!==d)}}catch(P){Ye(r,r.return,P)}}function ly(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{oy(r,a)}catch(l){Ye(t,t.return,l)}}}function uy(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,r,l)}}function Hs(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(d){Ye(t,r,d)}}function _n(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,r,f)}else a.current=null}function cy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function hy(t,r,a){try{var l=t.stateNode;jw(l,t.type,a,r),l[bt]=r}catch(f){Ye(t,t.return,f)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Lc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ed(t,r,a),t=t.sibling;t!==null;)Ed(t,r,a),t=t.sibling}function Ac(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}var Ki=!1,lt=!1,Td=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Pt=null,my=!1;function gw(t,r){if(t=t.containerInfo,Yd=Fc,t=Og(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,P=0,Y=0,te=t,F=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(T=v+f),te!==d||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),($=te.firstChild)!==null;)F=te,te=$;for(;;){if(te===t)break t;if(F===a&&++P===f&&(T=v),F===d&&++Y===l&&(C=v),($=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=$}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Fc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=js(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ye(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}return fe=my,my=!1,fe}function py(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&wl(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var f=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}l&64&&ly(a),l&512&&Hs(a,a.return);break;case 3:if($i(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{oy(l,t)}catch(T){Ye(a,a.return,T)}}break;case 26:$i(t,a),l&512&&Hs(a,a.return);break;case 27:case 5:$i(t,a),r===null&&l&4&&cy(a),l&512&&Hs(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&yy(t,a);break;case 22:if(f=a.memoizedState!==null||Ki,!f){r=r!==null&&r.memoizedState!==null||lt;var d=Ki,v=lt;Ki=f,(lt=r)&&!v?Lr(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Ki=d,lt=v}l&512&&(a.memoizedProps.mode==="manual"?Hs(a,a.return):_n(a,a.return));break;default:$i(t,a)}}function gy(t){var r=t.alternate;r!==null&&(t.alternate=null,gy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&vs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,yn=!1;function Qi(t,r,a){for(a=a.child;a!==null;)_y(t,r,a),a=a.sibling}function _y(t,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(fr,a)}catch{}switch(a.tag){case 26:lt||_n(a,r),Qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||_n(a,r);var l=yt,f=yn;for(yt=a.stateNode,Qi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);vs(a),yt=l,yn=f;break;case 5:lt||_n(a,r);case 6:f=yt;var d=yn;if(yt=null,Qi(t,r,a),yt=f,yn=d,yt!==null)if(yn)try{t=yt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,r,v)}else try{yt.removeChild(a.stateNode)}catch(v){Ye(a,r,v)}break;case 18:yt!==null&&(yn?(r=yt,a=a.stateNode,r.nodeType===8?Jd(r.parentNode,a):r.nodeType===1&&Jd(r,a),jl(r)):Jd(yt,a.stateNode));break;case 4:l=yt,f=yn,yt=a.stateNode.containerInfo,yn=!0,Qi(t,r,a),yt=l,yn=f;break;case 0:case 11:case 14:case 15:lt||Pr(2,a,r),lt||Pr(4,a,r),Qi(t,r,a);break;case 1:lt||(_n(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uy(a,r,l)),Qi(t,r,a);break;case 21:Qi(t,r,a);break;case 22:lt||_n(a,r),lt=(l=lt)||a.memoizedState!==null,Qi(t,r,a),lt=l;break;default:Qi(t,r,a)}}function yy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){Ye(r,r.return,a)}}function _w(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new dy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new dy),r;default:throw Error(s(435,t.tag))}}function wd(t,r){var a=_w(t);r.forEach(function(l){var f=Nw.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:yt=T.stateNode,yn=!1;break e;case 3:yt=T.stateNode.containerInfo,yn=!0;break e;case 4:yt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(yt===null)throw Error(s(160));_y(d,v,f),yt=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)vy(r,t),r=r.sibling}var Kn=null;function vy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(r,t),Pn(t),l&4&&(Pr(3,t,t.return),wl(3,t),Pr(5,t,t.return));break;case 1:Vn(r,t),Pn(t),l&512&&(lt||a===null||_n(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(Vn(r,t),Pn(t),l&512&&(lt||a===null||_n(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vr]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ht(d,l,a),d[xt]=t,tt(d),l=d;break e;case"link":var v=c0("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;case"meta":if(v=c0("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=f.createElement(l),Ht(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,tt(d),l=d}t.stateNode=l}else h0(f,t.type,t.stateNode);else t.stateNode=u0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h0(f,t.type,t.stateNode):u0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var C=f.firstChild;C;){var P=C.nextSibling,Y=C.nodeName;C[vr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=P}for(var te=t.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Ht(f,te,d),f[xt]=t,f[bt]=d}catch(fe){Ye(t,t.return,fe)}}case 5:if(Vn(r,t),Pn(t),l&512&&(lt||a===null||_n(a,a.return)),t.flags&32){f=t.stateNode;try{Rn(f,"")}catch(fe){Ye(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,hy(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Td=!0);break;case 6:if(Vn(r,t),Pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ye(t,t.return,fe)}}break;case 3:if(Bc=null,f=Kn,Kn=zc(r.containerInfo),Vn(r,t),Kn=f,Pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(fe){Ye(t,t.return,fe)}Td&&(Td=!1,Ey(t));break;case 4:l=Kn,Kn=zc(t.stateNode.containerInfo),Vn(r,t),Pn(t),Kn=l;break;case 12:Vn(r,t),Pn(t);break;case 13:Vn(r,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Od=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 22:if(l&512&&(lt||a===null||_n(a,a.return)),C=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Y=Ki,te=lt,Ki=Y||C,lt=te||P,Vn(r,t),lt=te,Ki=Y,Pn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Ki||lt,a===null||P||r||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){P=a=r;try{if(f=P.stateNode,C)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var $=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(fe){Ye(P,P.return,fe)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(fe){Ye(P,P.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(t,a))));break;case 19:Vn(r,t),Pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 21:break;default:Vn(r,t),Pn(t)}}function Pn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(fy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,d=vd(t);Ac(t,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(Rn(v,""),l.flags&=-33);var T=vd(t);Ac(t,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,P=vd(t);Ed(t,P,C);break;default:throw Error(s(161))}}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ey(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ey(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function $i(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)py(t,r.alternate,r),r=r.sibling}function Ka(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Pr(4,r,r.return),Ka(r);break;case 1:_n(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&uy(r,r.return,a),Ka(r);break;case 26:case 27:case 5:_n(r,r.return),Ka(r);break;case 22:_n(r,r.return),r.memoizedState===null&&Ka(r);break;default:Ka(r)}t=t.sibling}}function Lr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(f,d,a),wl(4,d);break;case 1:if(Lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Ye(l,l.return,P)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ay(C[f],T)}catch(P){Ye(l,l.return,P)}}a&&v&64&&ly(d),Hs(d,d.return);break;case 26:case 27:case 5:Lr(f,d,a),a&&l===null&&v&4&&cy(d),Hs(d,d.return);break;case 12:Lr(f,d,a);break;case 13:Lr(f,d,a),a&&v&4&&yy(f,d);break;case 22:d.memoizedState===null&&Lr(f,d,a),Hs(d,d.return);break;default:Lr(f,d,a)}r=r.sibling}}function bd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Ad(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t))}function Ur(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ty(t,r,a,l),r=r.sibling}function Ty(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ur(t,r,a,l),f&2048&&wl(9,r);break;case 3:Ur(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){Ur(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ye(r,r.return,C)}}else Ur(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Ur(t,r,a,l):bl(t,r):d._visibility&4?Ur(t,r,a,l):(d._visibility|=4,Qa(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&bd(r.alternate,r);break;case 24:Ur(t,r,a,l),f&2048&&Ad(r.alternate,r);break;default:Ur(t,r,a,l)}}function Qa(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,C=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,T,C,f),wl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?Qa(d,v,T,C,f):bl(d,v):(Y._visibility|=4,Qa(d,v,T,C,f)),f&&P&2048&&bd(v.alternate,v);break;case 24:Qa(d,v,T,C,f),f&&P&2048&&Ad(v.alternate,v);break;default:Qa(d,v,T,C,f)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&bd(l.alternate,l);break;case 24:bl(a,l),f&2048&&Ad(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Al=8192;function $a(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 26:$a(t),t.flags&Al&&t.memoizedState!==null&&sb(Kn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var r=Kn;Kn=zc(t.stateNode.containerInfo),$a(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,$a(t),Al=r):$a(t));break;default:$a(t)}}function by(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Sl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,Sy(l,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Sc(t)):Sl(t);break;default:Sl(t)}}function Sc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,Sy(l,t)}by(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Pr(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(r));break;default:Sc(r)}t=t.sibling}}function Sy(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(gy(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}function yw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,r,a,l){return new yw(t,r,a,l)}function Sd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,r){var a=t.alternate;return a===null?(a=Ln(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ry(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Rc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Sd(t)&&(v=1);else if(typeof t=="string")v=ib(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Fs(a.children,f,d,r);case g:v=8,f|=24;break;case E:return t=Ln(12,a,r,f|2),t.elementType=E,t.lanes=d,t;case K:return t=Ln(13,a,r,f),t.elementType=K,t.lanes=d,t;case L:return t=Ln(19,a,r,f),t.elementType=L,t.lanes=d,t;case X:return Cy(a,f,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case D:v=10;break e;case S:v=9;break e;case k:v=11;break e;case Q:v=14;break e;case W:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Ln(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Fs(t,r,a,l){return t=Ln(7,t,l,r),t.lanes=a,t}function Cy(t,r,a,l){t=Ln(22,t,l,r),t.elementType=X,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var v=Cr(d,2);v!==null&&(f._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var v=Cr(d,2);v!==null&&(f._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=f,t}function Rd(t,r,a){return t=Ln(6,t,null,r),t.lanes=a,t}function Cd(t,r,a){return r=Ln(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Yi(t){t.flags|=4}function Iy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f0(r)){if(r=Mn.current,r!==null&&((Le&4194176)===Le?di!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==di))throw ul=xf,Gg;t.flags|=8192}}function Cc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?pr():536870912,t.lanes|=r,Xa|=r)}function Rl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function vw(t,r,a){var l=r.pendingProps;switch(Nf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(r),null;case 1:return nt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(Ct),Ii(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(r)?Yi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gn!==null&&(Vd(Gn),Gn=null))),nt(r),null;case 26:return a=r.memoizedState,t===null?(Yi(r),a!==null?(nt(r),Iy(r,a)):(nt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Yi(r),nt(r),Iy(r,a)):(nt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Yi(r),nt(r),r.flags&=-16777217),null;case 27:pa(r),a=bn.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}t=en.current,sl(r)?Hg(r):(t=r0(f,l,a),r.stateNode=t,Yi(r))}return nt(r),null;case 5:if(pa(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return nt(r),null}if(t=en.current,sl(r))Hg(r);else{switch(f=Uc(bn.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[xt]=r,t[bt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yi(r)}}return nt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=bn.current,sl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zy(t.nodeValue,a)),t||Ms(r)}else t=Uc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return nt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else al(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;nt(r),f=!1}else Gn!==null&&(Vd(Gn),Gn=null),f=!0;if(!f)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),nt(r),null;case 4:return Ii(),t===null&&Kd(r.stateNode.containerInfo),nt(r),null;case 10:return Gi(r.type),nt(r),null;case 19:if(at(Rt),f=r.memoizedState,f===null)return nt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)Rl(f,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=cc(t),d!==null){for(r.flags|=128,Rl(f,!1),t=d.updateQueue,r.updateQueue=t,Cc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Ry(a,t),a=a.sibling;return Ke(Rt,Rt.current&1|2),r.child}t=t.sibling}f.tail!==null&&un()>Ic&&(r.flags|=128,l=!0,Rl(f,!1),r.lanes=4194304)}else{if(!l)if(t=cc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Cc(r,t),Rl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return nt(r),null}else 2*un()-f.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,l=!0,Rl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=un(),r.sibling=null,t=Rt.current,Ke(Rt,l?t&1|2:t&1),r):(nt(r),null);case 22:case 23:return Bi(r),Mf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(nt(r),r.subtreeFlags&6&&(r.flags|=8192)):nt(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&at(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(Ct),nt(r),null;case 25:return null}throw Error(s(156,r.tag))}function Ew(t,r){switch(Nf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Gi(Ct),Ii(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return pa(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));al()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return at(Rt),null;case 4:return Ii(),null;case 10:return Gi(r.type),null;case 22:case 23:return Bi(r),Mf(),t!==null&&at(Ps),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Gi(Ct),null;case 25:return null;default:return null}}function Dy(t,r){switch(Nf(r),r.tag){case 3:Gi(Ct),Ii();break;case 26:case 27:case 5:pa(r);break;case 4:Ii();break;case 13:Bi(r);break;case 19:at(Rt);break;case 10:Gi(r.type);break;case 22:case 23:Bi(r),Mf(),t!==null&&at(Ps);break;case 24:Gi(Ct)}}var Tw={getCacheForType:function(t){var r=$t(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},ww=typeof WeakMap=="function"?WeakMap:Map,it=0,Xe=null,Ne=null,Le=0,We=0,vn=null,Xi=!1,Ya=!1,Id=!1,Wi=0,ut=0,jr=0,Gs=0,Dd=0,Un=0,Xa=0,Cl=null,pi=null,Nd=!1,Od=0,Ic=1/0,Dc=null,Br=null,Nc=!1,Ks=null,Il=0,xd=0,kd=null,Dl=0,Md=null;function En(){if((it&2)!==0&&Le!==0)return Le&-Le;if(A.T!==null){var t=Ba;return t!==0?t:qd()}return Pu()}function Ny(){Un===0&&(Un=(Le&536870912)===0||Be?Bo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Un}function an(t,r,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Zi(t,Le,Un,!1)),ht(t,a),((it&2)===0||t!==Xe)&&(t===Xe&&((it&2)===0&&(Gs|=a),ut===4&&Zi(t,Le,Un,!1)),gi(t))}function Oy(t,r,a){if((it&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||mr(t,r),f=l?Sw(t,r):Ud(t,r,!0),d=l;do{if(f===0){Ya&&!l&&Zi(t,r,0,!1);break}else if(f===6)Zi(t,r,0,!Xi);else{if(a=t.current.alternate,d&&!bw(a)){f=Ud(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;f=Cl;var C=T.current.memoizedState.isDehydrated;if(C&&(Wa(T,v).flags|=256),v=Ud(T,v,!1),v!==2){if(Id&&!C){T.errorRecoveryDisabledLanes|=d,Gs|=d,f=4;break e}d=pi,pi=f,d!==null&&Vd(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){Wa(t,0),Zi(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Zi(l,r,Un,!Xi);break e}break;case 2:pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Od+300-un(),10<d)){if(Zi(l,r,Un,!Xi),An(l,0)!==0)break e;l.timeoutHandle=t0(xy.bind(null,l,a,pi,Dc,Nd,r,Un,Gs,Xa,Xi,2,-0,0),d);break e}xy(l,a,pi,Dc,Nd,r,Un,Gs,Xa,Xi,0,-0,0)}}break}while(!0);gi(t)}function Vd(t){pi===null?pi=t:pi.push.apply(pi,t)}function xy(t,r,a,l,f,d,v,T,C,P,Y,te,F){var $=r.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:rb},wy(r),r=ab(),r!==null)){t.cancelPendingCommit=r(zy.bind(null,t,a,l,f,v,T,C,1,te,F)),Zi(t,d,v,!P);return}zy(t,a,l,f,v,T,C,Y,te,F)}function bw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(t,r,a,l){r&=~Dd,r&=~Gs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-tn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&gr(t,a,r)}function Oc(){return(it&6)===0?(Nl(0),!1):!0}function Pd(){if(Ne!==null){if(We===0)var t=Ne.return;else t=Ne,Fi=Bs=null,qf(t),za=null,cl=0,t=Ne;for(;t!==null;)Dy(t.alternate,t),t=t.return;Ne=null}}function Wa(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pd(),Xe=t,Ne=a=zr(t.current,null),Le=r,We=0,vn=null,Xi=!1,Ya=mr(t,r),Id=!1,Xa=Un=Dd=Gs=jr=ut=0,pi=Cl=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-tn(l),d=1<<f;r|=t[f],l&=~d}return Wi=r,tc(),a}function ky(t,r){Ie=null,A.H=mi,r===ll?(r=$g(),We=3):r===Gg?(r=$g(),We=4):We=r===K_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ne===null&&(ut=1,Tc(t,On(r,t.current)))}function My(){var t=A.H;return A.H=mi,t===null?mi:t}function Vy(){var t=A.A;return A.A=Tw,t}function Ld(){ut=4,Xi||(Le&4194176)!==Le&&Mn.current!==null||(Ya=!0),(jr&134217727)===0&&(Gs&134217727)===0||Xe===null||Zi(Xe,Le,Un,!1)}function Ud(t,r,a){var l=it;it|=2;var f=My(),d=Vy();(Xe!==t||Le!==r)&&(Dc=null,Wa(t,r)),r=!1;var v=ut;e:do try{if(We!==0&&Ne!==null){var T=Ne,C=vn;switch(We){case 8:Pd(),v=6;break e;case 3:case 2:case 6:Mn.current===null&&(r=!0);var P=We;if(We=0,vn=null,Za(t,T,C,P),a&&Ya){v=0;break e}break;default:P=We,We=0,vn=null,Za(t,T,C,P)}}Aw(),v=ut;break}catch(Y){ky(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Fi=Bs=null,it=l,A.H=f,A.A=d,Ne===null&&(Xe=null,Le=0,tc()),v}function Aw(){for(;Ne!==null;)Py(Ne)}function Sw(t,r){var a=it;it|=2;var l=My(),f=Vy();Xe!==t||Le!==r?(Dc=null,Ic=un()+500,Wa(t,r)):Ya=mr(t,r);e:do try{if(We!==0&&Ne!==null){r=Ne;var d=vn;t:switch(We){case 1:We=0,vn=null,Za(t,r,d,1);break;case 2:if(Kg(d)){We=0,vn=null,Ly(r);break}r=function(){We===2&&Xe===t&&(We=7),gi(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Kg(d)?(We=0,vn=null,Ly(r)):(We=0,vn=null,Za(t,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||f0(v)){We=0,vn=null;var C=T.sibling;if(C!==null)Ne=C;else{var P=T.return;P!==null?(Ne=P,xc(P)):Ne=null}break t}}We=0,vn=null,Za(t,r,d,5);break;case 6:We=0,vn=null,Za(t,r,d,6);break;case 8:Pd(),ut=6;break e;default:throw Error(s(462))}}Rw();break}catch(Y){ky(t,Y)}while(!0);return Fi=Bs=null,A.H=l,A.A=f,it=a,Ne!==null?0:(Xe=null,Le=0,tc(),ut)}function Rw(){for(;Ne!==null&&!ff();)Py(Ne)}function Py(t){var r=ry(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,r===null?xc(t):Ne=r}function Ly(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Z_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Z_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:qf(r);default:Dy(a,r),r=Ne=Ry(r,Wi),r=ry(a,r,Wi)}t.memoizedProps=t.pendingProps,r===null?xc(t):Ne=r}function Za(t,r,a,l){Fi=Bs=null,qf(r),za=null,cl=0;var f=r.return;try{if(mw(t,f,r,a,Le)){ut=1,Tc(t,On(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ut=1,Tc(t,On(a,t.current)),Ne=null;return}r.flags&32768?(Be||l===1?t=!0:Ya||(Le&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(r,t)):xc(r)}function xc(t){var r=t;do{if((r.flags&32768)!==0){Uy(r,Xi);return}t=r.return;var a=vw(r.alternate,r,Wi);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ut===0&&(ut=5)}function Uy(t,r){do{var a=Ew(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function zy(t,r,a,l,f,d,v,T,C,P){var Y=A.T,te=le.p;try{le.p=2,A.T=null,Cw(t,r,a,l,te,f,d,v,T,C,P)}finally{A.T=Y,le.p=te}}function Cw(t,r,a,l,f,d,v,T){do Ja();while(Ks!==null);if((it&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=Cf,Mu(t,l,P,d,v,T),t===Xe&&(Ne=Xe=null,Le=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Nc||(Nc=!0,xd=P,kd=a,Ow(Di,function(){return Ja(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,v=it,it|=4,gw(t,C),vy(C,t),W1(Xd,t.containerInfo),Fc=!!Yd,Xd=Yd=null,t.current=C,py(t,C.alternate,C),Lo(),it=v,le.p=d,A.T=a):t.current=C,Nc?(Nc=!1,Ks=t,Il=l):jy(t,P),P=t.pendingLanes,P===0&&(Br=null),zo(C.stateNode),gi(t),r!==null)for(f=t.onRecoverableError,C=0;C<r.length;C++)P=r[C],f(P.value,{componentStack:P.stack});return(Il&3)!==0&&Ja(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Md?Dl++:(Dl=0,Md=t):Dl=0,Nl(0),null}function jy(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fl(r)))}function Ja(){if(Ks!==null){var t=Ks,r=xd;xd=0;var a=Vu(Il),l=A.T,f=le.p;try{if(le.p=32>a?32:a,A.T=null,Ks===null)var d=!1;else{a=kd,kd=null;var v=Ks,T=Il;if(Ks=null,Il=0,(it&6)!==0)throw Error(s(331));var C=it;if(it|=4,Ay(v.current),Ty(v,v.current,T,a),it=C,Nl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(fr,v)}catch{}d=!0}return d}finally{le.p=f,A.T=l,jy(t,r)}}return!1}function By(t,r,a){r=On(a,r),r=nd(t.stateNode,r,2),t=Vr(t,r,2),t!==null&&(ht(t,2),gi(t))}function Ye(t,r,a){if(t.tag===3)By(t,t,a);else for(;r!==null;){if(r.tag===3){By(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=On(a,t),a=F_(2),l=Vr(r,a,2),l!==null&&(G_(a,l,r,t),ht(l,2),gi(l));break}}r=r.return}}function zd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ww;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Id=!0,f.add(a),t=Iw.bind(null,t,r,a),r.then(t,t))}function Iw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>un()-Od?(it&2)===0&&Wa(t,0):Dd|=a,Xa===Le&&(Xa=0)),gi(t)}function qy(t,r){r===0&&(r=pr()),t=Cr(t,r),t!==null&&(ht(t,r),gi(t))}function Dw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),qy(t,a)}function Nw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),qy(t,a)}function Ow(t,r){return gs(t,r)}var kc=null,eo=null,jd=!1,Mc=!1,Bd=!1,Qs=0;function gi(t){t!==eo&&t.next===null&&(eo===null?kc=eo=t:eo=eo.next=t),Mc=!0,jd||(jd=!0,kw(xw))}function Nl(t,r){if(!Bd&&Mc){Bd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=f&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Gy(l,d))}else d=Le,d=An(l,l===Xe?d:0),(d&3)===0||mr(l,d)||(a=!0,Gy(l,d));l=l.next}while(a);Bd=!1}}function xw(){Mc=jd=!1;var t=0;Qs!==0&&(Bw()&&(t=Qs),Qs=0);for(var r=un(),a=null,l=kc;l!==null;){var f=l.next,d=Hy(l,r);d===0?(l.next=null,a===null?kc=f:a.next=f,f===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=f}Nl(t)}function Hy(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,C=f[v];C===-1?((T&a)===0||(T&l)!==0)&&(f[v]=ya(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=Xe,a=Le,a=An(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&We===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_a(l),Vu(a)){case 2:case 8:a=Ot;break;case 32:a=Di;break;case 268435456:a=Uo;break;default:a=Di}return l=Fy.bind(null,t),a=gs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function Fy(t,r){var a=t.callbackNode;if(Ja()&&t.callbackNode!==a)return null;var l=Le;return l=An(t,t===Xe?l:0),l===0?null:(Oy(t,l,r),Hy(t,un()),t.callbackNode!=null&&t.callbackNode===a?Fy.bind(null,t):null)}function Gy(t,r){if(Ja())return null;Oy(t,r,!0)}function kw(t){Hw(function(){(it&6)!==0?gs(wt,t):t()})}function qd(){return Qs===0&&(Qs=Bo()),Qs}function Ky(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:si(""+t)}function Qy(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Mw(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ky((f[bt]||null).action),v=l.submitter;v&&(r=(r=v[bt]||null)?Ky(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Sa("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var C=v?Qy(f,v):new FormData(f);Wf(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Qy(f,v):new FormData(f),Wf(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Hd=0;Hd<zg.length;Hd++){var Fd=zg[Hd],Vw=Fd.toLowerCase(),Pw=Fd[0].toUpperCase()+Fd.slice(1);Fn(Vw,"on"+Pw)}Fn(Mg,"onAnimationEnd"),Fn(Vg,"onAnimationIteration"),Fn(Pg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(J1,"onTransitionRun"),Fn(ew,"onTransitionStart"),Fn(tw,"onTransitionCancel"),Fn(Lg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function $y(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=P;try{d(f)}catch(Y){Ec(Y)}f.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,P=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=P;try{d(f)}catch(Y){Ec(Y)}f.currentTarget=null,d=C}}}}function ke(t,r){var a=r[ys];a===void 0&&(a=r[ys]=new Set);var l=t+"__bubble";a.has(l)||(Yy(r,t,2,!1),a.add(l))}function Gd(t,r,a){var l=0;r&&(l|=4),Yy(a,t,l,r)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[Vc]){t[Vc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vc]||(r[Vc]=!0,Gd("selectionchange",!1,r))}}function Yy(t,r,a,l){switch(y0(r)){case 2:var f=ub;break;case 8:f=cb;break;default:f=sm}a=f.bind(null,r,a,t),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Qd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;T!==null;){if(v=Hn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ju(function(){var P=d,Y=Aa(a),te=[];e:{var F=Ug.get(t);if(F!==void 0){var $=Sa,fe=t;switch(t){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":$=Oa;break;case"focusin":fe="focus",$=Ia;break;case"focusout":fe="blur",$=Ia;break;case"beforeblur":case"afterblur":$=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=$u;break;case Mg:case Vg:case Pg:$=Da;break;case Lg:$=Xu;break;case"scroll":case"scrollend":$=Bu;break;case"wheel":$=xa;break;case"copy":case"cut":case"paste":$=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=tl;break;case"toggle":case"beforetoggle":$=Zu}var be=(r&4)!==0,ct=!be&&(t==="scroll"||t==="scrollend"),U=be?F!==null?F+"Capture":null:F;be=[];for(var M=P,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||U===null||(Z=bs(M,U),Z!=null&&be.push(xl(M,Z,q))),ct)break;M=M.return}0<be.length&&(F=new $(F,fe,null,a,Y),te.push({event:F,listeners:be}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==Cn&&(fe=a.relatedTarget||a.fromElement)&&(Hn(fe)||fe[Ni]))break e;if(($||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=P,fe=fe?Hn(fe):null,fe!==null&&(ct=pe(fe),be=fe.tag,fe!==ct||be!==5&&be!==27&&be!==6)&&(fe=null)):($=null,fe=P),$!==fe)){if(be=Dn,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=tl,Z="onPointerLeave",U="onPointerEnter",M="pointer"),ct=$==null?F:Er($),q=fe==null?F:Er(fe),F=new be(Z,M+"leave",$,a,Y),F.target=ct,F.relatedTarget=q,Z=null,Hn(Y)===P&&(be=new be(U,M+"enter",fe,a,Y),be.target=q,be.relatedTarget=ct,Z=be),ct=Z,$&&fe)t:{for(be=$,U=fe,M=0,q=be;q;q=to(q))M++;for(q=0,Z=U;Z;Z=to(Z))q++;for(;0<M-q;)be=to(be),M--;for(;0<q-M;)U=to(U),q--;for(;M--;){if(be===U||U!==null&&be===U.alternate)break t;be=to(be),U=to(U)}be=null}else be=null;$!==null&&Xy(te,F,$,be,!1),fe!==null&&ct!==null&&Xy(te,ct,fe,be,!0)}}e:{if(F=P?Er(P):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var he=bg;else if(St(F))if(Ag)he=Y1;else{he=Q1;var De=K1}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&$o(P.elementType)&&(he=bg):he=$1;if(he&&(he=he(t,P))){Ui(te,he,a,Y);break e}De&&De(t,F,P),t==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&ba(F,"number",F.value)}switch(De=P?Er(P):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(ka=De,Af=P,rl=null);break;case"focusout":rl=Af=ka=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,xg(te,a,Y);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":xg(te,a,Y)}var me;if(ci)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ve?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Ve||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ve&&(me=Xo()):(ai=Y,Rr="value"in ai?ai.value:ai.textContent,Ve=!0)),De=Pc(P,ye),0<De.length&&(ye=new Jo(ye,t,null,a,Y),te.push({event:ye,listeners:De}),me?ye.data=me:(me=ie(a),me!==null&&(ye.data=me)))),(me=_?At(t,a):Pe(t,a))&&(ye=Pc(P,"onBeforeInput"),0<ye.length&&(De=new Jo("onBeforeInput","beforeinput",null,a,Y),te.push({event:De,listeners:ye}),De.data=me)),Mw(te,t,P,a,Y)}$y(te,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bs(t,a),f!=null&&l.unshift(xl(t,f,d)),f=bs(t,r),f!=null&&l.push(xl(t,f,d))),t=t.return}return l}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xy(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||P===null||(C=P,f?(P=bs(a,d),P!=null&&v.unshift(xl(a,P,C))):f||(P=bs(a,d),P!=null&&v.push(xl(a,P,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Uw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(Uw,`
`).replace(zw,"")}function Zy(t,r){return r=Wy(r),Wy(t)===r}function Lc(){}function $e(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(t,""+l);break;case"className":br(t,"class",l);break;case"tabIndex":br(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(t,a,l);break;case"style":zu(t,l,d);break;case"data":if(r!=="object"){br(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=si(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",f.name,f,null),$e(t,r,"formEncType",f.formEncType,f,null),$e(t,r,"formMethod",f.formMethod,f,null),$e(t,r,"formTarget",f.formTarget,f,null)):($e(t,r,"encType",f.encType,f,null),$e(t,r,"method",f.method,f,null),$e(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=si(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=si(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),wr(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_f.get(a)||a,wr(t,a,l))}}function $d(t,r,a,l,f,d){switch(a){case"style":zu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wr(t,a,l)}}}function Ht(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,v,a,null)}}f&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=v=f=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:$e(t,r,l,Y,a,null)}}Ts(t,d,T,C,P,v,f,!1),Es(t);return;case"select":ke("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,r,f,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?je(t,!!l,r,!1):a!=null&&je(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,r,v,T,a,null)}Sr(t,l,f,d),Es(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,C,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)ke(Ol[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,P,l,a,null)}return;default:if($o(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&$d(t,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,r,T,l,a,null))}function jw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,C=null,P=null,Y=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty($)||$e(t,r,$,null,l,te)}}for(var F in l){var $=l[F];if(te=a[F],l.hasOwnProperty(F)&&($!=null||te!=null))switch(F){case"type":d=$;break;case"name":f=$;break;case"checked":P=$;break;case"defaultChecked":Y=$;break;case"value":v=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&$e(t,r,F,$,l,te)}}Ar(t,v,T,C,P,Y,d,f);return;case"select":$=v=T=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&$e(t,r,f,d,l,C)}r=T,a=v,l=$,F!=null?je(t,!!a,F,!1):!!l!=!!a&&(r!=null?je(t,!!a,r,!0):je(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,r,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(t,r,v,f,l,d)}ws(t,F,$);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:$e(t,r,fe,null,l,F)}for(C in l)if(F=l[C],$=a[C],l.hasOwnProperty(C)&&F!==$&&(F!=null||$!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:$e(t,r,C,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&$e(t,r,be,null,l,F);for(P in l)if(F=l[P],$=a[P],l.hasOwnProperty(P)&&F!==$&&(F!=null||$!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:$e(t,r,P,F,l,$)}return;default:if($o(r)){for(var ct in a)F=a[ct],a.hasOwnProperty(ct)&&F!==void 0&&!l.hasOwnProperty(ct)&&$d(t,r,ct,void 0,l,F);for(Y in l)F=l[Y],$=a[Y],!l.hasOwnProperty(Y)||F===$||F===void 0&&$===void 0||$d(t,r,Y,F,l,$);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&$e(t,r,U,null,l,F);for(te in l)F=l[te],$=a[te],!l.hasOwnProperty(te)||F===$||F==null&&$==null||$e(t,r,te,F,l,$)}var Yd=null,Xd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Wd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Bw(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(t){return n0.resolve(null).then(t).catch(Fw)}:t0;function Fw(t){setTimeout(function(){throw t})}function Jd(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),jl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);jl(r)}function em(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Gw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Kw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function i0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function r0(t,r,a){switch(r=Uc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var zn=new Map,s0=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ji=le.d;le.d={f:Qw,r:$w,D:Yw,C:Xw,L:Ww,m:Zw,X:eb,S:Jw,M:tb};function Qw(){var t=Ji.f(),r=Oc();return t||r}function $w(t){var r=Oi(t);r!==null&&r.tag===5&&r.type==="form"?x_(r):Ji.r(t)}var no=typeof document>"u"?null:document;function a0(t,r,a){var l=no;if(l&&typeof r=="string"&&r){var f=ot(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),s0.has(f)||(s0.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",t),tt(r),l.head.appendChild(r)))}}function Yw(t){Ji.D(t),a0("dns-prefetch",t,null)}function Xw(t,r){Ji.C(t,r),a0("preconnect",t,r)}function Ww(t,r,a){Ji.L(t,r,a);var l=no;if(l&&t&&r){var f='link[rel="preload"][as="'+ot(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ot(a.imageSizes)+'"]')):f+='[href="'+ot(t)+'"]';var d=f;switch(r){case"style":d=io(t);break;case"script":d=ro(t)}zn.has(d)||(t=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),zn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),Ht(r,"link",t),tt(r),l.head.appendChild(r)))}}function Zw(t,r){Ji.m(t,r);var a=no;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ot(l)+'"][href="'+ot(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!zn.has(d)&&(t=I({rel:"modulepreload",href:t},r),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Ht(l,"link",t),tt(l),a.head.appendChild(l)}}}function Jw(t,r,a){Ji.S(t,r,a);var l=no;if(l&&t){var f=Tr(l).hoistableStyles,d=io(t);r=r||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(kl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},a),(a=zn.get(d))&&tm(t,a);var C=v=l.createElement("link");tt(C),Ht(C,"link",t),C._p=new Promise(function(P,Y){C.onload=P,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function eb(t,r){Ji.X(t,r);var a=no;if(a&&t){var l=Tr(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(t=I({src:t,async:!0},r),(r=zn.get(f))&&nm(t,r),d=a.createElement("script"),tt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tb(t,r){Ji.M(t,r);var a=no;if(a&&t){var l=Tr(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(t=I({src:t,async:!0,type:"module"},r),(r=zn.get(f))&&nm(t,r),d=a.createElement("script"),tt(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function o0(t,r,a,l){var f=(f=bn.current)?zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=Tr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=Tr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(kl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||nb(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=Tr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+ot(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function l0(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function nb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),tt(r),t.head.appendChild(r))}function ro(t){return'[src="'+ot(t)+'"]'}function Ml(t){return"script[async]"+t}function u0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ot(a.href)+'"]');if(l)return r.instance=l,tt(l),l;var f=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),tt(l),Ht(l,"style",f),jc(l,a.precedence,t),r.instance=l;case"stylesheet":f=io(a.href);var d=t.querySelector(kl(f));if(d)return r.state.loading|=4,r.instance=d,tt(d),d;l=l0(a),(f=zn.get(f))&&tm(l,f),d=(t.ownerDocument||t).createElement("link"),tt(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(d,"link",l),r.state.loading|=4,jc(d,a.precedence,t),r.instance=d;case"script":return d=ro(a.src),(f=t.querySelector(Ml(d)))?(r.instance=f,tt(f),f):(l=a,(f=zn.get(d))&&(l=I({},a),nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),tt(f),Ht(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,t));return r.instance}function jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Bc=null;function c0(t,r,a){if(Bc===null){var l=new Map,f=Bc=new Map;f.set(a,l)}else f=Bc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[vr]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function h0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function ib(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function f0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function rb(){}function sb(t,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=io(a.href),d=t.querySelector(kl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,tt(d);return}d=t.ownerDocument||t,a=l0(a),(f=zn.get(f))&&tm(a,f),d=d.createElement("link"),tt(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=qc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function ab(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function im(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,r.forEach(ob,t),Hc=null,qc.call(t))}function ob(t,r){if(!(r.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function lb(t,r,a,l,f,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function d0(t,r,a,l,f,d,v,T,C,P,Y,te){return t=new lb(t,r,a,v,T,C,P,te),r=1,d===!0&&(r|=24),d=Ln(3,null,null,r),t.current=d,d.stateNode=t,r=Vf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},pd(d),t}function m0(t){return t?(t=Pa,t):Pa}function p0(t,r,a,l,f,d){f=m0(f),l.context===null?l.context=f:l.pendingContext=f,l=Mr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,r),a!==null&&(an(a,t,r),vl(a,t,r))}function g0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function rm(t,r){g0(t,r),(t=t.alternate)&&g0(t,r)}function _0(t){if(t.tag===13){var r=Cr(t,67108864);r!==null&&an(r,t,67108864),rm(t,67108864)}}var Fc=!0;function ub(t,r,a,l){var f=A.T;A.T=null;var d=le.p;try{le.p=2,sm(t,r,a,l)}finally{le.p=d,A.T=f}}function cb(t,r,a,l){var f=A.T;A.T=null;var d=le.p;try{le.p=8,sm(t,r,a,l)}finally{le.p=d,A.T=f}}function sm(t,r,a,l){if(Fc){var f=am(l);if(f===null)Qd(t,r,l,Gc,a),v0(t,l);else if(fb(f,t,r,a,l))l.stopPropagation();else if(v0(t,l),r&4&&-1<hb.indexOf(t)){for(;f!==null;){var d=Oi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=qn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-tn(v);T.entanglements[1]|=C,v&=~C}gi(d),(it&6)===0&&(Ic=un()+500,Nl(0))}}break;case 13:T=Cr(d,2),T!==null&&an(T,d,2),Oc(),rm(d,2)}if(d=am(l),d===null&&Qd(t,r,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Qd(t,r,l,null,a)}}function am(t){return t=Aa(t),om(t)}var Gc=null;function om(t){if(Gc=null,t=Hn(t),t!==null){var r=pe(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=He(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Gc=t,null}function y0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nu()){case wt:return 2;case Ot:return 8;case Di:case Ou:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var lm=!1,qr=null,Hr=null,Fr=null,Ll=new Map,Ul=new Map,Gr=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(t,r){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function zl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Oi(r),r!==null&&_0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function fb(t,r,a,l,f){switch(r){case"focusin":return qr=zl(qr,t,r,a,l,f),!0;case"dragenter":return Hr=zl(Hr,t,r,a,l,f),!0;case"mouseover":return Fr=zl(Fr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,zl(Ll.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,zl(Ul.get(d)||null,t,r,a,l,f)),!0}return!1}function E0(t){var r=Hn(t.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=He(a),r!==null){t.blockedOn=r,yr(t.priority,function(){if(a.tag===13){var l=En(),f=Cr(a,l);f!==null&&an(f,a,l),rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cn=l,a.target.dispatchEvent(l),Cn=null}else return r=Oi(a),r!==null&&_0(r),t.blockedOn=a,!1;r.shift()}return!0}function T0(t,r,a){Kc(t)&&a.delete(r)}function db(){lm=!1,qr!==null&&Kc(qr)&&(qr=null),Hr!==null&&Kc(Hr)&&(Hr=null),Fr!==null&&Kc(Fr)&&(Fr=null),Ll.forEach(T0),Ul.forEach(T0)}function Qc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,db)))}var $c=null;function w0(t){$c!==t&&($c=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===t&&($c=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Oi(a);d!==null&&(t.splice(r,3),r-=3,Wf(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(t){function r(C){return Qc(C,t)}qr!==null&&Qc(qr,t),Hr!==null&&Qc(Hr,t),Fr!==null&&Qc(Fr,t),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)E0(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[bt]||null;if(typeof d=="function")v||w0(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[bt]||null)T=v.formAction;else if(om(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),w0(a)}}}function um(t){this._internalRoot=t}Yc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();p0(a,l,t,r,null,null)},Yc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&Ja(),p0(t.current,2,null,t,null,null),Oc(),r[Ni]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Gr.length&&r!==0&&r<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&E0(t)}};var b0=e.version;if(b0!=="19.0.0")throw Error(s(527,b0,"19.0.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(r),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var mb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{fr=Xc.inject(mb),Qt=Xc}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=j_,d=B_,v=q_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=d0(t,1,!1,null,null,a,l,f,d,v,T,null),t[Ni]=r.current,Kd(t.nodeType===8?t.parentNode:t),new um(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=j_,v=B_,T=q_,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),r=d0(t,1,!0,r,a??null,l,f,d,v,T,C,P),r.context=m0(null),a=r.current,l=En(),f=Mr(l),f.callback=null,Vr(a,f,l),r.current.lanes=l,ht(r,l),gi(r),t[Ni]=r.current,Kd(t),new Yc(r)},ql.version="19.0.0",ql}var k0;function Ab(){if(k0)return fm.exports;k0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=bb(),fm.exports}var Sb=Ab();const Rb=()=>{};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cb=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(S=64)),s.push(n[E],n[w],n[S],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(CE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Cb(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new Ib;const S=u<<2|m>>4;if(s.push(S),g!==64){const D=m<<4&240|g>>2;if(s.push(D),w!==64){const k=g<<6&192|w;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(i){const e=CE(i);return IE.encodeByteArray(e,!0)},vh=function(i){return Db(i).replace(/\./g,"")},DE=function(i){try{return IE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=()=>Nb().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof M0>"u")return;const i=M0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DE(i[1]);return e&&JSON.parse(e)},jh=()=>{try{return Rb()||Ob()||xb()||kb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NE=i=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},OE=i=>{const e=NE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},xE=()=>{var i;return(i=jh())===null||i===void 0?void 0:i.config},kE=i=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Pb(){var i;const e=(i=jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ub(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Bb(){return!Pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="FirebaseError";class Ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fb,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Gb(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ri(o,m,s)}}function Gb(i,e){return i.replace(Kb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Kb=/\{\$([^}]+)}/g;function Qb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(V0(u)&&V0(h)){if(!ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function V0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function $b(i,e){const n=new Yb(i,e);return n.subscribe.bind(n)}class Yb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Xb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=gm),o.error===void 0&&(o.error=gm),o.complete===void 0&&(o.complete=gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xb(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(i){return i&&i._delegate?i._delegate:i}class ss{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Mb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jb(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(i){return i===$s?void 0:i}function Jb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Oe||(Oe={}));const tA={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},nA=Oe.INFO,iA={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},rA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=iA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=nA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const sA=(i,e)=>e.some(n=>i instanceof n);let P0,L0;function aA(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,Pm=new WeakMap,PE=new WeakMap,_m=new WeakMap,dp=new WeakMap;function lA(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(es(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,i)}).catch(()=>{}),dp.set(e,i),e}function uA(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Pm.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||PE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cA(i){Lm=i(Lm)}function hA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ym(this),e,...n);return PE.set(s,e.sort?e.sort():[e]),es(s)}:oA().includes(i)?function(...e){return i.apply(ym(this),e),es(VE.get(this))}:function(...e){return es(i.apply(ym(this),e))}}function fA(i){return typeof i=="function"?hA(i):(i instanceof IDBTransaction&&uA(i),sA(i,aA())?new Proxy(i,Lm):i)}function es(i){if(i instanceof IDBRequest)return lA(i);if(_m.has(i))return _m.get(i);const e=fA(i);return e!==i&&(_m.set(i,e),dp.set(e,i)),e}const ym=i=>dp.get(i);function dA(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=es(h);return s&&h.addEventListener("upgradeneeded",p=>{s(es(h.result),p.oldVersion,p.newVersion,es(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const mA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],vm=new Map;function U0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mA.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}cA(i=>({...i,get:(e,n,s)=>U0(e,n)||i.get(e,n,s),has:(e,n)=>!!U0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_A(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _A(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",z0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new fp("@firebase/app"),yA="@firebase/app-compat",vA="@firebase/analytics-compat",EA="@firebase/analytics",TA="@firebase/app-check-compat",wA="@firebase/app-check",bA="@firebase/auth",AA="@firebase/auth-compat",SA="@firebase/database",RA="@firebase/data-connect",CA="@firebase/database-compat",IA="@firebase/functions",DA="@firebase/functions-compat",NA="@firebase/installations",OA="@firebase/installations-compat",xA="@firebase/messaging",kA="@firebase/messaging-compat",MA="@firebase/performance",VA="@firebase/performance-compat",PA="@firebase/remote-config",LA="@firebase/remote-config-compat",UA="@firebase/storage",zA="@firebase/storage-compat",jA="@firebase/firestore",BA="@firebase/vertexai",qA="@firebase/firestore-compat",HA="firebase",FA="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",GA={[Um]:"fire-core",[yA]:"fire-core-compat",[EA]:"fire-analytics",[vA]:"fire-analytics-compat",[wA]:"fire-app-check",[TA]:"fire-app-check-compat",[bA]:"fire-auth",[AA]:"fire-auth-compat",[SA]:"fire-rtdb",[RA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[IA]:"fire-fn",[DA]:"fire-fn-compat",[NA]:"fire-iid",[OA]:"fire-iid-compat",[xA]:"fire-fcm",[kA]:"fire-fcm-compat",[MA]:"fire-perf",[VA]:"fire-perf-compat",[PA]:"fire-rc",[LA]:"fire-rc-compat",[UA]:"fire-gcs",[zA]:"fire-gcs-compat",[jA]:"fire-fst",[qA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,KA=new Map,jm=new Map;function j0(i,e){try{i.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ta(i){const e=i.name;if(jm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,i);for(const n of Eh.values())j0(n,i);for(const n of KA.values())j0(n,i);return!0}function Bh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new gu("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=FA;function LE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=xE()),!n)throw ts.create("no-options");const u=Eh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const h=new eA(o);for(const p of jm.values())h.addComponent(p);const m=new $A(n,s,h);return Eh.set(o,m),m}function mp(i=zm){const e=Eh.get(i);if(!e&&i===zm&&xE())return LE();if(!e)throw ts.create("no-app",{appName:i});return e}function vi(i,e,n){var s;let o=(s=GA[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(m.join(" "));return}ta(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebase-heartbeat-database",XA=1,su="firebase-heartbeat-store";let Em=null;function UE(){return Em||(Em=dA(YA,XA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Em}async function WA(i){try{const n=(await UE()).transaction(su),s=await n.objectStore(su).get(zE(i));return await n.done,s}catch(e){if(e instanceof Ri)ar.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function B0(i,e){try{const s=(await UE()).transaction(su,"readwrite");await s.objectStore(su).put(e,zE(i)),await s.done}catch(n){if(n instanceof Ri)ar.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(s.message)}}}function zE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,JA=30;class eS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>JA){const h=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q0(),{heartbeatsToSend:s,unsentEntries:o}=tS(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ar.warn(n),""}}}function q0(){return new Date().toISOString().substring(0,10)}function tS(i,e=ZA){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H0(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function iS(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i){ta(new ss("platform-logger",e=>new gA(e),"PRIVATE")),ta(new ss("heartbeat",e=>new eS(e),"PRIVATE")),vi(Um,z0,i),vi(Um,z0,"esm2017"),vi("fire-js","")}rS("");function pp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sS=jE,BE=new gu("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new fp("@firebase/auth");function aS(i,...e){Th.logLevel<=Oe.WARN&&Th.warn(`Auth (${la}): ${i}`,...e)}function ah(i,...e){Th.logLevel<=Oe.ERROR&&Th.error(`Auth (${la}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i,...e){throw gp(i,...e)}function Ei(i,...e){return gp(i,...e)}function qE(i,e,n){const s=Object.assign(Object.assign({},sS()),{[e]:n});return new gu("auth","Firebase",s).create(e,{appName:i.name})}function ir(i){return qE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return BE.create(i,...e)}function ve(i,e,...n){if(!i)throw gp(e,...n)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function or(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function oS(){return F0()==="http:"||F0()==="https:"}function F0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oS()||Ub()||"connection"in navigator)?navigator.onLine:!0}function uS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=Vb()||zb()}get(){return lS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(i,e){or(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new yu(3e4,6e4);function ds(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ms(i,e,n,s,o={}){return FE(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return Lb()||(g.referrerPolicy="no-referrer"),HE.fetch()(GE(i,i.config.apiHost,n,m),g)})}async function FE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},cS),e);try{const o=new dS(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qE(i,E,g);Xn(i,E)}}catch(o){if(o instanceof Ri)throw o;Xn(i,"network-request-failed",{message:String(o)})}}async function vu(i,e,n,s,o={}){const u=await ms(i,e,n,s,o);return"mfaPendingCredential"in u&&Xn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function GE(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?_p(i.config,o):`${i.config.apiScheme}://${o}`}function fS(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),hS.get())})}}function Wc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(i,e,s);return o.customData._tokenResponse=n,o}function G0(i){return i!==void 0&&i.enterprise!==void 0}class mS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pS(i,e){return ms(i,"GET","/v2/recaptchaConfig",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(i,e){return ms(i,"POST","/v1/accounts:delete",e)}async function KE(i,e){return ms(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _S(i,e=!1){const n=Nt(i),s=await n.getIdToken(e),o=yp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Tm(o.auth_time)),issuedAtTime:Jl(Tm(o.iat)),expirationTime:Jl(Tm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(i){return Number(i)*1e3}function yp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=DE(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function K0(i){const e=yp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ri&&yS(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function yS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await au(i,KE(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?QE(u.providerUserInfo):[],m=TS(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new qm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function ES(i){const e=Nt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TS(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function QE(i){return i.map(e=>{var{providerId:n}=e,s=pp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(i,e){const n=await FE(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=GE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",HE.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bS(i,e){return ms(i,"POST","/v2/accounts:revokeToken",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=K0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wS(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new mo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _S(this,e)}reload(){return ES(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await au(this,gS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(h=n.photoURL)!==null&&h!==void 0?h:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:se,isAnonymous:ae,providerData:_e,stsTokenManager:O}=n;ve(X&&O,e,"internal-error");const R=mo.fromJSON(this.name,O);ve(typeof X=="string",e,"internal-error"),Qr(w,e.name),Qr(S,e.name),ve(typeof se=="boolean",e,"internal-error"),ve(typeof ae=="boolean",e,"internal-error"),Qr(D,e.name),Qr(k,e.name),Qr(K,e.name),Qr(L,e.name),Qr(Q,e.name),Qr(W,e.name);const A=new tr({uid:X,auth:e,email:S,emailVerified:se,displayName:w,isAnonymous:ae,photoURL:k,phoneNumber:D,tenantId:K,stsTokenManager:R,createdAt:Q,lastLoginAt:W});return _e&&Array.isArray(_e)&&(A.providerData=_e.map(I=>Object.assign({},I))),L&&(A._redirectEventId=L),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new tr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?QE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function nr(i){or(i instanceof Function,"Expected a class definition");let e=Q0.get(i);return e?(or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Q0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$E.type="NONE";const $0=$E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(nr($0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||nr($0);const h=oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){const w=tr._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e2(e))return"Blackberry";if(t2(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function YE(i=Jt()){return/firefox\//i.test(i)}function XE(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(i=Jt()){return/crios\//i.test(i)}function ZE(i=Jt()){return/iemobile/i.test(i)}function JE(i=Jt()){return/android/i.test(i)}function e2(i=Jt()){return/blackberry/i.test(i)}function t2(i=Jt()){return/webos/i.test(i)}function vp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AS(i=Jt()){var e;return vp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SS(){return jb()&&document.documentMode===10}function n2(i=Jt()){return vp(i)||JE(i)||t2(i)||e2(i)||/windows phone/i.test(i)||ZE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i,e=[]){let n;switch(i){case"Browser":n=Y0(Jt());break;case"Worker":n=`${Y0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(i,e={}){return ms(i,"GET","/v2/passwordPolicy",ds(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=6;class DS{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:IS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new RS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await KE(this,{idToken:e}),s=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ir(this));const n=e?Nt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CS(this),n=new DS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await bS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ua(i){return Nt(i)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=$b(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OS(i){qh=i}function r2(i){return qh.loadJS(i)}function xS(){return qh.recaptchaEnterpriseScript}function kS(){return qh.gapiScript}function MS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class VS{constructor(){this.enterprise=new PS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LS="recaptcha-enterprise",s2="NO_RECAPTCHA";class US{constructor(e){this.type=LS,this.auth=ua(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{pS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new mS(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;G0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(s2)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VS().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&G0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xS();p.length!==0&&(p+=m),r2(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function W0(i,e,n,s=!1,o=!1){const u=new US(i);let h;if(o)h=s2;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await W0(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await W0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(i,e){const n=Bh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function jS(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BS(i,e,n){const s=ua(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=a2(e),{host:h,port:m}=qS(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ea(g,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,HS()}function a2(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qS(i){const e=a2(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Z0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Z0(h)}}}function Z0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function HS(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function FS(i,e){return ms(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(i,e){return vu(i,"POST","/v1/accounts:signInWithPassword",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}async function QS(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",GS);case"emailLink":return KS(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",FS);case"emailLink":return QS(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return vu(i,"POST","/v1/accounts:signInWithIdp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="http://localhost";class na extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=pp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XS(i){const e=Kl(Ql(i)).link,n=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(i)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||n||e||i}class Tp{constructor(e){var n,s,o,u,h,m;const p=Kl(Ql(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=YS((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=XS(e);try{return new Tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return ve(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends o2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Eu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Eu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Eu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(i,e){return vu(i,"POST","/v1/accounts:signUp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await tr._fromIdTokenResponse(e,s,o),h=J0(s);return new ia({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=J0(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function J0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Ri{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function l2(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(i,u,e,s):u})}async function ZS(i,e,n=!1){const s=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(i,e,n=!1){const{auth:s}=i;if(Tn(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await au(i,l2(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=yp(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),ia._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(i,e,n=!1){if(Tn(i.app))return Promise.reject(ir(i));const s="signIn",o=await l2(i,s,e),u=await ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function eR(i,e){return u2(ua(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(i){const e=ua(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tR(i,e,n){if(Tn(i.app))return Promise.reject(ir(i));const s=ua(i),h=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&c2(i),p}),m=await ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function nR(i,e,n){return Tn(i.app)?Promise.reject(ir(i)):eR(Nt(i),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&c2(i),s})}function iR(i,e,n,s){return Nt(i).onIdTokenChanged(e,n,s)}function rR(i,e,n){return Nt(i).beforeAuthStateChanged(e,n)}function h2(i,e,n,s){return Nt(i).onAuthStateChanged(e,n,s)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1e3,aR=10;class d2 extends f2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);SS()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d2.type="LOCAL";const oR=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends f2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m2.type="SESSION";const p2=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await lR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function cR(i){Ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function hR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function dR(){return g2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebaseLocalStorageDb",mR=1,Sh="firebaseLocalStorage",y2="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function pR(){const i=indexedDB.deleteDatabase(_2);return new Tu(i).toPromise()}function Fm(){const i=indexedDB.open(_2,mR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:y2})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await pR(),e(await Fm()))})})}async function ev(i,e,n){const s=Fh(i,!0).put({[y2]:e,value:n});return new Tu(s).toPromise()}async function gR(i,e){const n=Fh(i,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function tv(i,e){const n=Fh(i,!0).delete(e);return new Tu(n).toPromise()}const _R=800,yR=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(dR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hR(),!this.activeServiceWorker)return;this.sender=new uR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await ev(e,Ah,"1"),await tv(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ev(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>gR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const vR=v2;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(i,e){return e?nr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TR(i){return u2(i.auth,new bp(i),i.bypassAuthState)}function wR(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),JS(n,new bp(i),i.bypassAuthState)}async function bR(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),ZS(n,new bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TR;case"linkViaPopup":case"linkViaRedirect":return bR;case"reauthViaPopup":case"reauthViaRedirect":return wR;default:Xn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new yu(2e3,1e4);class ho extends E2{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AR.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="pendingRedirect",lh=new Map;class RR extends E2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await CR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(i,e){const n=NR(e),s=DR(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function IR(i,e){lh.set(i._key(),e)}function DR(i){return nr(i._redirectPersistence)}function NR(i){return oh(SR,i.config.apiKey,i.name)}async function OR(i,e,n=!1){if(Tn(i.app))return Promise.reject(ir(i));const s=ua(i),o=ER(s,e),h=await new RR(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=10*60*1e3;class kR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!T2(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(e))}saveEventToCache(e){this.cachedEventUids.add(nv(e)),this.lastProcessedEventTime=Date.now()}}function nv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function T2({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T2(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(i,e={}){return ms(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LR=/^https?/;async function UR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await VR(i);for(const n of e)try{if(zR(n))return}catch{}Xn(i,"unauthorized-domain")}function zR(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LR.test(n))return!1;if(PR.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new yu(3e4,6e4);function iv(){const i=Ti().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function BR(i){return new Promise((e,n)=>{var s,o,u;function h(){iv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iv(),n(Ei(i,"network-request-failed"))},timeout:jR.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)h();else{const m=MS("iframefcb");return Ti()[m]=()=>{gapi.load?h():n(Ei(i,"network-request-failed"))},r2(`${kS()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function qR(i){return uh=uh||BR(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new yu(5e3,15e3),FR="__/auth/iframe",GR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $R(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?_p(e,GR):`https://${i.config.authDomain}/${FR}`,s={apiKey:e.apiKey,appName:i.name,v:la},o=QR.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function YR(i){const e=await qR(i),n=Ti().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:$R(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ei(i,"network-request-failed"),m=Ti().setTimeout(()=>{u(h)},HR.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WR=500,ZR=600,JR="_blank",eC="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tC(i,e,n,s=WR,o=ZR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},XR),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();n&&(m=WE(g)?JR:n),YE(g)&&(e=e||eC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[D,k])=>`${S}${D}=${k},`,"");if(AS(g)&&m!=="_self")return nC(e||"",m),new rv(null);const w=window.open(e||"",m,E);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new rv(w)}function nC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="__/auth/handler",rC="emulator/auth/handler",sC=encodeURIComponent("fac");async function sv(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:la,eventId:o};if(e instanceof o2){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Qb(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof Eu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${sC}=${encodeURIComponent(p)}`:"";return`${aC(i)}?${_u(m).slice(1)}${g}`}function aC({config:i}){return i.emulator?_p(i,rC):`https://${i.authDomain}/${iC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class oC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p2,this._completeRedirectFn=OR,this._overrideRedirectResult=IR}async _openPopup(e,n,s,o){var u;or((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await sv(e,n,s,Bm(),o);return tC(e,h,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await sv(e,n,s,Bm(),o);return cR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YR(e),s=new kR(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[wm];h!==void 0&&n(!!h),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n2()||XE()||vp()}}const lC=oC;var av="@firebase/auth",ov="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hC(i){ta(new ss("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i2(i)},g=new NS(s,o,u,p);return jS(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ta(new ss("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(s=>new uC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(av,ov,cC(i)),vi(av,ov,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=5*60,dC=kE("authIdTokenMaxAge")||fC;let lv=null;const mC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dC)return;const o=n==null?void 0:n.token;lv!==o&&(lv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pC(i=mp()){const e=Bh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=zS(i,{popupRedirectResolver:lC,persistence:[vR,oR,p2]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=mC(u.toString());rR(n,h,()=>h(n.currentUser)),iR(n,m=>h(m))}}const o=NE("auth");return o&&BS(n,`http://${o}`),n}function gC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}OS({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hC("Browser");var _C="firebase",yC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(_C,yC,"app");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,w2;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function A(){}A.prototype=R.prototype,O.D=R.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(I,V,B){for(var N=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)N[Tt-2]=arguments[Tt];return R.prototype[V].apply(I,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,A){A||(A=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(V=0;16>V;++V)I[V]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=O.g[0],A=O.g[1],V=O.g[2];var B=O.g[3],N=R+(B^A&(V^B))+I[0]+3614090360&4294967295;R=A+(N<<7&4294967295|N>>>25),N=B+(V^R&(A^V))+I[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(A^B&(R^A))+I[2]+606105819&4294967295,V=B+(N<<17&4294967295|N>>>15),N=A+(R^V&(B^R))+I[3]+3250441966&4294967295,A=V+(N<<22&4294967295|N>>>10),N=R+(B^A&(V^B))+I[4]+4118548399&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(V^R&(A^V))+I[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(A^B&(R^A))+I[6]+2821735955&4294967295,V=B+(N<<17&4294967295|N>>>15),N=A+(R^V&(B^R))+I[7]+4249261313&4294967295,A=V+(N<<22&4294967295|N>>>10),N=R+(B^A&(V^B))+I[8]+1770035416&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(V^R&(A^V))+I[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(A^B&(R^A))+I[10]+4294925233&4294967295,V=B+(N<<17&4294967295|N>>>15),N=A+(R^V&(B^R))+I[11]+2304563134&4294967295,A=V+(N<<22&4294967295|N>>>10),N=R+(B^A&(V^B))+I[12]+1804603682&4294967295,R=A+(N<<7&4294967295|N>>>25),N=B+(V^R&(A^V))+I[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=V+(A^B&(R^A))+I[14]+2792965006&4294967295,V=B+(N<<17&4294967295|N>>>15),N=A+(R^V&(B^R))+I[15]+1236535329&4294967295,A=V+(N<<22&4294967295|N>>>10),N=R+(V^B&(A^V))+I[1]+4129170786&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^V&(R^A))+I[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^A&(B^R))+I[11]+643717713&4294967295,V=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(V^B))+I[0]+3921069994&4294967295,A=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(A^V))+I[5]+3593408605&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^V&(R^A))+I[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^A&(B^R))+I[15]+3634488961&4294967295,V=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(V^B))+I[4]+3889429448&4294967295,A=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(A^V))+I[9]+568446438&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^V&(R^A))+I[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^A&(B^R))+I[3]+4107603335&4294967295,V=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(V^B))+I[8]+1163531501&4294967295,A=V+(N<<20&4294967295|N>>>12),N=R+(V^B&(A^V))+I[13]+2850285829&4294967295,R=A+(N<<5&4294967295|N>>>27),N=B+(A^V&(R^A))+I[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=V+(R^A&(B^R))+I[7]+1735328473&4294967295,V=B+(N<<14&4294967295|N>>>18),N=A+(B^R&(V^B))+I[12]+2368359562&4294967295,A=V+(N<<20&4294967295|N>>>12),N=R+(A^V^B)+I[5]+4294588738&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^V)+I[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^A)+I[11]+1839030562&4294967295,V=B+(N<<16&4294967295|N>>>16),N=A+(V^B^R)+I[14]+4259657740&4294967295,A=V+(N<<23&4294967295|N>>>9),N=R+(A^V^B)+I[1]+2763975236&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^V)+I[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^A)+I[7]+4139469664&4294967295,V=B+(N<<16&4294967295|N>>>16),N=A+(V^B^R)+I[10]+3200236656&4294967295,A=V+(N<<23&4294967295|N>>>9),N=R+(A^V^B)+I[13]+681279174&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^V)+I[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^A)+I[3]+3572445317&4294967295,V=B+(N<<16&4294967295|N>>>16),N=A+(V^B^R)+I[6]+76029189&4294967295,A=V+(N<<23&4294967295|N>>>9),N=R+(A^V^B)+I[9]+3654602809&4294967295,R=A+(N<<4&4294967295|N>>>28),N=B+(R^A^V)+I[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=V+(B^R^A)+I[15]+530742520&4294967295,V=B+(N<<16&4294967295|N>>>16),N=A+(V^B^R)+I[2]+3299628645&4294967295,A=V+(N<<23&4294967295|N>>>9),N=R+(V^(A|~B))+I[0]+4096336452&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~V))+I[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~A))+I[14]+2878612391&4294967295,V=B+(N<<15&4294967295|N>>>17),N=A+(B^(V|~R))+I[5]+4237533241&4294967295,A=V+(N<<21&4294967295|N>>>11),N=R+(V^(A|~B))+I[12]+1700485571&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~V))+I[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~A))+I[10]+4293915773&4294967295,V=B+(N<<15&4294967295|N>>>17),N=A+(B^(V|~R))+I[1]+2240044497&4294967295,A=V+(N<<21&4294967295|N>>>11),N=R+(V^(A|~B))+I[8]+1873313359&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~V))+I[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~A))+I[6]+2734768916&4294967295,V=B+(N<<15&4294967295|N>>>17),N=A+(B^(V|~R))+I[13]+1309151649&4294967295,A=V+(N<<21&4294967295|N>>>11),N=R+(V^(A|~B))+I[4]+4149444226&4294967295,R=A+(N<<6&4294967295|N>>>26),N=B+(A^(R|~V))+I[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=V+(R^(B|~A))+I[2]+718787259&4294967295,V=B+(N<<15&4294967295|N>>>17),N=A+(B^(V|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+B&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var A=R-this.blockSize,I=this.B,V=this.h,B=0;B<R;){if(V==0)for(;B<=A;)o(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<R;)if(I[V++]=O.charCodeAt(B++),V==this.blockSize){o(this,I),V=0;break}}else for(;B<R;)if(I[V++]=O[B++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var A=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=A&255,A/=256;for(this.u(O),O=Array(16),R=A=0;4>R;++R)for(var I=0;32>I;I+=8)O[A++]=this.g[R]>>>I&255;return O};function u(O,R){var A=m;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=R(O)}function h(O,R){this.h=R;for(var A=[],I=!0,V=O.length-1;0<=V;V--){var B=O[V]|0;I&&B==R||(A[V]=B,I=!1)}this.g=A}var m={};function p(O){return-128<=O&&128>O?u(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return L(g(-O));for(var R=[],A=1,I=0;O>=A;I++)R[I]=O/A|0,A*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return L(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(R,8)),I=w,V=0;V<O.length;V+=8){var B=Math.min(8,O.length-V),N=parseInt(O.substring(V,V+B),R);8>B?(B=g(Math.pow(R,B)),I=I.j(B).add(g(N))):(I=I.j(A),I=I.add(g(N)))}return I}var w=p(0),S=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-L(this).m();for(var O=0,R=1,A=0;A<this.g.length;A++){var I=this.i(A);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(K(this))return"-"+L(this).toString(O);for(var R=g(Math.pow(O,6)),A=this,I="";;){var V=se(A,R).g;A=Q(A,V.j(R));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=V,k(A))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}i.l=function(O){return O=Q(this,O),K(O)?-1:k(O)?0:1};function L(O){for(var R=O.g.length,A=[],I=0;I<R;I++)A[I]=~O.g[I];return new h(A,~O.h).add(S)}i.abs=function(){return K(this)?L(this):this},i.add=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0,V=0;V<=R;V++){var B=I+(this.i(V)&65535)+(O.i(V)&65535),N=(B>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);I=N>>>16,B&=65535,N&=65535,A[V]=N<<16|B}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(L(R))}i.j=function(O){if(k(this)||k(O))return w;if(K(this))return K(O)?L(this).j(L(O)):L(L(this).j(O));if(K(O))return L(this.j(L(O)));if(0>this.l(D)&&0>O.l(D))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,A=[],I=0;I<2*R;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<O.g.length;V++){var B=this.i(I)>>>16,N=this.i(I)&65535,Tt=O.i(V)>>>16,mt=O.i(V)&65535;A[2*I+2*V]+=N*mt,W(A,2*I+2*V),A[2*I+2*V+1]+=B*mt,W(A,2*I+2*V+1),A[2*I+2*V+1]+=N*Tt,W(A,2*I+2*V+1),A[2*I+2*V+2]+=B*Tt,W(A,2*I+2*V+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new h(A,0)};function W(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function X(O,R){this.g=O,this.h=R}function se(O,R){if(k(R))throw Error("division by zero");if(k(O))return new X(w,w);if(K(O))return R=se(L(O),R),new X(L(R.g),L(R.h));if(K(R))return R=se(O,L(R)),new X(L(R.g),R.h);if(30<O.g.length){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var A=S,I=R;0>=I.l(O);)A=ae(A),I=ae(I);var V=_e(A,1),B=_e(I,1);for(I=_e(I,2),A=_e(A,2);!k(I);){var N=B.add(I);0>=N.l(O)&&(V=V.add(A),B=N),I=_e(I,1),A=_e(A,1)}return R=Q(O,V.j(R)),new X(V,R)}for(V=w;0<=O.l(R);){for(A=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=g(A),N=B.j(R);K(N)||0<N.l(O);)A-=I,B=g(A),N=B.j(R);k(B)&&(B=S),V=V.add(B),O=Q(O,N)}return new X(V,O)}i.A=function(O){return se(this,O).h},i.and=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)&O.i(I);return new h(A,this.h&O.h)},i.or=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)|O.i(I);return new h(A,this.h|O.h)},i.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),A=[],I=0;I<R;I++)A[I]=this.i(I)^O.i(I);return new h(A,this.h^O.h)};function ae(O){for(var R=O.g.length+1,A=[],I=0;I<R;I++)A[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(A,O.h)}function _e(O,R){var A=R>>5;R%=32;for(var I=O.g.length-A,V=[],B=0;B<I;B++)V[B]=0<R?O.i(B+A)>>>R|O.i(B+A+1)<<32-R:O.i(B+A);return new h(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,w2=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ns=h}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b2,$l,A2,ch,Gm,S2,R2,C2;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in y))break e;y=y[j]}c=c[c.length-1],b=y[c],_=_(b),_!=b&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,b=!1,j={next:function(){if(!b&&y<c.length){var G=y++;return{value:_(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,y){return c.call.apply(c.bind,arguments)}function w(c,_,y){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(_,j)}}return function(){return c.apply(_,arguments)}}function S(c,_,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function D(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(b,j,G){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return _.prototype[j].apply(b,ie)}}function K(c){const _=c.length;if(0<_){const y=Array(_);for(let b=0;b<_;b++)y[b]=c[b];return y}return[]}function L(c,_){for(let y=1;y<arguments.length;y++){const b=arguments[y];if(p(b)){const j=c.length||0,G=b.length||0;c.length=j+G;for(let ie=0;ie<G;ie++)c[j+ie]=b[ie]}else c.push(b)}}class Q{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function W(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function _e(c,_,y){for(const b in c)_.call(y,c[b],b,c)}function O(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function R(c){const _={};for(const y in c)_[y]=c[y];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,_){let y,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(y in b)c[y]=b[y];for(let G=0;G<A.length;G++)y=A[G],Object.prototype.hasOwnProperty.call(b,y)&&(c[y]=b[y])}}function V(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function B(c){m.setTimeout(()=>{throw c},0)}function N(){var c=He;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Tt{constructor(){this.h=this.g=null}add(_,y){const b=mt.get();b.set(_,y),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,He=new Tt,x=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(y){B(y)}var _=mt;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,_),m.removeEventListener("test",y,_)}catch{}return c}();function Ce(c,_){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ae){e:{try{se(_.nodeName);var j=!0;break e}catch{}j=!1}j||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,oe);var Se={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function at(c,_,y,b,j){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!b,this.ha=j,this.key=++ze,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,_,y,b,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=bn(c,_,b,j);return-1<ie?(_=c[ie],y||(_.fa=!1)):(_=new at(_,this.src,G,!!b,j),_.fa=y,c.push(_)),_};function Ci(c,_){var y=_.type;if(y in c.g){var b=c.g[y],j=Array.prototype.indexOf.call(b,_,void 0),G;(G=0<=j)&&Array.prototype.splice.call(b,j,1),G&&(Ke(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function bn(c,_,y,b){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==_&&G.capture==!!y&&G.ha==b)return j}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),hr={};function Ii(c,_,y,b,j){if(Array.isArray(_)){for(var G=0;G<_.length;G++)Ii(c,_[G],y,b,j);return null}return y=Nu(y),c&&c[pt]?c.K(_,y,g(b)?!!b.capture:!1,j):Po(c,_,y,!1,b,j)}function Po(c,_,y,b,j,G){if(!_)throw Error("Invalid event type");var ie=g(j)?!!j.capture:!!j,Ve=Lo(c);if(Ve||(c[cr]=Ve=new en(c)),y=Ve.add(_,y,b,ie,G),y.proxy)return y;if(b=pa(),y.proxy=b,b.src=c,b.listener=y,c.addEventListener)le||(j=ie),j===void 0&&(j=!1),c.addEventListener(_.toString(),b,j);else if(c.attachEvent)c.attachEvent(_a(_.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function pa(){function c(y){return _.call(c.src,c.listener,y)}const _=ff;return c}function ga(c,_,y,b,j){if(Array.isArray(_))for(var G=0;G<_.length;G++)ga(c,_[G],y,b,j);else b=g(b)?!!b.capture:!!b,y=Nu(y),c&&c[pt]?(c=c.i,_=String(_).toString(),_ in c.g&&(G=c.g[_],y=bn(G,y,b,j),-1<y&&(Ke(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete c.g[_],c.h--)))):c&&(c=Lo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=bn(_,y,b,j)),(y=-1<c?_[c]:null)&&gs(y))}function gs(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[pt])Ci(_.i,c);else{var y=c.type,b=c.proxy;_.removeEventListener?_.removeEventListener(y,b,c.capture):_.detachEvent?_.detachEvent(_a(y),b):_.addListener&&_.removeListener&&_.removeListener(b),(y=Lo(_))?(Ci(y,c),y.h==0&&(y.src=null,_[cr]=null)):Ke(c)}}}function _a(c){return c in hr?hr[c]:hr[c]="on"+c}function ff(c,_){if(c.da)c=!0;else{_=new Ce(_,this);var y=c.listener,b=c.ha||c.src;c.fa&&gs(c),c=y.call(b,_)}return c}function Lo(c){return c=c[cr],c instanceof en?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[un]||(c[un]=function(_){return c.handleEvent(_)}),c[un])}function wt(){de.call(this),this.i=new en(this),this.M=this,this.F=null}k(wt,de),wt.prototype[pt]=!0,wt.prototype.removeEventListener=function(c,_,y,b){ga(this,c,_,y,b)};function Ot(c,_){var y,b=c.F;if(b)for(y=[];b;b=b.F)y.push(b);if(c=c.M,b=_.type||_,typeof _=="string")_=new oe(_,c);else if(_ instanceof oe)_.target=_.target||c;else{var j=_;_=new oe(b,c),I(_,j)}if(j=!0,y)for(var G=y.length-1;0<=G;G--){var ie=_.g=y[G];j=Di(ie,b,!0,_)&&j}if(ie=_.g=c,j=Di(ie,b,!0,_)&&j,j=Di(ie,b,!1,_)&&j,y)for(G=0;G<y.length;G++)ie=_.g=y[G],j=Di(ie,b,!1,_)&&j}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],b=0;b<y.length;b++)Ke(y[b]);delete c.g[_],c.h--}}this.F=null},wt.prototype.K=function(c,_,y,b){return this.i.add(String(c),_,!1,y,b)},wt.prototype.L=function(c,_,y,b){return this.i.add(String(c),_,!0,y,b)};function Di(c,_,y,b){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var j=!0,G=0;G<_.length;++G){var ie=_[G];if(ie&&!ie.da&&ie.capture==y){var Ve=ie.listener,At=ie.ha||ie.src;ie.fa&&Ci(c.i,ie),j=Ve.call(At,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ou(c,_,y){if(typeof c=="function")y&&(c=S(c,y));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Uo(c){c.g=Ou(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class df extends de{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){de.call(this),this.h=c,this.g={}}k(_s,de);var fr=[];function Qt(c){_e(c.g,function(_,y){this.g.hasOwnProperty(y)&&gs(_)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Qt(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zo=m.JSON.stringify,ti=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function ku(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){oe.call(this,"d")}k(dr,oe);function qn(){oe.call(this,"c")}k(qn,oe);var An={},mr=null;function ya(){return mr=mr||new wt}An.La="serverreachability";function Bo(c){oe.call(this,An.La,c)}k(Bo,oe);function pr(c){const _=ya();Ot(_,new Bo(_))}An.STAT_EVENT="statevent";function va(c,_){oe.call(this,An.STAT_EVENT,c),this.stat=_}k(va,oe);function ht(c){const _=ya();Ot(_,new va(_,c))}An.Ma="timingevent";function Mu(c,_){oe.call(this,An.Ma,c),this.size=_}k(Mu,oe);function gr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Vu(c,_,y,b,j,G){c.info(function(){if(c.g)if(G)for(var ie="",Ve=G.split("&"),At=0;At<Ve.length;At++){var Pe=Ve[At].split("=");if(1<Pe.length){var Mt=Pe[0];Pe=Pe[1];var St=Mt.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Mt+"="+Pe+"&"):ie+(Mt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+_+`
`+y+`
`+ie})}function Pu(c,_,y,b,j,G,ie){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+_+`
`+y+`
`+G+" "+ie})}function yr(c,_,y,b){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+xt(c,y)+(b?" "+b:"")})}function ii(c,_){c.info(function(){return"TIMEOUT: "+_})}_r.prototype.info=function(){};function xt(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var b=y[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return zo(y)}catch{return _}}var bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function Ea(){}k(Ea,jo),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},ys=new Ea;function ri(c,_,y,b){this.j=c,this.i=_,this.l=y,this.R=b||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qo}function qo(){this.i=null,this.g="",this.h=!1}var vr={},vs={};function Hn(c,_,y){c.L=1,c.v=ws(ot(_)),c.m=y,c.P=!0,Oi(c,null)}function Oi(c,_){c.F=Date.now(),tt(c),c.A=ot(c.v);var y=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Mi(y.i,"t",b),c.C=0,y=c.j.J,c.h=new qo,c.g=Xu(c.j,y?_:null,!c.m),0<c.O&&(c.M=new df(S(c.Y,c,c.g),c.O)),_=c.U,y=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fr[0]=j.toString()),j=fr);for(var G=0;G<j.length;G++){var ie=Ii(y,j[G],b||_.handleEvent,!1,_.h||_);if(!ie)break;_.g[ie.key]=ie}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),pr(),Vu(c.i,c.u,c.A,c.l,c.R,c.m)}ri.prototype.ca=function(c){c=c.target;const _=this.M;_&&Dn(c)==3?_.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const St=Dn(this.g);var _=this.g.Ba();const Ui=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||St!=4||_==7||(_==8||0>=Ui?pr(3):pr(2)),Ta(this);var y=this.g.Z();this.X=y;t:if(Er(this)){var b=qu(this.g);c="";var j=b.length,G=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),mn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(_=0;_<j;_++)this.h.h=!0,c+=this.h.i.decode(b[_],{stream:!(G&&_==j-1)});b.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Pu(this.i,this.u,this.A,this.l,this.R,St,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,At=this.g;if((Ve=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ve)){var Pe=Ve;break t}}Pe=null}if(y=Pe)yr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,y);else{this.o=!1,this.s=3,ht(12),cn(this),mn(this);break e}}if(this.P){y=!0;let jt;for(;!this.J&&this.C<ie.length;)if(jt=Tr(this,ie),jt==vs){St==4&&(this.s=4,ht(14),y=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==vr){this.s=4,ht(15),yr(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else yr(this.i,this.l,jt,null),pn(this,jt);if(Er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,ht(16),y=!1),this.o=this.o&&y,!y)yr(this.i,this.l,ie,"[Invalid Chunked Response]"),cn(this),mn(this);else if(0<ie.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ds(Mt),Mt.M=!0,ht(11))}}else yr(this.i,this.l,ie,null),pn(this,ie);St==4&&cn(this),this.o&&!this.J&&(St==4?Qu(this.j,this):(this.o=!1,tt(this)))}else vf(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),cn(this),mn(this)}}}catch{}finally{}};function Er(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tr(c,_){var y=c.C,b=_.indexOf(`
`,y);return b==-1?vs:(y=Number(_.substring(y,b)),isNaN(y)?vr:(b+=1,b+y>_.length?vs:(_=_.slice(b,b+y),c.C=b+y,_)))}ri.prototype.cancel=function(){this.J=!0,cn(this)};function tt(c){c.S=Date.now()+c.I,Ho(c,c.I)}function Ho(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gr(S(c.ba,c),_)}function Ta(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ri.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ii(this.i,this.A),this.L!=2&&(pr(),ht(17)),cn(this),this.s=2,mn(this)):Ho(this,this.S-c)};function mn(c){c.j.G==0||c.J||Qu(c.j,c)}function cn(c){Ta(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Qt(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function pn(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||wr(y.h,c))){if(!c.K&&wr(y.h,c)&&y.G==3){try{var b=y.Da.g.parse(_)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Oa(y),Da(y);else break e;el(y),ht(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=gr(S(y.Za,y),6e3));if(1>=Lu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Li(y,11)}else if((c.K||y.g==c)&&Oa(y),!W(_))for(j=y.Da.g.parse(_),_=0;_<j.length;_++){let Pe=j[_];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const Mt=Pe[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const St=Pe[4];St!=null&&(y.Aa=St,y.j.info("SVER="+y.Aa));const Ui=Pe[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(b=1.5*Ui,y.L=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const jt=c.g;if(jt){const hi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var G=b.h;G.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(br(G,G.h),G.h=null))}if(b.D){const nl=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(b.ya=nl,je(b.I,b.D,nl))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),b=y;var ie=c;if(b.qa=Yu(b,b.J?b.ia:null,b.W),ie.K){Sn(b.h,ie);var Ve=ie,At=b.L;At&&(Ve.I=At),Ve.B&&(Ta(Ve),tt(Ve)),b.g=ie}else Gu(b);0<y.i.length&&Na(y)}else Pe[0]!="stop"&&Pe[0]!="close"||Li(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Li(y,7):Zo(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}pr(4)}catch{}}var mf=class{constructor(c,_){this.g=c,this.map=_}};function Fo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lu(c){return c.h?1:c.g?c.g.size:0}function wr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function br(c,_){c.g?c.g.add(_):c.h=_}function Sn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Fo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return K(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],y=c.length,b=0;b<y;b++)_.push(c[b]);return _}_=[],y=0;for(b in c)_[y++]=c[b];return _}function pf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const b in c)_[y++]=b;return _}}}function Es(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=pf(c),b=Uu(c),j=b.length,G=0;G<j;G++)_.call(void 0,b[G],y&&y[G],c)}var Ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var b=c[y].indexOf("="),j=null;if(0<=b){var G=c[y].substring(0,b);j=c[y].substring(b+1)}else G=c[y];_(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Ar(this,c.j),this.o=c.o,this.g=c.g,Ts(this,c.s),this.l=c.l;var _=c.i,y=new si;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),ba(this,y),this.m=c.m}else c&&(_=String(c).match(Ko))?(this.h=!1,Ar(this,_[1]||"",!0),this.o=Sr(_[2]||""),this.g=Sr(_[3]||"",!0),Ts(this,_[4]),this.l=Sr(_[5]||"",!0),ba(this,_[6]||"",!0),this.m=Sr(_[7]||"")):(this.h=!1,this.i=new si(null,this.h))}xi.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Rn(_,Qo,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Rn(_,Qo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Rn(y,y.charAt(0)=="/"?$o:zu,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Rn(y,yf)),c.join("")};function ot(c){return new xi(c)}function Ar(c,_,y){c.j=y?Sr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ts(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function ba(c,_,y){_ instanceof si?(c.i=_,Yo(c.i,c.h)):(y||(_=Rn(_,_f)),c.i=new si(_,c.h))}function je(c,_,y){c.i.set(_,y)}function ws(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rn(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,gf),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,zu=/[#\?:]/g,$o=/[#\?]/g,_f=/[#\?@]/g,yf=/#/g;function si(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}i=si.prototype,i.add=function(c,_){Cn(this),this.i=null,c=Vi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function Aa(c,_){Cn(c),_=Vi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function ki(c,_){return Cn(c),_=Vi(c,_),c.g.has(_)}i.forEach=function(c,_){Cn(this),this.g.forEach(function(y,b){y.forEach(function(j){c.call(_,j,b,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let b=0;b<_.length;b++){const j=c[b];for(let G=0;G<j.length;G++)y.push(_[b])}return y},i.V=function(c){Cn(this);let _=[];if(typeof c=="string")ki(this,c)&&(_=_.concat(this.g.get(Vi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},i.set=function(c,_){return Cn(this),this.i=null,c=Vi(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Mi(c,_,y){Aa(c,_),0<y.length&&(c.i=null,c.g.set(Vi(c,_),K(y)),c.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var b=_[y];const G=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var j=G;ie[b]!==""&&(j+="="+encodeURIComponent(String(ie[b]))),c.push(j)}}return this.i=c.join("&")};function Vi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Yo(c,_){_&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(y,b){var j=b.toLowerCase();b!=j&&(Aa(this,b),Mi(this,j,y))},c)),c.j=_}function ju(c,_){const y=new _r;if(m.Image){const b=new Image;b.onload=D(In,y,"TestLoadImage: loaded",!0,_,b),b.onerror=D(In,y,"TestLoadImage: error",!1,_,b),b.onabort=D(In,y,"TestLoadImage: abort",!1,_,b),b.ontimeout=D(In,y,"TestLoadImage: timeout",!1,_,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else _(!1)}function bs(c,_){const y=new _r,b=new AbortController,j=setTimeout(()=>{b.abort(),In(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(j),G.ok?In(y,"TestPingServer: ok",!0,_):In(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),In(y,"TestPingServer: error",!1,_)})}function In(c,_,y,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(y)}catch{}}function As(){this.g=new tn}function ai(c,_,y){const b=y||"";try{Es(c,function(j,G){let ie=j;g(j)&&(ie=zo(j)),_.push(b+G+"="+encodeURIComponent(ie))})}catch(j){throw _.push(b+"type="+encodeURIComponent("_badmap")),j}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Rr,jo),Rr.prototype.g=function(){return new Pi(this.l,this.j)},Rr.prototype.i=function(c){return function(){return c}}({});function Pi(c,_){wt.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Pi,wt),i=Pi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?oi(this):li(this),this.readyState==3&&Xo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let _="";return _e(c,function(y,b){_+=b,_+=":",_+=y,_+=`\r
`}),_}function kt(c,_,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=Wo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):je(c,_,y))}function Fe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fe,wt);var Sa=/^https?$/i,Ss=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?xu(this.o):xu(ys),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){Bu(this,G);return}if(c=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)y.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())y.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,_,void 0))||b||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of y)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Bu(this,G)}};function Bu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Ra(c),ui(c)}function Ra(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},i.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ou(c.Ea,0,c);else if(Ot(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var b;if(b=ie===0){var j=String(c.D).match(Ko)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!Sa.test(j?j.toLowerCase():"")}y=b}if(y)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var G=2<Dn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ra(c)}}finally{ui(c)}}}}function ui(c,_){if(c.g){Rs(c);const y=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ot(c,"ready");try{y.onreadystatechange=b}catch{}}}function Rs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ti(_)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const _={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var y=V(c[b]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=_[j]||[];_[j]=G,G.push(y)}O(_,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Ia(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ia.prototype,i.la=8,i.G=1,i.connect=function(c,_,y,b){ht(0),this.W=c,this.H=_||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.I=Yu(this,null,this.W),Na(this)};function Zo(c){if(Hu(c),c.G==3){var _=c.U++,y=ot(c.I);if(je(y,"SID",c.K),je(y,"RID",_),je(y,"TYPE","terminate"),Is(c,y),_=new ri(c,c.j,_),_.L=2,_.v=ws(ot(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=_.v,y=!0),y||(_.g=Xu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),tt(_)}$u(c)}function Da(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Hu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!Go(c.h)&&!c.s){c.s=!0;var _=c.Ga;Ee||x(),pe||(Ee(),pe=!0),He.add(_,c),c.B=0}}function Ef(c,_){return Lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gr(S(c.Ga,c,_),tl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ri(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(_+=b,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Fu(this,j,_),y=ot(this.I),je(y,"RID",c),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),Is(this,y),G&&(this.O?_="headers="+encodeURIComponent(String(Wo(G)))+"&"+_:this.m&&kt(y,this.m,G)),br(this.h,j),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",_),je(y,"SID","null"),j.T=!0,Hn(j,y,null)):Hn(j,y,_),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||Go(this.h)||Jo(this))};function Jo(c,_){var y;_?y=_.l:y=c.U++;const b=ot(c.I);je(b,"SID",c.K),je(b,"RID",y),je(b,"AID",c.T),Is(c,b),c.m&&c.o&&kt(b,c.m,c.o),y=new ri(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Fu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),br(c.h,y),Hn(y,b,_)}function Is(c,_){c.H&&_e(c.H,function(y,b){je(_,b,y)}),c.l&&Es({},function(y,b){je(_,b,y)})}function Fu(c,_,y){y=Math.min(c.i.length,y);var b=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ie=["count="+y];G==-1?0<y?(G=j[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Ve=!0;for(let At=0;At<y;At++){let Pe=j[At].g;const Mt=j[At].map;if(Pe-=G,0>Pe)G=Math.max(0,j[At].g-100),Ve=!1;else try{ai(Mt,ie,"req"+Pe+"_")}catch{b&&b(Mt)}}if(Ve){b=ie.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,b}function Gu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;Ee||x(),pe||(Ee(),pe=!0),He.add(_,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gr(S(c.Fa,c),tl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gr(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Da(this),Ku(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=ot(c.qa);je(_,"RID","rpc"),je(_,"SID",c.K),je(_,"AID",c.T),je(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(_,"TO",c.ja),je(_,"TYPE","xmlhttp"),Is(c,_),c.m&&c.o&&kt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ws(ot(_)),y.m=null,y.P=!0,Oi(y,c)}i.Za=function(){this.C!=null&&(this.C=null,Da(this),el(this),ht(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,_){var y=null;if(c.g==_){Oa(c),Ds(c),c.g=null;var b=2}else if(wr(c.h,_))y=_.D,Sn(c.h,_),b=1;else return;if(c.G!=0){if(_.o)if(b==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var j=c.B;b=ya(),Ot(b,new Mu(b,y)),Na(c)}else Gu(c);else if(j=_.s,j==3||j==0&&0<_.X||!(b==1&&Ef(c,_)||b==2&&el(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),j){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function tl(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Li(c,_){if(c.j.info("Error code "+_),_==2){var y=S(c.fb,c),b=c.Xa;const j=!b;b=new xi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ar(b,"https"),ws(b),j?ju(b.toString(),y):bs(b.toString(),y)}else ht(2);c.G=0,c.l&&c.l.sa(_),$u(c),Hu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const _=nn(c.h);(_.length!=0||c.i.length!=0)&&(L(c.ka,_),L(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Yu(c,_,y){var b=y instanceof xi?ot(y):new xi(y);if(b.g!="")_&&(b.g=_+"."+b.g),Ts(b,b.s);else{var j=m.location;b=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;var G=new xi(null);b&&Ar(G,b),_&&(G.g=_),j&&Ts(G,j),y&&(G.l=y),b=G}return y=c.D,_=c.ya,y&&_&&je(b,y,_),je(b,"VER",c.la),Is(c,b),b}function Xu(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Fe(new Rr({eb:y})):new Fe(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,_){return new rn(c,_)};function rn(c,_){wt.call(this),this.g=new Ia(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!W(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!W(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new ci(this)}k(rn,wt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Zo(this.g)},rn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=zo(c),c=y);_.i.push(new mf(_.Ya++,c)),_.G==3&&Na(_)},rn.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,rn.aa.N.call(this)};function Zu(c){dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}k(Zu,dr);function Ju(){qn.call(this),this.status=1}k(Ju,qn);function ci(c){this.g=c}k(ci,Wu),ci.prototype.ua=function(){Ot(this.g,"a")},ci.prototype.ta=function(c){Ot(this.g,new Zu(c))},ci.prototype.sa=function(c){Ot(this.g,new Ju)},ci.prototype.ra=function(){Ot(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,C2=function(){return new xa},R2=function(){return ya()},S2=An,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,ch=bt,Ni.COMPLETE="complete",A2=Ni,ku.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",wt.prototype.listen=wt.prototype.K,$l=ku,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,b2=Fe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",hv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new fp("@firebase/firestore");function ao(){return ra.logLevel}function ue(i,...e){if(ra.logLevel<=Oe.DEBUG){const n=e.map(Ap);ra.debug(`Firestore (${Co}): ${i}`,...n)}}function lr(i,...e){if(ra.logLevel<=Oe.ERROR){const n=e.map(Ap);ra.error(`Firestore (${Co}): ${i}`,...n)}}function yo(i,...e){if(ra.logLevel<=Oe.WARN){const n=e.map(Ap);ra.warn(`Firestore (${Co}): ${i}`,...n)}}function Ap(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw lr(e),new Error(e)}function Ge(i,e){i||Te()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new I2(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Wt(e)}}class wC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new wC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function vo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,mv=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mv);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dv)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__name__";class _i{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=_i.isNumericId(e),o=_i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ze extends _i{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends _i{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Gt([pv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ze.fromString(e))}static fromName(e){return new ge(Ze.fromString(e).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function CC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new as(o,ge.empty(),e)}function IC(i){return new as(i.readTime,i.key,lu)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(we.min(),ge.empty(),lu)}static max(){return new as(we.max(),ge.empty(),lu)}}function DC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==NC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function xC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function Kh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function kC(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="";function MC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=gv(e)),e=VC(i.get(n),e);return gv(e)}function VC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case N2:n+="";break;default:n+=u}}return n}function gv(i){return i+N2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ca(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function O2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(e){return new yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Dt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x2("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const PC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(Ge(!!i),typeof i=="string"){let e=0;const n=PC.exec(i);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="server_timestamp",M2="__type__",V2="__previous_value__",P2="__local_write_time__";function Rp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[M2])===null||n===void 0?void 0:n.stringValue)===k2}function Qh(i){const e=i.mapValue.fields[V2];return Rp(e)?Qh(e):e}function uu(i){const e=os(i.mapValue.fields[P2].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,s,o,u,h,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ch="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="__type__",UC="__max__",eh={mapValue:{}},U2="__vector__",Ih="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Rp(i)?4:jC(i)?9007199254740991:zC(i)?10:11:Te()}function Si(i,e){if(i===e)return!0;const n=us(i);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),m=os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=dt(o.doubleValue),m=dt(u.doubleValue);return h===m?Rh(h)===Rh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_v(h)!==_v(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Si(h[p],m[p])))return!1;return!0}(i,e);default:return Te()}}function hu(i,e){return(i.values||[]).find(n=>Si(n,e))!==void 0}function Eo(i,e){if(i===e)return 0;const n=us(i),s=us(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=dt(u.integerValue||u.doubleValue),p=dt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return vv(i.timestampValue,e.timestampValue);case 4:return vv(uu(i),uu(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ls(u),p=ls(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Me(m[g],p[g]);if(E!==0)return E}return Me(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Me(dt(u.latitude),dt(h.latitude));return m!==0?m:Me(dt(u.longitude),dt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Ev(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const w=u.fields||{},S=h.fields||{},D=(m=w[Ih])===null||m===void 0?void 0:m.arrayValue,k=(p=S[Ih])===null||p===void 0?void 0:p.arrayValue,K=Me(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:Ev(D,k)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=Me(p[w],E[w]);if(S!==0)return S;const D=Eo(m[p[w]],g[E[w]]);if(D!==0)return D}return Me(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function vv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=os(i),s=os(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function Ev(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function To(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ls(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Km(n.fields[h])}`;return o+"}"}(i.mapValue):Te()}function hh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+hh(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ca(s.fields,(u,h)=>{o+=u.length+hh(h)}),o}(i.mapValue);default:throw Te()}}function Tv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qm(i){return!!i&&"integerValue"in i}function Cp(i){return!!i&&"arrayValue"in i}function wv(i){return!!i&&"nullValue"in i}function bv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function zC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[L2])===null||n===void 0?void 0:n.stringValue)===U2}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ca(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=eu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function jC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=eu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ca(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new jn(eu(this.value))}}function z2(i){const e=[];return ca(i.fields,(n,s)=>{const o=new Gt([n]);if(fh(s)){const u=z2(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function Av(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Si(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function BC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class Et extends j2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HC(e,n,s):n==="array-contains"?new KC(e,s):n==="in"?new QC(e,s):n==="not-in"?new $C(e,s):n==="array-contains-any"?new YC(e,s):new Et(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FC(e,s):new GC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends j2{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Wn(e,n)}matches(e){return B2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function B2(i){return i.op==="and"}function q2(i){return qC(i)&&B2(i)}function qC(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function $m(i){if(i instanceof Et)return i.field.canonicalString()+i.op.toString()+To(i.value);if(q2(i))return i.filters.map(e=>$m(e)).join(",");{const e=i.filters.map(n=>$m(n)).join(",");return`${i.op}(${e})`}}function H2(i,e){return i instanceof Et?function(s,o){return o instanceof Et&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&H2(h,o.filters[m]),!0):!1}(i,e):void Te()}function F2(i){return i instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(i):i instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(F2).join(" ,")+"}"}(i):"Filter"}class HC extends Et{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class FC extends Et{constructor(e,n){super(e,"in",n),this.keys=G2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends Et{constructor(e,n){super(e,"not-in",n),this.keys=G2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G2(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class KC extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&hu(n.arrayValue,this.value)}}class QC extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class $C extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}}class YC extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>hu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.le=null}}function Rv(i,e=null,n=[],s=[],o=null,u=null,h=null){return new XC(i,e,n,s,o,u,h)}function Ip(i){const e=Ae(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>$m(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>To(s)).join(",")),e.le=n}return e.le}function Dp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!BC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!H2(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sv(i.startAt,e.startAt)&&Sv(i.endAt,e.endAt)}function Ym(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WC(i,e,n,s,o,u,h,m){return new No(i,e,n,s,o,u,h,m)}function $h(i){return new No(i)}function Cv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function K2(i){return i.collectionGroup!==null}function tu(i){const e=Ae(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Gt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new fu(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new fu(Gt.keyField(),s))}return e.he}function wi(i){const e=Ae(i);return e.Pe||(e.Pe=ZC(e,tu(i))),e.Pe}function ZC(i,e){if(i.limitType==="F")return Rv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)});const n=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return Rv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Xm(i,e){const n=i.filters.concat([e]);return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Wm(i,e,n){return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yh(i,e){return Dp(wi(i),wi(e))&&i.limitType===e.limitType}function Q2(i){return`${Ip(wi(i))}|lt:${i.limitType}`}function oo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>F2(o)).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>To(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(wi(i))}; limitType=${i.limitType})`}function Xh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=Av(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,tu(s),o)||s.endAt&&!function(h,m,p){const g=Av(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,tu(s),o))}(i,e)}function JC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $2(i){return(e,n)=>{let s=!1;for(const o of tu(i)){const u=eI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eI(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return O2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new rt(ge.comparator);function ur(){return tI}const Y2=new rt(ge.comparator);function Yl(...i){let e=Y2;for(const n of i)e=e.insert(n.key,n);return e}function X2(i){let e=Y2;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Xs(){return nu()}function W2(){return nu()}function nu(){return new ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const nI=new rt(ge.comparator),iI=new Dt(ge.comparator);function xe(...i){let e=iI;for(const n of i)e=e.add(n);return e}const rI=new Dt(Me);function sI(){return rI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Z2(i){return{integerValue:""+i}}function aI(i,e){return kC(e)?Z2(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function oI(i,e,n){return i instanceof Nh?function(o,u){const h={fields:{[M2]:{stringValue:k2},[P2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=Qh(u)),u&&(h.fields[V2]=u),{mapValue:h}}(n,e):i instanceof du?eT(i,e):i instanceof mu?tT(i,e):function(o,u){const h=J2(o,u),m=Iv(h)+Iv(o.Ie);return Qm(h)&&Qm(o.Ie)?Z2(m):Np(o.serializer,m)}(i,e)}function lI(i,e,n){return i instanceof du?eT(i,e):i instanceof mu?tT(i,e):n}function J2(i,e){return i instanceof Oh?function(s){return Qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Nh extends Wh{}class du extends Wh{constructor(e){super(),this.elements=e}}function eT(i,e){const n=nT(e);for(const s of i.elements)n.some(o=>Si(o,s))||n.push(s);return{arrayValue:{values:n}}}class mu extends Wh{constructor(e){super(),this.elements=e}}function tT(i,e){let n=nT(e);for(const s of i.elements)n=n.filter(o=>!Si(o,s));return{arrayValue:{values:n}}}class Oh extends Wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Iv(i){return dt(i.integerValue||i.doubleValue)}function nT(i){return Cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function uI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?vo(s.elements,o.elements,Si):s instanceof Oh&&o instanceof Oh?Si(s.Ie,o.Ie):s instanceof Nh&&o instanceof Nh}(i.transform,e.transform)}class cI{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function iT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Op(i.key,Yn.none()):new wu(i.key,i.data,Yn.none());{const n=i.data,s=jn.empty();let o=new Dt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new fa(i.key,s,new $n(o.toArray()),Yn.none())}}function hI(i,e,n){i instanceof wu?function(o,u,h){const m=o.value.clone(),p=Nv(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof fa?function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Nv(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(rT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function iu(i,e,n,s){return i instanceof wu?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=u.value.clone(),E=Ov(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof fa?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=Ov(u.fieldTransforms,p,h),E=h.data;return E.setAll(rT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function fI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=J2(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function Dv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,h)=>uI(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fa extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Nv(i,e,n){const s=new Map;Ge(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,lI(h,m,n[o]))}return s}function Ov(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,oI(u,h,e))}return s}class Op extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dI extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&hI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=W2();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=iT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,s)=>Dv(n,s))&&vo(this.baseMutations,e.baseMutations,(n,s)=>Dv(n,s))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return nI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function _I(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function sT(i){if(i===void 0)return lr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case vt.OK:return ee.OK;case vt.CANCELLED:return ee.CANCELLED;case vt.UNKNOWN:return ee.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ee.INTERNAL;case vt.UNAVAILABLE:return ee.UNAVAILABLE;case vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case vt.NOT_FOUND:return ee.NOT_FOUND;case vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case vt.ABORTED:return ee.ABORTED;case vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case vt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new ns([4294967295,4294967295],0);function xv(i){const e=yI().encode(i),n=new w2;return n.update(e),new Uint8Array(n.digest())}function kv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(vI)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=xv(e),[s,o]=kv(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new kp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const n=xv(e),[s,o]=kv(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(we.min(),o,new rt(Me),ur(),xe())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class aT{constructor(e,n){this.targetId=e,this.ge=n}}class oT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Mv{constructor(){this.pe=0,this.ye=Vv(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=xe(),n=xe(),s=xe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new bu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Vv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class EI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ur(),this.$e=th(),this.Ke=th(),this.Ue=new rt(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Ym(u))if(s===0){const h=new ge(u.path);this.ze(n,h,Zt.newNoDocument(h,we.min()))}else Ge(s===1);else{const h=this.et(n);if(h!==s){const m=this.tt(e),p=m?this.nt(m,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ls(s).toUint8Array()}catch(p){if(p instanceof x2)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(h,o,u)}catch(p){return yo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const m=this.Xe(h);if(m){if(u.current&&Ym(m.target)){const p=new ge(m.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=xe();this.Ke.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Jh(e,n,this.Ue,this.Qe,s);return this.Qe=ur(),this.$e=th(),this.Ke=th(),this.Ue=new rt(Me),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Mv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Me),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Mv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function th(){return new rt(ge.comparator)}function Vv(){return new rt(ge.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class AI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(i,e){return i.useProto3Json||Kh(e)?e:{value:e}}function xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function SI(i,e){return xh(i,e.toTimestamp())}function bi(i){return Ge(!!i),we.fromTimestamp(function(n){const s=os(n);return new It(s.seconds,s.nanos)}(i))}function Mp(i,e){return Jm(i,e).canonicalString()}function Jm(i,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function uT(i){const e=Ze.fromString(i);return Ge(mT(e)),e}function ep(i,e){return Mp(i.databaseId,e.path)}function bm(i,e){const n=uT(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(hT(n))}function cT(i,e){return Mp(i.databaseId,e)}function RI(i){const e=uT(i);return e.length===4?Ze.emptyPath():hT(e)}function tp(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hT(i){return Ge(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Pv(i,e,n){return{name:ep(i,e),fields:n.value.mapValue.fields}}function CI(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string"),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ee.UNKNOWN:sT(g.code);return new ce(E,g.message||"")}(h);n=new oT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),u=bi(s.document.updateTime),h=s.document.createTime?bi(s.document.createTime):we.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(i,s.document),u=s.readTime?bi(s.readTime):we.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(i,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new gI(o,u),m=s.targetId;n=new aT(m,h)}}return n}function II(i,e){let n;if(e instanceof wu)n={update:Pv(i,e.key,e.value)};else if(e instanceof Op)n={delete:ep(i,e.key)};else if(e instanceof fa)n={update:Pv(i,e.key,e.data),updateMask:LI(e.fieldMask)};else{if(!(e instanceof dI))return Te();n={verify:ep(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:SI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),n}function DI(i,e){return i&&i.length>0?(Ge(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?bi(o.updateTime):bi(u);return h.isEqual(we.min())&&(h=bi(u)),new cI(h,o.transformResults||[])}(n,e))):[]}function NI(i,e){return{documents:[cT(i,e.path)]}}function OI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cT(i,o);const u=function(g){if(g.length!==0)return dT(Wn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:lo(S.field),direction:MI(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Zm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function xI(i){let e=RI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=fT(w);return S instanceof Wn&&q2(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(S=>function(k){return new fu(uo(k.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,Kh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,D=w.values||[];return new Dh(D,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,D=w.values||[];return new Dh(D,S)}(n.endAt)),WC(e,o,h,u,m,"F",p,g)}function kI(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Et.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return Et.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(n.unaryFilter.field);return Et.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return Et.create(uo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>fT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function MI(i){return TI[i]}function VI(i){return wI[i]}function PI(i){return bI[i]}function lo(i){return{fieldPath:i.canonicalString()}}function uo(i){return Gt.fromServerFormat(i.fieldPath)}function dT(i){return i instanceof Et?function(n){if(n.op==="=="){if(bv(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bv(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:VI(n.op),value:n.value}}}(i):i instanceof Wn?function(n){const s=n.getFilters().map(o=>dT(o));return s.length===1?s[0]:{compositeFilter:{op:PI(n.op),filters:s}}}(i):Te()}function LI(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.Tt=e}}function zI(i){const e=xI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Tn=new BI}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(as.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class BI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(pT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wo(0)}static Un(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LruGarbageCollector",qI=1048576;function zv([i,e],[n,s]){const o=Me(i,n);return o===0?Me(e,s):o}class HI{constructor(e){this.Hn=e,this.buffer=new Dt(zv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(Uv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ue(Uv,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.er(3e5)})}}class GI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Gh.ae);const s=new HI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Lv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),ao()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function KI(i,e){return new GI(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&iu(s.mutation,o,$n.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xe()){const o=Xs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Yl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=ur();const h=nu(),m=function(){return nu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof fa)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),It.now())):h.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new $I(E,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=nu();let o=new rt((h,m)=>h-m),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||$n.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||xe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=W2();E.forEach(S=>{if(!u.has(S)){const D=iT(n.get(S),s.get(S));D!==null&&w.set(S,D),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Xs());let m=lu,p=u;return h.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,xe())).next(E=>({batchId:m,changes:X2(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(w,S){return new No(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{h=h.insert(w,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))});let m=Yl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,$n.empty(),It.now()),Xh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:zI(o.bundledQuery),readTime:bi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.overlays=new rt(ge.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new pI(n,s));let u=this.Rr.get(n);u===void 0&&(u=xe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Vr=new Dt(Ut.mr),this.gr=new Dt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ut(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new Ze([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new Ze([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=xe();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ut.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Mr=this.Mr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Sp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const m=this.Or(h.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(Me);return n.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new ge(u),0);let m=new Dt(Me);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},h),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.kr=e,this.docs=function(){return new rt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||DC(IC(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new t4(this)}getSize(e){return J.resolve(this.size)}}class t4 extends QI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.persistence=e,this.Qr=new ha(n=>Ip(n),Dp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Vp,this.targetCount=0,this.Ur=wo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gh(0),this.zr=!1,this.zr=!0,this.jr=new ZI,this.referenceDelegate=e(this),this.Hr=new n4(this),this.indexManager=new jI,this.remoteDocumentCache=function(o){return new e4(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new UI(n),this.Yr=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new JI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new i4(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class i4 extends OC{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.ti=new Vp,this.ni=null}static ri(e){return new Pp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.oi=new ha(s=>MC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=KI(this,n)}static ri(e,n){return new kh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=xe(),o=xe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Lp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Bb()?8:xC(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new r4;return this._s(e,n,h).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,h,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ao()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(ao()<=Oe.DEBUG&&ue("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ao()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(n))):J.resolve())}rs(e,n){if(Cv(n))return J.resolve(null);let s=wi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=wi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=xe(...u);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,h,p.readTime)?this.rs(e,Wm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return Cv(n)||o.isEqual(we.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?J.resolve(null):(ao()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.hs(e,h,n,CC(o,lu)).next(m=>m))})}cs(e,n){let s=new Dt($2(e));return n.forEach((o,u)=>{Xh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ao()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ns.getDocumentsMatchingQuery(e,n,as.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LocalStore",a4=3e8;class o4{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new rt(Me),this.Is=new ha(u=>Ip(u),Dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function l4(i,e,n,s){return new o4(i,e,n,s)}async function _T(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=xe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:m}))})})}function u4(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,S=w.keys();let D=J.resolve();return S.forEach(k=>{D=D.next(()=>E.getEntry(p,k)).next(K=>{const L=g.docVersions.get(k);Ge(L!==null),K.version.compareTo(L)<0&&(w.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function yT(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function c4(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(w,D),function(K,L,Q){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=a4?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,D,E)&&m.push(n.Hr.updateTargetData(u,D))});let p=ur(),g=xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(h4(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function h4(i,e,n){let s=xe(),o=xe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ur();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Up,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function f4(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function d4(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function np(i,e,n){const s=Ae(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Do(h))throw h;ue(Up,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function jv(i,e,n){const s=Ae(i);let o=we.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=Ae(p),S=w.Is.get(E);return S!==void 0?J.resolve(w.Ts.get(S)):w.Hr.getTargetData(g,E)}(s,h,wi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:xe())).next(m=>(m4(s,JC(e),m),{documents:m,gs:u})))}function m4(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class Bv{constructor(){this.activeTargetIds=sI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.ho=new Bv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Bv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="ConnectivityMonitor";class Hv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(qv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(qv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function ip(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",_4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const h=ip(),m=this.So(e,n.toUriEncodedString());ue(Am,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(Am,`Received RPC '${e}' ${h}: `,g),g),g=>{throw yo(Am,`RPC '${e}' ${h} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,h){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=_4[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class E4 extends y4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=ip();return new Promise((h,m)=>{const p=new b2;p.setWithCredentials(!0),p.listenOnce(A2.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ch.TIMEOUT:ue(Xt,`RPC '${e}' ${u} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const w=p.getStatus();if(ue(Xt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S==null?void 0:S.error;if(D&&D.status&&D.message){const k=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN}(D.status);m(new ce(k,D.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=ip(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=C2(),m=R2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);let S=!1,D=!1;const k=new v4({Fo:L=>{D?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Mo:()=>w.close()}),K=(L,Q,W)=>{L.listen(Q,X=>{try{W(X)}catch(se){setTimeout(()=>{throw se},0)}})};return K(w,$l.EventType.OPEN,()=>{D||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),K(w,$l.EventType.CLOSE,()=>{D||(D=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),K(w,$l.EventType.ERROR,L=>{D||(D=!0,yo(Xt,`RPC '${e}' stream ${o} transport errored:`,L),k.Ko(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),K(w,$l.EventType.MESSAGE,L=>{var Q;if(!D){const W=L.data[0];Ge(!!W);const X=W,se=(X==null?void 0:X.error)||((Q=X[0])===null||Q===void 0?void 0:Q.error);if(se){ue(Xt,`RPC '${e}' stream ${o} received error:`,se);const ae=se.status;let _e=function(A){const I=vt[A];if(I!==void 0)return sT(I)}(ae),O=se.message;_e===void 0&&(_e=ee.INTERNAL,O="Unknown error status: "+ae+" with message "+se.message),D=!0,k.Ko(new ce(_e,O)),w.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,W),k.Uo(W)}}),K(m,S2.STAT_EVENT,L=>{L.stat===Gm.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Gm.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(i){return new AI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="PersistentStream";class ET{constructor(e,n,s,o,u,h,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(Fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T4 extends ET{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=CI(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?bi(h.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=tp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Ym(p)?{documents:NI(u,p)}:{query:OI(u,p).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=lT(u,h.resumeToken);const g=Zm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=xh(u,h.snapshotVersion.toTimestamp());const g=Zm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=kI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.I_(n)}}class w4 extends ET{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=DI(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=tp(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>II(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{}class A4 extends b4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,Jm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,Jm(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class S4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(lr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class R4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{da(this)&&(ue(sa,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await Au(g),g.j_.set("Unknown"),g.W_.delete(4),await tf(g)}(this))})}),this.j_=new S4(s,o)}}async function tf(i){if(da(i))for(const e of i.G_)await e(!0)}async function Au(i){for(const e of i.G_)await e(!1)}function TT(i,e){const n=Ae(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),qp(n)?Bp(n):Oo(n).c_()&&jp(n,e))}function zp(i,e){const n=Ae(i),s=Oo(n);n.U_.delete(e),s.c_()&&wT(n,e),n.U_.size===0&&(s.c_()?s.P_():da(n)&&n.j_.set("Unknown"))}function jp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(i).y_(e)}function wT(i,e){i.H_.Ne(e),Oo(i).w_(e)}function Bp(i){i.H_=new EI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Oo(i).start(),i.j_.B_()}function qp(i){return da(i)&&!Oo(i).u_()&&i.U_.size>0}function da(i){return Ae(i).W_.size===0}function bT(i){i.H_=void 0}async function C4(i){i.j_.set("Online")}async function I4(i){i.U_.forEach((e,n)=>{jp(i,e)})}async function D4(i,e){bT(i),qp(i)?(i.j_.q_(e),Bp(i)):i.j_.set("Unknown")}async function N4(i,e,n){if(i.j_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mh(i,s)}else if(e instanceof mh?i.H_.We(e):e instanceof aT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await yT(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.H_.ot(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),wT(u,p);const w=new Jr(E.target,p,g,E.sequenceNumber);jp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(sa,"Failed to raise snapshot:",s),await Mh(i,s)}}async function Mh(i,e,n){if(!Do(e))throw e;i.W_.add(1),await Au(i),i.j_.set("Offline"),n||(n=()=>yT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(sa,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await tf(i)})}function AT(i,e){return e().catch(n=>Mh(i,n,e))}async function nf(i){const e=Ae(i),n=cs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Sp;for(;O4(e);)try{const o=await f4(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,x4(e,o)}catch(o){await Mh(e,o)}ST(e)&&RT(e)}function O4(i){return da(i)&&i.K_.length<10}function x4(i,e){i.K_.push(e);const n=cs(i);n.c_()&&n.b_&&n.S_(e.mutations)}function ST(i){return da(i)&&!cs(i).u_()&&i.K_.length>0}function RT(i){cs(i).start()}async function k4(i){cs(i).C_()}async function M4(i){const e=cs(i);for(const n of i.K_)e.S_(n.mutations)}async function V4(i,e,n){const s=i.K_.shift(),o=xp.from(s,e,n);await AT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await nf(i)}async function P4(i,e){e&&cs(i).b_&&await async function(s,o){if(function(h){return _I(h)&&h!==ee.ABORTED}(o.code)){const u=s.K_.shift();cs(s).h_(),await AT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await nf(s)}}(i,e),ST(i)&&RT(i)}async function Gv(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(sa,"RemoteStore received new credentials");const s=da(n);n.W_.add(3),await Au(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await tf(n)}async function L4(i,e){const n=Ae(i);e?(n.W_.delete(2),await tf(n)):e||(n.W_.add(2),await Au(n),n.j_.set("Unknown"))}function Oo(i){return i.J_||(i.J_=function(n,s,o){const u=Ae(n);return u.M_(),new T4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:C4.bind(null,i),No:I4.bind(null,i),Lo:D4.bind(null,i),p_:N4.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),qp(i)?Bp(i):i.j_.set("Unknown")):(await i.J_.stop(),bT(i))})),i.J_}function cs(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new w4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:k4.bind(null,i),Lo:P4.bind(null,i),D_:M4.bind(null,i),v_:V4.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await nf(i)):(await i.Y_.stop(),i.K_.length>0&&(ue(sa,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Hp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(lr("AsyncQueue",`${e}: ${i}`),Do(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.Z_=new rt(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class bo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new bo(e,n,_o.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class z4{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=Qv(),u.forEach((h,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function Qv(){return new ha(i=>Q2(i),Yh)}async function CT(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new U4,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Fp(h,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Gp(n)}async function IT(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function j4(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ta)m.oa(o)&&(s=!0);h.ea=o}}s&&Gp(n)}function B4(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Gp(i){i.ia.forEach(e=>{e.next()})}var rp,$v;($v=rp||(rp={}))._a="default",$v.Cache="cache";class DT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class q4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xe(),this.mutatedKeys=xe(),this.ya=$2(e),this.wa=new _o(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Kv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),D=Xh(this.query,w)?w:null,k=!!S&&this.mutatedKeys.has(S.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;S&&D?S.data.isEqual(D.data)?k!==K&&(s.track({type:3,doc:D}),L=!0):this.va(S,D)||(s.track({type:2,doc:D}),L=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(m=!0)):!S&&D?(s.track({type:0,doc:D}),L=!0):S&&!D&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(D?(h=h.add(D),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,w)=>function(D,k){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return K(D)-K(k)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new bo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Kv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new OT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new NT(s))}),n}Oa(e){this.fa=e.gs,this.pa=xe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Kp="SyncEngine";class H4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class F4{constructor(e){this.key=e,this.Ba=!1}}class G4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ha(m=>Q2(m),Yh),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ge.comparator),this.Ka=new Map,this.Ua=new Vp,this.Wa={},this.Ga=new Map,this.za=wo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function K4(i,e,n=!0){const s=LT(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await xT(s,e,n,!0),o}async function Q4(i,e){const n=LT(i);await xT(n,e,!0,!1)}async function xT(i,e,n,s){const o=await d4(i.localStore,wi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&TT(i.remoteStore,o),m}async function $4(i,e,n,s,o){i.Ha=(w,S,D)=>async function(K,L,Q,W){let X=L.view.Sa(Q);X.ls&&(X=await jv(K.localStore,L.query,!1).then(({documents:O})=>L.view.Sa(O,X)));const se=W&&W.targetChanges.get(L.targetId),ae=W&&W.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(X,K.isPrimaryClient,se,ae);return Xv(K,L.targetId,_e.Ma),_e.snapshot}(i,w,S,D);const u=await jv(i.localStore,e,!0),h=new q4(e,u.gs),m=h.Sa(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);Xv(i,n,g.Ma);const E=new H4(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function Y4(i,e,n){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Yh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),sp(s,o.targetId)}).catch(Io)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function X4(i,e){const n=Ae(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function W4(i,e,n){const s=rD(i);try{const o=await function(h,m){const p=Ae(h),g=It.now(),E=m.reduce((D,k)=>D.add(k.key),xe());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let k=ur(),K=xe();return p.ds.getEntries(D,E).next(L=>{k=L,k.forEach((Q,W)=>{W.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,k)).next(L=>{w=L;const Q=[];for(const W of m){const X=fI(W,w.get(W.key).overlayedDocument);X!=null&&Q.push(new fa(W.key,X,z2(X.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Q,m)}).next(L=>{S=L;const Q=L.applyToLocalDocumentSet(w,K);return p.documentOverlayCache.saveOverlays(D,L.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:X2(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new rt(Me)),g=g.insert(m,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await Su(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function kT(i,e){const n=Ae(i);try{const s=await c4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ka.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ge(h.Ba):o.removedDocuments.size>0&&(Ge(h.Ba),h.Ba=!1))}),await Su(n,s,e)}catch(s){await Io(s)}}function Yv(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const m=h.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const S of w.ta)S.sa(m)&&(g=!0)}),g&&Gp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Z4(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new rt(ge.comparator);h=h.insert(u,Zt.newNoDocument(u,we.min()));const m=xe().add(u),p=new Jh(we.min(),new Map,new rt(Me),h,m);await kT(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Qp(s)}else await np(s.localStore,e,!1).then(()=>sp(s,e,n)).catch(Io)}async function J4(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await u4(n.localStore,e);VT(n,s,null),MT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Io(o)}}async function eD(i,e,n){const s=Ae(i);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ge(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);VT(s,e,n),MT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await Io(o)}}function MT(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function VT(i,e,n){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function sp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(s=>{i.Ua.containsKey(s)||PT(i,s)})}function PT(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(zp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Qp(i))}function Xv(i,e,n){for(const s of n)s instanceof NT?(i.Ua.addReference(s.key,e),tD(i,s)):s instanceof OT?(ue(Kp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||PT(i,s.key)):Te()}function tD(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(Kp,"New document in limbo: "+n),i.Qa.add(s),Qp(i))}function Qp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ge(Ze.fromString(e)),s=i.za.next();i.Ka.set(s,new F4(n)),i.$a=i.$a.insert(n,s),TT(i.remoteStore,new Jr(wi($h(n.path)),s,"TargetPurposeLimboResolution",Gh.ae))}}async function Su(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Lp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,S=>J.forEach(S.Hi,D=>E.persistence.referenceDelegate.addReference(w,S.targetId,D)).next(()=>J.forEach(S.Ji,D=>E.persistence.referenceDelegate.removeReference(w,S.targetId,D)))))}catch(w){if(!Do(w))throw w;ue(Up,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const D=E.Ts.get(S),k=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(S,K)}}}(s.localStore,u))}async function nD(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Kp,"User change. New user:",e.toKey());const s=await _T(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Rs)}}function iD(i,e){const n=Ae(i),s=n.Ka.get(e);if(s&&s.Ba)return xe().add(s.key);{let o=xe();const u=n.qa.get(e);if(!u)return o;for(const h of u){const m=n.ka.get(h);o=o.unionWith(m.view.ba)}return o}}function LT(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z4.bind(null,e),e.La.p_=j4.bind(null,e.eventManager),e.La.Ja=B4.bind(null,e.eventManager),e}function rD(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eD.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return l4(this.persistence,new s4,e.initialUser,this.serializer)}Xa(e){return new gT(Pp.ri,this.serializer)}Za(e){return new p4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class sD extends Vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof kh);const s=this.persistence.referenceDelegate.garbageCollector;return new FI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new gT(s=>kh.ri(s,n),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nD.bind(null,this.syncEngine),await L4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=function(u){return new E4(u)}(e.databaseInfo);return function(u,h,m,p){return new A4(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new R4(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Yv(this.syncEngine,n,0),function(){return Hv.D()?new Hv:new g4}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const w=new G4(o,u,h,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(sa,"RemoteStore shutting down."),u.W_.add(5),await Au(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class aD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=D2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(hs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _T(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Wv(i,e){i.asyncQueue.verifyOperationInProgress();const n=await oD(i);ue(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Gv(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Gv(e.remoteStore,o)),i._onlineComponents=e}async function oD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(hs,"Using user provided OfflineComponentProvider");try{await Rm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Rm(i,new Vh)}}else ue(hs,"Using default OfflineComponentProvider"),await Rm(i,new sD(void 0));return i._offlineComponents}async function zT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(hs,"Using user provided OnlineComponentProvider"),await Wv(i,i._uninitializedComponentsProvider._online)):(ue(hs,"Using default OnlineComponentProvider"),await Wv(i,new ap))),i._onlineComponents}function lD(i){return zT(i).then(e=>e.syncEngine)}async function op(i){const e=await zT(i),n=e.eventManager;return n.onListen=K4.bind(null,e.syncEngine),n.onUnlisten=Y4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X4.bind(null,e.syncEngine),n}function uD(i,e,n={}){const s=new is;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new UT({next:S=>{E.su(),h.enqueueAndForget(()=>IT(u,w));const D=S.docs.has(m);!D&&S.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new DT($h(m.path),E,{includeMetadataChanges:!0,Ta:!0});return CT(u,w)}(await op(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cD(i,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Jv(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eE(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function Ai(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",tE=!0;class nE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=tE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qI)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vC;switch(s.type){case"firstParty":return new bC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zv.get(n);s&&(ue("ComponentProvider","Removing Datastore"),Zv.delete(n),s.terminate())}(this),Promise.resolve()}}function hD(i,e,n,s={}){var o;const u=(i=Ai(i,sf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==qT&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ea(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=ME(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}i._authCredentials=new EC(new I2(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class rs extends ma{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ge(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function Ph(i,e,...n){if(i=Nt(i),BT("collection","path",e),i instanceof sf){const s=Ze.fromString(e,...n);return eE(s),new rs(i,null,s)}{if(!(i instanceof ln||i instanceof rs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return eE(s),new rs(i.firestore,null,s)}}function Ao(i,e,...n){if(i=Nt(i),arguments.length===1&&(e=D2.newId()),BT("doc","path",e),i instanceof sf){const s=Ze.fromString(e,...n);return Jv(s),new ln(i,null,new ge(s))}{if(!(i instanceof ln||i instanceof rs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return Jv(s),new ln(i.firestore,i instanceof rs?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vT(this,"async_queue_retry"),this.bu=()=>{const s=Sm();s&&ue(iE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Do(e))throw e;ue(iE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw lr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Hp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function sE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class aa extends sf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new rE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function HT(i,e){const n=typeof i=="object"?i:mp(),s=typeof i=="string"?i:Ch,o=Bh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OE("firestore");u&&hD(o,...u)}return o}function $p(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fD(i),i._firestoreClient}function fD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new LC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new aD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Kt.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^__.*__$/;class mD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}function GT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Zp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GT(this.Lu)&&dD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}ju(e,n,s,o=!1){return new Zp({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(i){const e=i._freezeSettings(),n=ef(i._databaseId);return new pD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function KT(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);YT("Data must be an object, but it was:",h,s);const m=QT(s,h);let p,g;if(u.merge)p=new $n(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=_D(e,w,n);if(!h.contains(S))throw new ce(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);vD(E,S)||E.push(S)}p=new $n(E),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new mD(new jn(m),p,g)}function gD(i,e,n,s=!1){return eg(n,i.ju(s?4:3,e))}function eg(i,e){if($T(i=Nt(i)))return YT("Unsupported field value:",e,i),QT(i,e);if(i instanceof FT)return function(s,o){if(!GT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=eg(m,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Nt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:xh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xh(o.serializer,u)}}if(s instanceof Xp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof So)return{bytesValue:lT(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wp)return function(h,m){return{mapValue:{fields:{[L2]:{stringValue:U2},[Ih]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${rf(s)}`)}(i,e)}function QT(i,e){const n={};return O2(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(i,(s,o)=>{const u=eg(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function $T(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof Xp||i instanceof So||i instanceof ln||i instanceof FT||i instanceof Wp)}function YT(i,e,n){if(!$T(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=rf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function _D(i,e,n){if((e=Nt(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return XT(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const yD=new RegExp("[~\\*/\\[\\]]");function XT(i,e,n){if(e.search(yD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yp(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function vD(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ED(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ED extends WT{data(){return super.data()}}function tg(i,e){return typeof e=="string"?XT(i,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class ZT extends ng{}function wD(i,e,...n){let s=[];e instanceof ng&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof rg).length,m=u.filter(p=>p instanceof ig).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class ig extends ZT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ig(e,n,s)}_apply(e){const n=this._parse(e);return JT(e._query,n),new ma(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=Jp(e.firestore);return function(u,h,m,p,g,E,w){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){oE(w,E);const k=[];for(const K of w)k.push(aE(p,u,K));S={arrayValue:{values:k}}}else S=aE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||oE(w,E),S=gD(m,h,w,E==="in"||E==="not-in");return Et.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rg extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)JT(h,p),h=Xm(h,p)}(e._query,n),new ma(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends ZT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new No(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function bD(i,e="asc"){const n=e,s=tg("orderBy",i);return sg._create(s,n)}function aE(i,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K2(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Tv(i,new ge(s))}if(n instanceof ln)return Tv(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function oE(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JT(i,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ca(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>dt(h.doubleValue));return new Wp(u)}convertGeoPoint(e){return new Xp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=os(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(mT(s));const o=new cu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends WT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ph extends t1{data(e={}){return super.data(e)}}class SD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:RD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(i){i=Ai(i,ln);const e=Ai(i.firestore,aa);return uD($p(e),i._key).then(n=>r1(e,i,n))}class i1 extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function gh(i,e,n){i=Ai(i,ln);const s=Ai(i.firestore,aa),o=e1(i.converter,e,n);return ag(s,[KT(Jp(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function CD(i){return ag(Ai(i.firestore,aa),[new Op(i._key,Yn.none())])}function ID(i,e){const n=Ai(i.firestore,aa),s=Ao(i),o=e1(i.converter,e);return ag(n,[KT(Jp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}function lE(i,...e){var n,s,o;i=Nt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||sE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sE(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(i instanceof ln)g=Ai(i.firestore,aa),E=$h(i._key.path),p={next:w=>{e[h]&&e[h](r1(g,i,w))},error:e[h+1],complete:e[h+2]};else{const w=Ai(i,ma);g=Ai(w.firestore,aa),E=w._query;const S=new i1(g);p={next:D=>{e[h]&&e[h](new SD(g,S,w,D))},error:e[h+1],complete:e[h+2]},TD(i._query)}return function(S,D,k,K){const L=new UT(K),Q=new DT(D,L,k);return S.asyncQueue.enqueueAndForget(async()=>CT(await op(S),Q)),()=>{L.su(),S.asyncQueue.enqueueAndForget(async()=>IT(await op(S),Q))}}($p(g),E,m,p)}function ag(i,e){return function(s,o){const u=new is;return s.asyncQueue.enqueueAndForget(async()=>W4(await lD(s),o,u)),u.promise}($p(i),e)}function r1(i,e,n){const s=n.docs.get(e._key),o=new i1(i);return new t1(i,o,e._key,s,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Co=o})(la),ta(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new aa(new TC(s.getProvider("auth-internal")),new AC(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),vi(cv,hv,e),vi(cv,hv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="firebasestorage.googleapis.com",a1="storageBucket",DD=2*60*1e3,ND=10*60*1e3,OD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Ri{constructor(e,n,s=0){super(Cm(e),`Firebase Storage: ${n} (${Cm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Cm(i){return"storage/"+i}function og(){const i="An unknown error occurred, please check the error payload for server response.";return new st(Je.UNKNOWN,i)}function xD(i){return new st(Je.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function kD(i){return new st(Je.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(Je.UNAUTHENTICATED,i)}function VD(){return new st(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PD(i){return new st(Je.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function o1(){return new st(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l1(){return new st(Je.CANCELED,"User canceled the upload/download.")}function LD(i){return new st(Je.INVALID_URL,"Invalid URL '"+i+"'.")}function UD(i){return new st(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zD(){return new st(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a1+"' property when initializing the app?")}function u1(){return new st(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jD(){return new st(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function BD(){return new st(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qD(i){return new st(Je.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lp(i){return new st(Je.INVALID_ARGUMENT,i)}function c1(){return new st(Je.APP_DELETED,"The Firebase app was deleted.")}function HD(i){return new st(Je.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ru(i,e){return new st(Je.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Hl(i){throw new st(Je.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(s.path==="")return s;throw UD(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${w}/${E}/b/${o}/o${S}`,"i"),k={bucket:1,path:3},K=n===s1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",Q=new RegExp(`^https?://${K}/${o}/${L}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:D,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<X.length;se++){const ae=X[se],_e=ae.regex.exec(e);if(_e){const O=_e[ae.indices.bucket];let R=_e[ae.indices.path];R||(R=""),s=new wn(O,R),ae.postModify(s);break}}if(s==null)throw LD(e);return s}}class FD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...L){g||(g=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,i(D,p())},L)}function S(){u&&clearTimeout(u)}function D(L,...Q){if(g){S();return}if(L){S(),E.call(null,L,...Q);return}if(p()||h){S(),E.call(null,L,...Q);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,w(X)}let k=!1;function K(L){k||(k=!0,S(),!g&&(o!==null?(L||(m=2),clearTimeout(o),w(0)):L||(m=1)))}return w(0),u=setTimeout(()=>{h=!0,K(!0)},n),K}function KD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){return i!==void 0}function $D(i){return typeof i=="function"}function YD(i){return typeof i=="object"&&!Array.isArray(i)}function af(i){return typeof i=="string"||i instanceof String}function uE(i){return lg()&&i instanceof Blob}function lg(){return typeof Blob<"u"}function cE(i,e,n,s){if(s<e)throw lp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw lp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function h1(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ws;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ws||(Ws={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,s,o,u,h,m,p,g,E,w,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=w,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,k)=>{this.resolve_=D,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Ws.NO_ERROR,p=u.getStatus();if(!m||f1(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ws.ABORT;s(!1,new ih(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ih(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());QD(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=og();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?c1():l1();h(p)}else{const p=o1();h(p)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=GD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function WD(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ZD(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JD(i,e){e&&(i["X-Firebase-GMPID"]=e)}function eN(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function tN(i,e,n,s,o,u,h=!0){const m=h1(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return JD(g,e),WD(g,n),ZD(g,u),eN(g,s),new XD(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iN(...i){const e=nN();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(lg())return new Blob(i);throw new st(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rN(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){if(typeof atob>"u")throw qD("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Im{constructor(e,n){this.data=e,this.contentType=n||null}}function aN(i,e){switch(i){case yi.RAW:return new Im(d1(e));case yi.BASE64:case yi.BASE64URL:return new Im(m1(i,e));case yi.DATA_URL:return new Im(lN(e),uN(e))}throw og()}function d1(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function oN(i){let e;try{e=decodeURIComponent(i)}catch{throw ru(yi.DATA_URL,"Malformed data URL.")}return d1(e)}function m1(i,e){switch(i){case yi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ru(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sN(e)}catch(o){throw o.message.includes("polyfill")?o:ru(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class p1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ru(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=cN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function lN(i){const e=new p1(i);return e.base64?m1(yi.BASE64,e.rest):oN(e.rest)}function uN(i){return new p1(i).contentType}function cN(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){let s=0,o="";uE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(uE(this.data_)){const s=this.data_,o=rN(s,e,n);return o===null?null:new Zr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Zr(s,!0)}}static getBlob(...e){if(lg()){const n=e.map(s=>s instanceof Zr?s.data_:s);return new Zr(iN.apply(null,n))}else{const n=e.map(h=>af(h)?aN(yi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Zr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(i){let e;try{e=JSON.parse(i)}catch{return null}return YD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function fN(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function _1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i,e){return e}class on{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||dN}}let rh=null;function mN(i){return!af(i)||i.length<2?i:_1(i)}function y1(){if(rh)return rh;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function e(u,h){return mN(h)}const n=new on("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),rh=i,rh}function pN(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new wn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function gN(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return pN(s,i),s}function v1(i,e,n){const s=g1(e);return s===null?null:gN(i,s,n)}function _N(i,e,n,s){const o=g1(e);if(o===null||!af(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,w=i.fullPath,S="/b/"+h(E)+"/o/"+h(w),D=Ru(S,n,s),k=h1({alt:"media",token:g});return D+k})[0]}function E1(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class xo{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(i){if(!i)throw og()}function ug(i,e){function n(s,o){const u=v1(i,o,e);return rr(u!==null),u}return n}function yN(i,e){function n(s,o){const u=v1(i,o,e);return rr(u!==null),_N(u,o,i.host,i._protocol)}return n}function Cu(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=VD():o=MD():n.getStatus()===402?o=kD(i.bucket):n.getStatus()===403?o=PD(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function T1(i){const e=Cu(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=xD(i.path)),u.serverResponse=o.serverResponse,u}return n}function vN(i,e,n){const s=e.fullServerUrl(),o=Ru(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new xo(o,u,ug(i,n),h);return m.errorHandler=T1(e),m}function EN(i,e,n){const s=e.fullServerUrl(),o=Ru(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new xo(o,u,yN(i,n),h);return m.errorHandler=T1(e),m}function TN(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function w1(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=TN(null,e)),s}function wN(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let se=0;se<2;se++)X=X+Math.random().toString().slice(2);return X}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=w1(e,s,o),E=E1(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",D=Zr.getBlob(w,s,S);if(D===null)throw u1();const k={name:g.fullPath},K=Ru(u,i.host,i._protocol),L="POST",Q=i.maxUploadRetryTime,W=new xo(K,L,ug(i,n),Q);return W.urlParams=k,W.headers=h,W.body=D.uploadData(),W.errorHandler=Cu(e),W}class Uh{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function cg(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{rr(!1)}return rr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function bN(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=w1(e,s,o),m={name:h.fullPath},p=Ru(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},w=E1(h,n),S=i.maxUploadRetryTime;function D(K){cg(K);let L;try{L=K.getResponseHeader("X-Goog-Upload-URL")}catch{rr(!1)}return rr(af(L)),L}const k=new xo(p,g,D,S);return k.urlParams=m,k.headers=E,k.body=w,k.errorHandler=Cu(e),k}function AN(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=cg(g,["active","final"]);let w=null;try{w=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{rr(!1)}w||rr(!1);const S=Number(w);return rr(!isNaN(S)),new Uh(S,s.size(),E==="final")}const h="POST",m=i.maxUploadRetryTime,p=new xo(n,h,u,m);return p.headers=o,p.errorHandler=Cu(e),p}const hE=256*1024;function SN(i,e,n,s,o,u,h,m){const p=new Uh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw jD();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const w=p.current,S=w+E;let D="";E===0?D="finalize":g===E?D="upload, finalize":D="upload";const k={"X-Goog-Upload-Command":D,"X-Goog-Upload-Offset":`${p.current}`},K=s.slice(w,S);if(K===null)throw u1();function L(se,ae){const _e=cg(se,["active","final"]),O=p.current+E,R=s.size();let A;return _e==="final"?A=ug(e,u)(se,ae):A=null,new Uh(O,R,_e==="final",A)}const Q="POST",W=e.maxUploadRetryTime,X=new xo(n,Q,L,W);return X.headers=k,X.body=K.uploadData(),X.progressCallback=m||null,X.errorHandler=Cu(i),X}const dn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dm(i){switch(i){case"running":case"pausing":case"canceling":return dn.RUNNING;case"paused":return dn.PAUSED;case"success":return dn.SUCCESS;case"canceled":return dn.CANCELED;case"error":return dn.ERROR;default:return dn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,s){if($D(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class CN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw Hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class IN extends CN{initXhr(){this.xhr_.responseType="text"}}function co(){return new IN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=y1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(f1(o.status,[]))if(u)o=o1();else{this.sleepTime=Math.max(this.sleepTime*2,OD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=bN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=AN(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,co,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=hE*this._chunkMultiplier,n=new Uh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=SN(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,co,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){hE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=vN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=wN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,co,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=l1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Dm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new RN(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Dm(this._state)){case dn.SUCCESS:so(this._resolve.bind(null,this.snapshot))();break;case dn.CANCELED:case dn.ERROR:const n=this._reject;so(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Dm(this._state)){case dn.RUNNING:case dn.PAUSED:e.next&&so(e.next.bind(e,this.snapshot))();break;case dn.SUCCESS:e.complete&&so(e.complete.bind(e))();break;case dn.CANCELED:case dn.ERROR:e.error&&so(e.error.bind(e,this._error))();break;default:e.error&&so(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new oa(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _1(this._location.path)}get storage(){return this._service}get parent(){const e=hN(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new oa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HD(e)}}function NN(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new DN(i,new Zr(e),n)}function ON(i){i._throwIfRoot("getDownloadURL");const e=EN(i.storage,i._location,y1());return i.storage.makeRequestWithTokens(e,co).then(n=>{if(n===null)throw BD();return n})}function xN(i,e){const n=fN(i._location.path,e),s=new wn(i._location.bucket,n);return new oa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){return/^[A-Za-z]+:\/\//.test(i)}function MN(i,e){return new oa(i,e)}function b1(i,e){if(i instanceof hg){const n=i;if(n._bucket==null)throw zD();const s=new oa(n,n._bucket);return e!=null?b1(s,e):s}else return e!==void 0?xN(i,e):i}function VN(i,e){if(e&&kN(e)){if(i instanceof hg)return MN(i,e);throw lp("To use ref(service, url), the first argument must be a Storage instance.")}else return b1(i,e)}function fE(i,e){const n=e==null?void 0:e[a1];return n==null?null:wn.makeFromBucketSpec(n,i)}function PN(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:ME(o,i.app.options.projectId))}class hg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=s1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DD,this._maxUploadRetryTime=ND,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=fE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new FD(c1());{const h=tN(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const dE="@firebase/storage",mE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="storage";function LN(i,e,n){return i=Nt(i),NN(i,e,n)}function UN(i){return i=Nt(i),ON(i)}function zN(i,e){return i=Nt(i),VN(i,e)}function jN(i=mp(),e){i=Nt(i);const s=Bh(i,A1).getImmediate({identifier:e}),o=OE("storage");return o&&BN(s,...o),s}function BN(i,e,n,s={}){PN(i,e,n,s)}function qN(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new hg(n,s,o,e,la)}function HN(){ta(new ss(A1,qN,"PUBLIC").setMultipleInstances(!0)),vi(dE,mE,""),vi(dE,mE,"esm2017")}HN();const FN={apiKey:"AIzaSyDqvs9hShjoBZG5_iAyTuBJBgYWNzjr-oc",authDomain:"tome-artworks.firebaseapp.com",projectId:"tome-artworks",storageBucket:"tome-artworks.firebasestorage.app",messagingSenderId:"890971951408",appId:"1:890971951408:web:a9cf474d61a4e4b8e678f5",measurementId:"G-JG1KNRR6NW"},S1=LE(FN),Bn=pC(S1),Zs=HT(S1),GN=jN(),KN="data:image/svg+xml,%3csvg%20width='87'%20height='18'%20viewBox='0%200%2087%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_30_135)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.45207%200.641174C8.30697%20-0.213725%209.69303%20-0.213725%2010.5479%200.641174L17.3588%207.45207C18.2137%208.30697%2018.2137%209.69303%2017.3588%2010.5479L10.5479%2017.3588C9.69303%2018.2137%208.30697%2018.2137%207.45207%2017.3588L0.641174%2010.5479C-0.213725%209.69303%20-0.213725%208.30697%200.641174%207.45207L7.45207%200.641174ZM9.92876%201.26035C9.41582%200.747407%208.58418%200.747407%208.07124%201.26035L4.73304%204.59855C8.329%203.80742%2012.2403%204.81019%2015.0369%207.60686C15.7319%208.3018%2016.316%209.06556%2016.7894%209.8762C17.252%209.3605%2017.2354%208.56701%2016.7397%208.07124L9.92876%201.26035ZM16.1482%2010.5202C15.6927%209.69759%2015.1159%208.92413%2014.4178%208.22604C11.4466%205.25487%207.11036%204.48076%203.42788%205.90371L1.26035%208.07124C0.747407%208.58418%200.747407%209.41582%201.26035%209.92876L1.5717%2010.2401C1.62198%2010.1875%201.67299%2010.1353%201.72472%2010.0836C5.40079%206.40749%2011.3609%206.40749%2015.0369%2010.0836C15.2987%2010.3453%2015.5419%2010.6187%2015.7664%2010.902L16.1482%2010.5202ZM4.04879%2012.7172L2.19105%2010.8595C2.2412%2010.8067%202.29215%2010.7545%202.3439%2010.7027C5.678%207.36862%2011.0837%207.36862%2014.4178%2010.7027C14.68%2010.965%2014.9216%2011.24%2015.1426%2011.5258L14.5529%2012.1155C11.5426%209.57628%207.03713%209.72453%204.20142%2012.5602C4.14965%2012.612%204.09877%2012.6643%204.04879%2012.7172ZM13.9312%2012.7372C11.2653%2010.5385%207.31412%2010.6859%204.82059%2013.1794C4.7688%2013.2312%204.71802%2013.2836%204.66825%2013.3367L6.52612%2015.1945C6.57562%2015.1413%206.62628%2015.0888%206.6781%2015.0369C8.37992%2013.3351%2010.8613%2012.888%2012.9728%2013.6956L13.9312%2012.7372ZM8.07124%2016.7397L7.14579%2015.8142C7.19492%2015.7607%207.24541%2015.708%207.29728%2015.6561C8.64677%2014.3066%2010.5717%2013.8833%2012.2822%2014.3862L9.92876%2016.7397C9.41582%2017.2526%208.58418%2017.2526%208.07124%2016.7397Z'%20fill='%23666666'/%3e%3c/g%3e%3cpath%20d='M78.7914%2014.632V3.43201H86.3434V5.54401H81.1434V12.52H86.4554V14.632H78.7914ZM79.9114%209.94401V7.89601H85.5754V9.94401H79.9114Z'%20fill='black'/%3e%3cpath%20d='M60.9826%2014.632V3.43201H63.1746L67.2386%2010.056L65.8146%2010.04L69.9426%203.43201H72.0546V14.632H69.7026V10.84C69.7026%209.86934%2069.7239%208.99467%2069.7666%208.21601C69.8199%207.43734%2069.9053%206.66934%2070.0226%205.91201L70.2946%206.66401L67.0146%2011.736H65.9426L62.7426%206.69601L62.9986%205.91201C63.1266%206.62667%2063.2119%207.36267%2063.2546%208.12001C63.3079%208.87734%2063.3346%209.78401%2063.3346%2010.84V14.632H60.9826Z'%20fill='black'/%3e%3cpath%20d='M49.2901%2014.792C48.4688%2014.792%2047.7061%2014.648%2047.0021%2014.36C46.3088%2014.072%2045.7061%2013.672%2045.1941%2013.16C44.6928%2012.6373%2044.2981%2012.024%2044.0101%2011.32C43.7328%2010.616%2043.5941%209.84268%2043.5941%209.00001C43.5941%208.16801%2043.7328%207.40001%2044.0101%206.69601C44.2981%205.99201%2044.6928%205.37867%2045.1941%204.85601C45.7061%204.33334%2046.3088%203.92801%2047.0021%203.64001C47.7061%203.35201%2048.4688%203.20801%2049.2901%203.20801C50.1114%203.20801%2050.8634%203.35201%2051.5461%203.64001C52.2395%203.92801%2052.8421%204.33334%2053.3541%204.85601C53.8661%205.37867%2054.2608%205.99734%2054.5381%206.71201C54.8261%207.41601%2054.9701%208.17868%2054.9701%209.00001C54.9701%209.83201%2054.8261%2010.6%2054.5381%2011.304C54.2608%2012.008%2053.8661%2012.6213%2053.3541%2013.144C52.8421%2013.6667%2052.2395%2014.072%2051.5461%2014.36C50.8634%2014.648%2050.1114%2014.792%2049.2901%2014.792ZM49.2901%2012.52C49.7594%2012.52%2050.1914%2012.4347%2050.5861%2012.264C50.9808%2012.0827%2051.3221%2011.8373%2051.6101%2011.528C51.9088%2011.208%2052.1381%2010.8347%2052.2981%2010.408C52.4581%209.98134%2052.5381%209.51201%2052.5381%209.00001C52.5381%208.49868%2052.4581%208.03467%2052.2981%207.60801C52.1381%207.18134%2051.9088%206.80801%2051.6101%206.48801C51.3221%206.16801%2050.9808%205.92267%2050.5861%205.75201C50.1914%205.57067%2049.7594%205.48001%2049.2901%205.48001C48.8208%205.48001%2048.3834%205.57067%2047.9781%205.75201C47.5834%205.92267%2047.2368%206.16801%2046.9381%206.48801C46.6501%206.79734%2046.4261%207.17067%2046.2661%207.60801C46.1061%208.03467%2046.0261%208.50401%2046.0261%209.01601C46.0261%209.68801%2046.1648%2010.2907%2046.4421%2010.824C46.7301%2011.3467%2047.1141%2011.7627%2047.5941%2012.072C48.0848%2012.3707%2048.6501%2012.52%2049.2901%2012.52Z'%20fill='black'/%3e%3cpath%20d='M33.232%2014.632V5.59201H30V3.43201H38.992V5.59201H35.632V14.632H33.232Z'%20fill='black'/%3e%3cdefs%3e%3cclipPath%20id='clip0_30_135'%3e%3crect%20width='18'%20height='18'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var Fl={},pE;function QN(){if(pE)return Fl;pE=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=h,Fl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,D){const k=new u,K=S.length;if(K<2)return k;const L=(D==null?void 0:D.decode)||E;let Q=0;do{const W=S.indexOf("=",Q);if(W===-1)break;const X=S.indexOf(";",Q),se=X===-1?K:X;if(W>se){Q=S.lastIndexOf(";",W-1)+1;continue}const ae=m(S,Q,W),_e=p(S,W,ae),O=S.slice(ae,_e);if(k[O]===void 0){let R=m(S,W+1,se),A=p(S,se,R);const I=L(S.slice(R,A));k[O]=I}Q=se+1}while(Q<K);return k}function m(S,D,k){do{const K=S.charCodeAt(D);if(K!==32&&K!==9)return D}while(++D<k);return k}function p(S,D,k){for(;D>k;){const K=S.charCodeAt(--D);if(K!==32&&K!==9)return D+1}return k}function g(S,D,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const L=K(D);if(!e.test(L))throw new TypeError(`argument val is invalid: ${D}`);let Q=S+"="+L;if(!k)return Q;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Q+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Q+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Q+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Q+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Q+="; HttpOnly"),k.secure&&(Q+="; Secure"),k.partitioned&&(Q+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Q}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return Fl}QN();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gE="popstate";function $N(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return up("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:pu(o)}return XN(e,n,null,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YN(){return Math.random().toString(36).substring(2,10)}function _E(i,e){return{usr:i.state,key:i.key,idx:e}}function up(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:n,key:e&&e.key||s||YN()}}function pu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ko(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function XN(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){m="POP";let L=E(),Q=L==null?null:L-g;g=L,p&&p({action:m,location:K.location,delta:Q})}function S(L,Q){m="PUSH";let W=up(K.location,L,Q);g=E()+1;let X=_E(W,g),se=K.createHref(W);try{h.pushState(X,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(se)}u&&p&&p({action:m,location:K.location,delta:1})}function D(L,Q){m="REPLACE";let W=up(K.location,L,Q);g=E();let X=_E(W,g),se=K.createHref(W);h.replaceState(X,"",se),u&&p&&p({action:m,location:K.location,delta:0})}function k(L){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof L=="string"?L:pu(L);return W=W.replace(/ $/,"%20"),et(Q,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,Q)}let K={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(gE,w),p=L,()=>{o.removeEventListener(gE,w),p=null}},createHref(L){return e(o,L)},createURL:k,encodeLocation(L){let Q=k(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:D,go(L){return h.go(L)}};return K}function R1(i,e,n="/"){return WN(i,e,n,!1)}function WN(i,e,n,s){let o=typeof e=="string"?ko(e):e,u=fs(o.pathname||"/",n);if(u==null)return null;let h=C1(i);ZN(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=uO(u);m=oO(h[p],g,s)}return m}function C1(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=sr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),C1(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sO(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of I1(u.path))o(u,h,p)}),e}function I1(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=I1(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ZN(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:aO(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JN=/^:[\w-]+$/,eO=3,tO=2,nO=1,iO=10,rO=-2,yE=i=>i==="*";function sO(i,e){let n=i.split("/"),s=n.length;return n.some(yE)&&(s+=rO),e&&(s+=tO),n.filter(o=>!yE(o)).reduce((o,u)=>o+(JN.test(u)?eO:u===""?nO:iO),s)}function aO(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function oO(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=zh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:sr([u,w.pathname]),pathnameBase:dO(sr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=sr([u,w.pathnameBase]))}return h}function zh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=lO(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let k=m[S]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=m[S];return w&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function lO(i,e=!1,n=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uO(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function fs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function cO(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ko(i):i;return{pathname:n?n.startsWith("/")?n:hO(n,e):e,search:mO(s),hash:pO(o)}}function hO(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fO(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fg(i){let e=fO(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dg(i,e,n,s=!1){let o;typeof i=="string"?o=ko(i):(o={...i},et(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=cO(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),dO=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mO=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pO=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gO(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var D1=["POST","PUT","PATCH","DELETE"];new Set(D1);var _O=["GET",...D1];new Set(_O);var Mo=H.createContext(null);Mo.displayName="DataRouter";var of=H.createContext(null);of.displayName="DataRouterState";var N1=H.createContext({isTransitioning:!1});N1.displayName="ViewTransition";var yO=H.createContext(new Map);yO.displayName="Fetchers";var vO=H.createContext(null);vO.displayName="Await";var Jn=H.createContext(null);Jn.displayName="Navigation";var Iu=H.createContext(null);Iu.displayName="Location";var ei=H.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var mg=H.createContext(null);mg.displayName="RouteError";function EO(i,{relative:e}={}){et(Vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Jn),{hash:o,pathname:u,search:h}=Du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Vo(){return H.useContext(Iu)!=null}function ps(){return et(Vo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Iu).location}var O1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x1(i){H.useContext(Jn).static||H.useLayoutEffect(i)}function lf(){let{isDataRoute:i}=H.useContext(ei);return i?kO():TO()}function TO(){et(Vo(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Mo),{basename:e,navigator:n}=H.useContext(Jn),{matches:s}=H.useContext(ei),{pathname:o}=ps(),u=JSON.stringify(fg(s)),h=H.useRef(!1);return x1(()=>{h.current=!0}),H.useCallback((p,g={})=>{if(Zn(h.current,O1),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=dg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}H.createContext(null);function pg(){let{matches:i}=H.useContext(ei),e=i[i.length-1];return e?e.params:{}}function Du(i,{relative:e}={}){let{matches:n}=H.useContext(ei),{pathname:s}=ps(),o=JSON.stringify(fg(n));return H.useMemo(()=>dg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wO(i,e){return k1(i,e)}function k1(i,e,n,s){var W;et(Vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Jn),{matches:h}=H.useContext(ei),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let X=w&&w.path||"";M1(g,!w||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=ps(),D;if(e){let X=typeof e=="string"?ko(e):e;et(E==="/"||((W=X.pathname)==null?void 0:W.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=S;let k=D.pathname||"/",K=k;if(E!=="/"){let X=E.replace(/^\//,"").split("/");K="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:R1(i,{pathname:K});Zn(w||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Zn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=CO(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:sr([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:sr([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,n,s);return e&&Q?H.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function bO(){let i=xO(),e=gO(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,h)}var AO=H.createElement(bO,null),SO=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(ei.Provider,{value:this.props.routeContext},H.createElement(mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RO({routeContext:i,match:e,children:n}){let s=H.useContext(Mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ei.Provider,{value:i},n)}function CO(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,S=!1,D=null,k=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||AO,h&&(m<0&&E===0?(M1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===E&&(S=!0,k=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),L=()=>{let Q;return w?Q=D:S?Q=k:g.route.Component?Q=H.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,H.createElement(RO,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(SO,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:L(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):L()},null)}function gg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IO(i){let e=H.useContext(Mo);return et(e,gg(i)),e}function DO(i){let e=H.useContext(of);return et(e,gg(i)),e}function NO(i){let e=H.useContext(ei);return et(e,gg(i)),e}function _g(i){let e=NO(i),n=e.matches[e.matches.length-1];return et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function OO(){return _g("useRouteId")}function xO(){var s;let i=H.useContext(mg),e=DO("useRouteError"),n=_g("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function kO(){let{router:i}=IO("useNavigate"),e=_g("useNavigate"),n=H.useRef(!1);return x1(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Zn(n.current,O1),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var vE={};function M1(i,e,n){!e&&!vE[i]&&(vE[i]=!0,Zn(!1,n))}H.memo(MO);function MO({routes:i,future:e,state:n}){return k1(i,void 0,n,e)}function VO({to:i,replace:e,state:n,relative:s}){et(Vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Jn);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(ei),{pathname:h}=ps(),m=lf(),p=dg(i,fg(u),h,s==="path"),g=JSON.stringify(p);return H.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ys(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PO({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){et(!Vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ko(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,D=H.useMemo(()=>{let k=fs(p,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:w,key:S},navigationType:s}},[h,p,g,E,w,S,s]);return Zn(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:H.createElement(Jn.Provider,{value:m},H.createElement(Iu.Provider,{children:e,value:D}))}function LO({children:i,location:e}){return wO(cp(i),e)}function cp(i,e=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,cp(s.props.children,u));return}et(s.type===Ys,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=cp(s.props.children,u)),n.push(h)}),n}var _h="get",yh="application/x-www-form-urlencoded";function uf(i){return i!=null&&typeof i.tagName=="string"}function UO(i){return uf(i)&&i.tagName.toLowerCase()==="button"}function zO(i){return uf(i)&&i.tagName.toLowerCase()==="form"}function jO(i){return uf(i)&&i.tagName.toLowerCase()==="input"}function BO(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function qO(i,e){return i.button===0&&(!e||e==="_self")&&!BO(i)}var sh=null;function HO(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var FO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!FO.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yh}"`),null):i}function GO(i,e){let n,s,o,u,h;if(zO(i)){let m=i.getAttribute("action");s=m?fs(m,e):null,n=i.getAttribute("method")||_h,o=Om(i.getAttribute("enctype"))||yh,u=new FormData(i)}else if(UO(i)||jO(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?fs(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||_h,o=Om(i.getAttribute("formenctype"))||Om(m.getAttribute("enctype"))||yh,u=new FormData(m,i),!HO()){let{name:g,type:E,value:w}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(uf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,s=null,o=yh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function yg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function KO(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QO(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $O(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await KO(u,n);return h.links?h.links():[]}return[]}));return ZO(s.flat(1).filter(QO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function EE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function YO(i,e,{includeHydrateFallback:n}={}){return XO(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function XO(i){return[...new Set(i)]}function WO(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function ZO(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(WO(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function JO(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ex(){let i=H.useContext(Mo);return yg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tx(){let i=H.useContext(of);return yg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vg=H.createContext(void 0);vg.displayName="FrameworkContext";function V1(){let i=H.useContext(vg);return yg(i,"You must render this element inside a <HydratedRouter> element"),i}function nx(i,e){let n=H.useContext(vg),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=Q=>{Q.forEach(W=>{h(W.isIntersecting)})},L=new IntersectionObserver(K,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),H.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let D=()=>{o(!0)},k=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Gl(m,D),onBlur:Gl(p,k),onMouseEnter:Gl(g,D),onMouseLeave:Gl(E,k),onTouchStart:Gl(w,D)}]:[!1,S,{}]}function Gl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ix({page:i,...e}){let{router:n}=ex(),s=H.useMemo(()=>R1(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(sx,{page:i,matches:s,...e}):null}function rx(i){let{manifest:e,routeModules:n}=V1(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return $O(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function sx({page:i,matches:e,...n}){let s=ps(),{manifest:o,routeModules:u}=V1(),{loaderData:h,matches:m}=tx(),p=H.useMemo(()=>EE(i,e,m,o,s,"data"),[i,e,m,o,s]),g=H.useMemo(()=>EE(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,k=!1;if(e.forEach(L=>{var W;let Q=o.routes[L.route.id];!Q||!Q.hasLoader||(!p.some(X=>X.route.id===L.route.id)&&L.route.id in h&&((W=u[L.route.id])!=null&&W.shouldRevalidate)||Q.hasClientLoader?k=!0:D.add(L.route.id))}),D.size===0)return[];let K=JO(i);return k&&D.size>0&&K.searchParams.set("_routes",e.filter(L=>D.has(L.route.id)).map(L=>L.route.id).join(",")),[K.pathname+K.search]},[h,s,o,p,e,i,u]),w=H.useMemo(()=>YO(g,o),[g,o]),S=rx(g);return H.createElement(H.Fragment,null,E.map(D=>H.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>H.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),S.map(({key:D,link:k})=>H.createElement("link",{key:D,...k})))}function ax(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{P1&&(window.__reactRouterVersion="7.2.0")}catch{}function ox({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=$N({window:n,v5Compat:!0}));let o=s.current,[u,h]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>h(p))},[h]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(PO,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var L1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},D){let{basename:k}=H.useContext(Jn),K=typeof g=="string"&&L1.test(g),L,Q=!1;if(typeof g=="string"&&K&&(L=g,P1))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),V=fs(I.pathname,k);I.origin===A.origin&&V!=null?g=V+I.search+I.hash:Q=!0}catch{Zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=EO(g,{relative:o}),[X,se,ae]=nx(s,S),_e=hx(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function O(A){e&&e(A),A.defaultPrevented||_e(A)}let R=H.createElement("a",{...S,...ae,href:L||W,onClick:Q||u?e:O,ref:ax(D,se),target:p,"data-discover":!K&&n==="render"?"true":void 0});return X&&!K?H.createElement(H.Fragment,null,R,H.createElement(ix,{page:W})):R});Js.displayName="Link";var lx=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let w=Du(h,{relative:g.relative}),S=ps(),D=H.useContext(of),{navigator:k,basename:K}=H.useContext(Jn),L=D!=null&&gx(w)&&m===!0,Q=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,W=S.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(W=W.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&K&&(X=fs(X,K)||X);const se=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ae=W===Q||!o&&W.startsWith(Q)&&W.charAt(se)==="/",_e=X!=null&&(X===Q||!o&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),O={isActive:ae,isPending:_e,isTransitioning:L},R=ae?e:void 0,A;typeof s=="function"?A=s(O):A=[s,ae?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return H.createElement(Js,{...g,"aria-current":R,className:A,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(O):p)});lx.displayName="NavLink";var ux=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=_h,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},D)=>{let k=mx(),K=px(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&L1.test(m),W=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let se=X.nativeEvent.submitter,ae=(se==null?void 0:se.getAttribute("formmethod"))||h;k(se||X.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return H.createElement("form",{ref:D,method:L,action:K,onSubmit:s?p:W,...S,"data-discover":!Q&&i==="render"?"true":void 0})});ux.displayName="Form";function cx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(i){let e=H.useContext(Mo);return et(e,cx(i)),e}function hx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=lf(),p=ps(),g=Du(i,{relative:u});return H.useCallback(E=>{if(qO(E,e)){E.preventDefault();let w=n!==void 0?n:pu(p)===pu(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var fx=0,dx=()=>`__${String(++fx)}__`;function mx(){let{router:i}=U1("useSubmit"),{basename:e}=H.useContext(Jn),n=OO();return H.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=GO(s,e);if(o.navigate===!1){let E=o.fetcherKey||dx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function px(i,{relative:e}={}){let{basename:n}=H.useContext(Jn),s=H.useContext(ei);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Du(i||".",{relative:e})},h=ps();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),pu(u)}function gx(i,e={}){let n=H.useContext(N1);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=U1("useViewTransitionState"),o=Du(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fs(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return zh(o.pathname,h)!=null||zh(o.pathname,u)!=null}new TextEncoder;function Eg(){const[i,e]=H.useState(null);H.useEffect(()=>{const s=h2(Bn,o=>{e(o)});return()=>s()},[]);const n=()=>{Bn.signOut().then(()=>{console.log("User signed out")}).catch(s=>{console.log("Error with signout: ",s.message)})};return z.jsxs("div",{className:"flex flex-row justify-between border-b border-gray-300 items-center p-4 pl-6 pr-6 w-full m-0 relative top-0 left-0 bg-white",children:[z.jsx(Js,{to:"/",children:z.jsx("img",{src:KN,alt:"Tome Logo",className:"sm"})}),i?z.jsxs("div",{className:"flex flex-row gap-2",children:[z.jsx("p",{children:i.email}),z.jsx("button",{onClick:n,className:"text-blue-500",children:"Sign out"})]}):z.jsx("p",{children:"Sign in"})]})}var xm={exports:{}},km,TE;function _x(){if(TE)return km;TE=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return km=i,km}var Mm,wE;function yx(){if(wE)return Mm;wE=1;var i=_x();function e(){}function n(){}return n.resetWarningCache=e,Mm=function(){function s(h,m,p,g,E,w){if(w!==i){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Mm}var bE;function vx(){return bE||(bE=1,xm.exports=yx()()),xm.exports}var Ex=vx();const zt=RE(Ex),z1=H.createContext();function j1({children:i}){const[e,n]=H.useState([]),[s,o]=H.useState([]),[u,h]=H.useState({}),[m,p]=H.useState(!0),[g,E]=H.useState(!1);return H.useEffect(()=>{const w=Bn.currentUser;if(!w)return;const S=wD(Ph(Zs,"accounts",w.uid,"artworks"),bD("createdAt","asc")),D=lE(S,L=>{const Q=L.docs.map(W=>({id:W.id,...W.data()}));n(Q),p(!1)},L=>{console.error("Uh oh, I couldn't get the artworks. The error was: ",L),E(!0)}),k=Ph(Zs,"accounts",w.uid,"tags"),K=lE(k,L=>{const Q=L.docs.map(W=>({id:W.id,...W.data()}));o(Q)},L=>{console.error("Error fetching tags:",L),E(!0)});return()=>{D(),K()}},[Bn.currentUser]),H.useEffect(()=>{const w={};s.forEach(S=>{Array.isArray(S.artworks)?w[S.id]=S.artworks.map(D=>e.find(k=>k.id===D)).filter(Boolean):w[S.id]=[]}),h(w)},[e,s]),z.jsx(z1.Provider,{value:{artworks:e,tags:s,taggedArtworks:u,isLoading:m,hasError:g},children:i})}function Tg(){return H.useContext(z1)}j1.propTypes={children:zt.node.isRequired};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tx(i,e,n,s){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(E){try{g(s.next(E))}catch(w){h(w)}}function p(E){try{g(s.throw(E))}catch(w){h(w)}}function g(E){E.done?u(E.value):o(E.value).then(m,p)}g((s=s.apply(i,[])).next())})}function wx(i,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(E){g=[6,E],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fo=function(){return fo=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},fo.apply(this,arguments)},B1=function(i){return{loading:i==null,value:i}},bx=function(){return function(i,e){switch(e.type){case"error":return fo(fo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return B1(e.defaultValue);case"value":return fo(fo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},Ax=function(i){var e=i?i():void 0,n=H.useReducer(bx(),B1(e)),s=n[0],o=n[1],u=H.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=H.useCallback(function(p){o({type:"error",error:p})},[]),m=H.useCallback(function(p){o({type:"value",value:p})},[]);return H.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:h,setValue:m,value:s.value}},[s.error,s.loading,u,h,m,s.value])},cf=function(i,e){var n=Ax(function(){return i.currentUser}),s=n.error,o=n.loading,u=n.setError,h=n.setValue,m=n.value;return H.useEffect(function(){var p=h2(i,function(g){return Tx(void 0,void 0,void 0,function(){var E;return wx(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return E=w.sent(),u(E),[3,4];case 4:return h(g),[2]}})})},u);return function(){p()}},[i]),[m,o,s]};function q1({children:i}){return z.jsx("div",{className:"truncate",children:i})}q1.propTypes={children:zt.node.isRequired};function hf(){return z.jsx("div",{id:"loader",children:z.jsx("div",{id:"loader-3",children:z.jsx("div",{id:"loader-b"})})})}var Vm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var AE;function Sx(){return AE||(AE=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)e.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(Vm)),Vm.exports}var Rx=Sx();const SE=RE(Rx);function H1({isOn:i,toggle:e}){return z.jsx("div",{onClick:e,className:SE("flex w-12 h-6 bg-gray-300 m-6 rounded-md transition-all duration-150 flex-shrink-0",{"bg-green-500":i}),children:z.jsx("span",{className:SE("h-6 w-6 bg-white rounded-md transition-all duration-150 shadow-sm",{"ml-6":i})})})}H1.propTypes={isOn:zt.bool.isRequired,toggle:zt.func.isRequired};function Cx(){const{artworks:i,isLoading:e,hasError:n}=Tg(),[s,o]=H.useState(!1),[u,h]=cf(Bn);return h||e?z.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:z.jsx(hf,{})}):u?n?z.jsx("h2",{children:"There was an error, Peter. Go fix it"}):z.jsx(z.Fragment,{children:z.jsxs("div",{className:"grid grid-rows-auto gap-4 w-full items-center px-12 pt-4",children:[z.jsxs("div",{className:"flex flex-row gap-4",children:[z.jsx("div",{className:"w-72 border border-gray-200 bg-gray-50 rounded items-center justify-center",children:z.jsxs("div",{className:"flex items-center",children:[z.jsx(H1,{isOn:s,toggle:()=>o(m=>!m)}),z.jsx("label",{className:"ms-2 text-sm",children:"Show titles"})]})}),z.jsxs("div",{className:"border border-gray-200 bg-gray-50 rounded flex justify-between w-full pl-8 pr-4 items-center",children:[z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("p",{className:"flex flex-grow",children:["You have ",i.length," ",i.length===1?"artwork":"artworks"," in Tome."]}),z.jsxs("p",{children:["See them",z.jsx("span",{className:"text-blue-500",children:z.jsxs(Js,{to:"/tags",children:[" "," by tag"]})})]})]}),z.jsx(Js,{to:"/new",children:z.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Add an artwork"})})]})]}),z.jsx("div",{className:"grid gap-4 xs:grid-cols-1  sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 w-full",children:i.map(m=>z.jsx("div",{className:"flex flex-col gap-2 items-center border border-gray-300 w-full rounded m-auto",children:z.jsx(Js,{to:`/artwork/${m.id}`,className:"w-full",children:z.jsxs("div",{className:"w-full flex flex-col flex-shrink-0",children:[z.jsx("div",{className:"w-full h-60 flex-shrink-0",children:z.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"})}),s?z.jsx(q1,{children:z.jsx("div",{className:"p-4 truncate",children:m.title})}):""]})})},m.id))})]})}):z.jsx("p",{children:"Please sign in to view your artworks."})}function Ix(){return z.jsxs("div",{className:"flex flex-col min-h-screen w-full p-0 border-red-500",children:[z.jsx(Eg,{className:"w-full"}),z.jsx("div",{className:"flex-grow w-full",children:z.jsx(Cx,{className:"w-full"})})]})}function F1({isOpen:i,onClose:e,children:n,onNext:s,onPrevious:o,hasNext:u,hasPrevious:h}){const[m,p]=H.useState(!1),g=H.useRef(null);if(!i)return null;const E=()=>{p(!0),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>p(!1),4e3)};return z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",onMouseMove:E,onMouseLeave:()=>p(!1),children:z.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[n||z.jsx("p",{className:"text-white",children:"Hm, there's no artwork to see here"}),m&&z.jsxs("div",{className:"fixed inset-0 z-51 w-full h-full",children:[z.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Close"}),u&&z.jsx("button",{onClick:s,disabled:!u,className:"absolute bottom-4 right-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Next"}),h&&z.jsx("button",{onClick:o,disabled:!h,className:"absolute bottom-4 left-4 text-gray-400 px-4 py-2 rounded border border-gray-400 hover:bg-gray-600 active:bg-gray-700",children:"Previous"})]})]})})}F1.propTypes={isOpen:zt.bool.isRequired,onClose:zt.func.isRequired,children:zt.node,onNext:zt.func,onPrevious:zt.func,hasNext:zt.bool,hasPrevious:zt.bool};function Dx(){var D;const i=Bn.currentUser,{id:e}=pg(),{artworks:n}=Tg(),[s,o]=H.useState(!1),u=lf(),h=n.find(k=>k.id===e);if(!h)return z.jsx("p",{children:"Me no find any artworks."});const m=async()=>{i&&(await CD(Ao(Zs,"accounts",i.uid,"artworks",e)),u("/"))},p=n.findIndex(k=>k.id===e),g=p>0,E=p<n.length-1,w=()=>g&&u(`/artwork/${n[p-1].id}`),S=()=>E&&u(`/artwork/${n[p+1].id}`);return z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:"flex flex-col min-h-screen w-full p-0",children:[z.jsx(Eg,{}),z.jsxs("div",{className:"flex flex-row gap-8 h-full p-20",children:[z.jsx("div",{className:"",children:z.jsx("img",{src:h.image,alt:`An artwork titled ${h.title} done in ${h.medium}`,className:"object-contain h-full"})}),z.jsxs("div",{className:"flex flex-col gap-4 w-1/2",children:[z.jsx("h1",{className:"text-4xl",children:h.title}),z.jsx("p",{children:h.medium}),z.jsx("p",{children:`Added ${(D=h.createdAt)==null?void 0:D.toDate().toLocaleString()}`}),z.jsx("h3",{children:"Tags"}),z.jsx("p",{children:h.tags}),z.jsx("div",{className:"flex flex-col items-center justify-center w-full",children:z.jsxs("div",{className:"w-full flex flex-row gap-2 p-2 justify-center",children:[z.jsx(Js,{to:`/edit/${h.id}`,children:z.jsx("button",{className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Edit"})}),z.jsx("button",{onClick:()=>m(),className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Delete"}),z.jsx("button",{onClick:()=>o(!0),className:"border border-gray-400 hover:bg-blue-200 text-gray-800 py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Fullscreen"})]})})]})]})]}),z.jsx(F1,{isOpen:s,onClose:()=>o(!1),onNext:S,onPrevious:w,hasNext:E,hasPrevious:g,children:z.jsx("img",{src:h.image,alt:"Fullscreen artwork",className:"w-full h-full object-contain"})})]})}function G1({selectedValue:i,onChange:e}){const[n,s]=H.useState(!1),[o,u]=H.useState(i),h=["Oil on canvas","Oil on linen","Oil on panel","Oil on paper","Oil on canvas mounted on panel","Watercolor","Ink wash","Gouache","Graphite"],m=p=>{u(p),e({target:{value:p}})};return H.useEffect(()=>{s(!1)},[o]),z.jsxs("div",{className:"relative w-full",children:[z.jsxs("button",{type:"button",onClick:()=>s(!n),className:"inline-flex w-full justify-between rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-gray-300 ring-inset hover:bg-gray-50",children:[o||"Choose a medium",z.jsx("svg",{className:"-mr-1 size-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",children:z.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]}),n&&z.jsx("div",{className:"absolute left-0 z-10 mt-2 w-full rounded-md bg-white border border-gray-200 shadow-lg",children:z.jsx("ul",{className:"py-1 text-sm text-gray-700",children:h.map((p,g)=>z.jsx("li",{children:z.jsx("button",{type:"button",onClick:()=>{m(p)},className:"block w-full px-4 py-2 text-left hover:bg-gray-100",children:p})},g))})})]})}G1.propTypes={selectedValue:zt.string.isRequired,onChange:zt.func.isRequired};function wg({existingData:i}){const e=Bn.currentUser,{id:n}=pg(),s=lf(),[o,u]=H.useState(null),[h,m]=H.useState(null),[p,g]=H.useState(""),[E,w]=H.useState(""),[S,D]=H.useState(""),[k,K]=H.useState(!1);H.useEffect(()=>{i&&(g(i.title||""),w(i.medium||""),D(i.tags||""),m(i.image||""))},[i]);function L(W){const X=W.target.files[0];X&&(u(X),m(URL.createObjectURL(X)))}const Q=async W=>{W.preventDefault();try{let X=h,se;if(o){K(!0);const O=zN(GN,`artworks/${e.uid}/${o.name}`),R=LN(O,o);await new Promise((A,I)=>{R.on("state_changed",null,V=>I(V),async()=>{X=await UN(R.snapshot.ref),m(X),A()})})}const ae={title:p,medium:E,tags:S,image:X,updatedAt:new Date};if(n)await gh(Ao(Zs,"accounts",e.uid,"artworks",n),ae,{merge:!0}),se=n,console.log("Document updated:",n);else{const O=await ID(Ph(Zs,"accounts",e.uid,"artworks"),{...ae,createdAt:new Date});se=O.id,console.log("Doc written, id:",O.id),g(""),w(""),u(null),m(null)}const _e=S?S.split(",").map(O=>O.trim().toLowerCase()):[];for(const O of _e){if(!O)continue;const R=Ao(Zs,"accounts",e.uid,"tags",O),A=await n1(R),I=A.data();A.exists()?await gh(R,{artworks:Array.from(new Set([...I.artworks,se]))},{merge:!0}):await gh(R,{name:O,artworks:[se]})}s("/")}catch(X){console.error("There was a problem:",X)}finally{K(!1)}};return z.jsx(z.Fragment,{children:z.jsx("div",{className:"flex items-center justify-center bg-gray-100 w-full h-svh",children:z.jsx("div",{className:"bg-white shadow-md rounded w-[80%] h-[80%] bg-clip-border overflow-hidden",children:z.jsxs("form",{onSubmit:Q,className:"flex flex-row w-full h-full md:flex-row sm:flex-col xs:flex-col",children:[z.jsxs("div",{className:"flex items-center flex-col justify-center w-1/2 sm:w-full h-full bg-blue-200",children:[z.jsx("img",{src:h}),z.jsx("button",{className:"border border-gray-300 py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:z.jsx("input",{type:"file",onChange:L,className:"border text-blue-600 flex justify-center w-full"})})]}),z.jsxs("div",{className:"w-1/2 space-y-8 p-8 flex flex-col justify-between sm:w-full sm:h-1/2",children:[z.jsxs("div",{className:"flex flex-col gap-x-6 gap-y-8 sm:grid-cols-1",children:[z.jsxs("div",{className:"w-full space-y-6",children:[z.jsx("label",{htmlFor:"artwork-title",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Title"}),z.jsx("input",{type:"text",id:"artwork-title",value:p,onChange:W=>g(W.target.value),className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other"})]}),z.jsx("div",{className:"grid grid-cols-1 gap-y-8 sm:grid-cols-1",children:z.jsxs("div",{className:"w-full space-y-6",children:[z.jsx("label",{htmlFor:"artwork-medium",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Medium"}),z.jsx(G1,{selectedValue:E,onChange:W=>w(W.target.value)})]})}),z.jsxs("div",{className:"w-full space-y-6",children:[z.jsx("label",{htmlFor:"artwork-tags",className:"block text-gray-700 text-sm font-bold mb-2 text-left",children:"Tags"}),z.jsx("input",{type:"text",id:"artwork-tags",value:S,onChange:W=>D(W.target.value),className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other"})]})]}),z.jsxs("div",{className:"flex flex-row w-full gap-4",children:[z.jsx("button",{type:"button",onClick:()=>{n||(g(""),w(""),D(""),u(null),m(null)),s("/")},className:"bg-white border border-gray-300 hover:bg-blue-200 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",children:"Cancel"}),z.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full",disabled:k,children:k?"Uploading...":"Save artwork"})]})]})]})})})})}wg.propTypes={existingData:zt.shape({title:zt.string.isRequired,medium:zt.string,image:zt.string})};function Nx(){const[i]=cf(Bn),{id:e}=pg(),[n,s]=H.useState(null);return H.useEffect(()=>{if(!i){console.log("No authenticated user. Skipping Firestore request.");return}(async()=>{try{const u=Ao(Zs,"accounts",i.uid,"artworks",e),h=await n1(u);h.exists()?s(h.data()):console.log("No such document")}catch(u){console.error("Error fecthing document:",u)}})()},[i,e]),console.log(n),z.jsx(z.Fragment,{children:n?z.jsx(wg,{existingData:n}):z.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:z.jsx(hf,{})})})}const Ox="data:image/svg+xml,%3csvg%20width='57'%20height='61'%20viewBox='0%200%2057%2061'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_30_127)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25.4758%201.13986C26.9956%20-0.379955%2029.4597%20-0.379955%2030.9795%201.13986L43.0878%2013.2481C44.6076%2014.7679%2044.6076%2017.2321%2043.0878%2018.7519L30.9795%2030.8601C29.4597%2032.38%2026.9956%2032.38%2025.4758%2030.8601L13.3675%2018.7519C11.8477%2017.2321%2011.8477%2014.7679%2013.3675%2013.2481L25.4758%201.13986ZM29.8788%202.24062C28.9669%201.32872%2027.4884%201.32872%2026.5765%202.24062L20.642%208.1752C27.0348%206.76875%2033.9881%208.55145%2038.96%2013.5233C40.1954%2014.7588%2041.234%2016.1165%2042.0756%2017.5577C42.8979%2016.6409%2042.8684%2015.2302%2041.987%2014.3489L29.8788%202.24062ZM40.9356%2018.7026C40.1257%2017.2402%2039.1003%2015.8651%2037.8592%2014.6241C32.5772%209.342%2024.8683%207.9658%2018.3217%2010.4955L14.4683%2014.3489C13.5564%2015.2608%2013.5564%2016.7392%2014.4683%2017.6511L15.0218%2018.2046C15.1112%2018.1111%2015.2019%2018.0183%2015.2938%2017.9263C21.8291%2011.3911%2032.4248%2011.3911%2038.96%2017.9263C39.4254%2018.3917%2039.8577%2018.8777%2040.2568%2019.3814L40.9356%2018.7026ZM19.4255%2022.6084L16.1229%2019.3057C16.212%2019.212%2016.3026%2019.1191%2016.3946%2019.0271C22.3219%2013.0998%2031.9319%2013.0998%2037.8592%2019.0271C38.3254%2019.4933%2038.7549%2019.9822%2039.1478%2020.4904L38.0995%2021.5386C32.7479%2017.0245%2024.7381%2017.2881%2019.6969%2022.3293C19.6048%2022.4214%2019.5144%2022.5144%2019.4255%2022.6084ZM36.9942%2022.6439C32.2549%2018.7351%2025.2305%2018.9971%2020.7976%2023.4301C20.7055%2023.5221%2020.6152%2023.6153%2020.5268%2023.7096L23.8297%2027.0125C23.9177%2026.9179%2024.0077%2026.8244%2024.0998%2026.7323C27.1253%2023.7069%2031.5367%2022.912%2035.2904%2024.3478L36.9942%2022.6439ZM26.5765%2029.7594L24.9313%2028.1141C25.0186%2028.019%2025.1084%2027.9253%2025.2006%2027.8331C27.5997%2025.434%2031.0218%2024.6814%2034.0627%2025.5754L29.8788%2029.7594C28.9669%2030.6713%2027.4884%2030.6713%2026.5765%2029.7594Z'%20fill='%23666666'/%3e%3c/g%3e%3cpath%20d='M48.7914%2060.424V49.224H56.3434V51.336H51.1434V58.312H56.4554V60.424H48.7914ZM49.9114%2055.736V53.688H55.5754V55.736H49.9114Z'%20fill='black'/%3e%3cpath%20d='M30.9826%2060.424V49.224H33.1746L37.2386%2055.848L35.8146%2055.832L39.9426%2049.224H42.0546V60.424H39.7026V56.632C39.7026%2055.6613%2039.7239%2054.7867%2039.7666%2054.008C39.8199%2053.2293%2039.9053%2052.4613%2040.0226%2051.704L40.2946%2052.456L37.0146%2057.528H35.9426L32.7426%2052.488L32.9986%2051.704C33.1266%2052.4187%2033.2119%2053.1547%2033.2546%2053.912C33.3079%2054.6693%2033.3346%2055.576%2033.3346%2056.632V60.424H30.9826Z'%20fill='black'/%3e%3cpath%20d='M19.2901%2060.584C18.4688%2060.584%2017.7061%2060.44%2017.0021%2060.152C16.3088%2059.864%2015.7061%2059.464%2015.1941%2058.952C14.6928%2058.4293%2014.2981%2057.816%2014.0101%2057.112C13.7328%2056.408%2013.5941%2055.6347%2013.5941%2054.792C13.5941%2053.96%2013.7328%2053.192%2014.0101%2052.488C14.2981%2051.784%2014.6928%2051.1707%2015.1941%2050.648C15.7061%2050.1253%2016.3088%2049.72%2017.0021%2049.432C17.7061%2049.144%2018.4688%2049%2019.2901%2049C20.1114%2049%2020.8634%2049.144%2021.5461%2049.432C22.2395%2049.72%2022.8421%2050.1253%2023.3541%2050.648C23.8661%2051.1707%2024.2608%2051.7893%2024.5381%2052.504C24.8261%2053.208%2024.9701%2053.9707%2024.9701%2054.792C24.9701%2055.624%2024.8261%2056.392%2024.5381%2057.096C24.2608%2057.8%2023.8661%2058.4133%2023.3541%2058.936C22.8421%2059.4587%2022.2395%2059.864%2021.5461%2060.152C20.8634%2060.44%2020.1114%2060.584%2019.2901%2060.584ZM19.2901%2058.312C19.7594%2058.312%2020.1914%2058.2267%2020.5861%2058.056C20.9808%2057.8747%2021.3221%2057.6293%2021.6101%2057.32C21.9088%2057%2022.1381%2056.6267%2022.2981%2056.2C22.4581%2055.7733%2022.5381%2055.304%2022.5381%2054.792C22.5381%2054.2907%2022.4581%2053.8267%2022.2981%2053.4C22.1381%2052.9733%2021.9088%2052.6%2021.6101%2052.28C21.3221%2051.96%2020.9808%2051.7147%2020.5861%2051.544C20.1914%2051.3627%2019.7594%2051.272%2019.2901%2051.272C18.8208%2051.272%2018.3834%2051.3627%2017.9781%2051.544C17.5834%2051.7147%2017.2368%2051.96%2016.9381%2052.28C16.6501%2052.5893%2016.4261%2052.9627%2016.2661%2053.4C16.1061%2053.8267%2016.0261%2054.296%2016.0261%2054.808C16.0261%2055.48%2016.1648%2056.0827%2016.4421%2056.616C16.7301%2057.1387%2017.1141%2057.5547%2017.5941%2057.864C18.0848%2058.1627%2018.6501%2058.312%2019.2901%2058.312Z'%20fill='black'/%3e%3cpath%20d='M3.232%2060.424V51.384H0V49.224H8.992V51.384H5.632V60.424H3.232Z'%20fill='black'/%3e%3cdefs%3e%3cclipPath%20id='clip0_30_127'%3e%3crect%20width='32'%20height='32'%20fill='white'%20transform='translate(12.2277)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";function xx(){const[i,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(!0),[h,m]=H.useState(""),[p,g]=H.useState(!1),E=async w=>{if(w.preventDefault(),m(""),g(!1),!i.trim()||!n.trim()){m("Error: Email and password cannot be empty.");return}try{let S;if(o){S=await tR(Bn,i,n);const D=S.user,k=HT(),K={useruid:D.uid,email:D.email,createdAt:new Date};await gh(Ao(Ph(k,"accounts"),D.uid),K),console.log("Successful signup: ",D),u(!1),window.location.reload()}else S=await nR(Bn,i,n),console.log("Successful sign in: ",S.user)}catch(S){S.code==="auth/email-already-in-use"&&(m("This email is already in use."),g(!0)),m(`Whoops, there was a problem: ${S.message}`)}};return z.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-[url(././assets/Dec022023Photoshoot-009.jpg)] bg-cover bg-center w-full h-svh",children:z.jsxs("div",{className:"shadow-md rounded-t-lg border-gray-300 bg-clip-border overflow-hidden",children:[z.jsx("div",{className:"flex items-center justify-center w-full h-40 bg-blue-200",children:z.jsx("img",{src:Ox,alt:"Tome Logo",className:"sm"})}),z.jsxs("form",{onSubmit:E,className:"px-8 pt-6 pb-8 mb-4 bg-white rounded-b-lg",children:[z.jsx("h2",{className:"text-xl font-semibold pt-4 pb-8",children:o?"Store your artworks":"Sign into an existing account"}),z.jsxs("div",{className:"mb-6",children:[z.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",htmlFor:"email",children:"Email"}),z.jsx("input",{type:"text",id:"email",className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other",placeholder:"Your email",value:i,onChange:w=>e(w.target.value)})]}),z.jsxs("div",{className:"mb-6",children:[z.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2 text-left",htmlFor:"password",children:"Password"}),z.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","data-form-type":"other",placeholder:"6+ character password",value:n,onChange:w=>s(w.target.value)})]}),h&&z.jsxs("div",{className:"text-sm border border-red-300 text-red-700 bg-red-50 p-4 rounded-md mb-4",children:[h,p&&z.jsxs("p",{className:"mt-2",children:["Did you mean to"," ",z.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-blue-400",children:"sign in"})," ","instead?"]})]}),z.jsxs("div",{className:"flex items-center justify-between gap-8",children:[z.jsxs("p",{className:"text-sm",children:[o?"Already have an account?":"Don't have an account?",z.jsx("button",{type:"button",className:"text-blue-500 hover:underline ml-1",onClick:()=>u(!o),children:o?"Sign In":"Create one"})]}),z.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:o?"Create account":"Sign in"})]})]})]})})}function kx(){const{tags:i,taggedArtworks:e,isLoading:n,hasError:s}=Tg();return n?z.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:z.jsx(hf,{})}):s?z.jsx("div",{children:"Error loading tags."}):z.jsxs("div",{className:"flex h-screen w-full flex-col",children:[z.jsx(Eg,{}),z.jsx("div",{className:"flex flex-col h-screen w-full p-20",children:z.jsxs("div",{children:[z.jsx("h1",{className:"flex text-2xl font-bold w-full mb-8",children:"Tags"}),i.map(o=>{var u;return z.jsxs("div",{className:"flex flex-row border border-gray-200 rounded p-2 my-2 w-full",children:[z.jsx("h2",{className:"text-lg font-semibold w-48 text-left",children:o.name}),z.jsx("div",{className:"flex flex-row justify-center gap-2",children:e[o.id]&&((u=e[o.id])==null?void 0:u.length)>0?e[o.id].map(h=>h?z.jsx("div",{children:z.jsx("img",{src:h.image,alt:h.title,className:"w-16 h-16 object-cover rounded-md shadow"})},h.id):null):z.jsx("p",{children:"This tag does not have any artworks"})})]},o.id)})]})})]})}function Zl({children:i}){const[e]=cf(Bn);return e?i:z.jsx(VO,{to:"/"})}Zl.propTypes={children:zt.node.isRequired};function Mx(){const[i,e]=cf(Bn);return e?z.jsx("div",{className:"flex items-center justify-center w-full h-full min-h-screen",children:z.jsx(hf,{})}):z.jsx(z.Fragment,{children:z.jsx(j1,{children:z.jsx(ox,{children:z.jsxs(LO,{children:[z.jsx(Ys,{path:"/",element:i?z.jsx(Ix,{}):z.jsx(xx,{})}),z.jsx(Ys,{path:"/tags",element:z.jsx(Zl,{children:z.jsx(kx,{})})}),z.jsx(Ys,{path:"/tag/:id"}),z.jsx(Ys,{path:"/artwork/:id",element:z.jsx(Zl,{children:z.jsx(Dx,{})})}),z.jsx(Ys,{path:"/new",element:z.jsx(Zl,{children:z.jsx(wg,{})})}),z.jsx(Ys,{path:"/edit/:id",element:z.jsx(Zl,{children:z.jsx(Nx,{})})})]})})})})}Sb.createRoot(document.getElementById("root")).render(z.jsx(H.StrictMode,{children:z.jsx(Mx,{})}));
